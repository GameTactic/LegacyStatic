var $jscomp={scope:{},getGlobal:function(x){return"undefined"!=typeof window&&window===x?x:"undefined"!=typeof global?global:x}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.patches={};$jscomp.patch=function(x,b){($jscomp.patches[x]=$jscomp.patches[x]||[]).push(b);for(var l=$jscomp.global,h=x.split("."),g=0;g<h.length-1&&l;g++)l=l[h[g]];h=h[h.length-1];l&&l[h]instanceof Function&&(l[h]=b(l[h]))};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global.Symbol){$jscomp.global.Symbol=$jscomp.Symbol;var x=[],b=function(b){return function(h){x=[];h=b(h);for(var g=[],k=0,f=h.length;k<f;k++){var e;a:if(e=h[k],e.length<$jscomp.SYMBOL_PREFIX.length)e=!1;else{for(var d=0;d<$jscomp.SYMBOL_PREFIX.length;d++)if(e[d]!=$jscomp.SYMBOL_PREFIX[d]){e=!1;break a}e=!0}e?x.push(h[k]):g.push(h[k])}return g}};$jscomp.patch("Object.keys",b);$jscomp.patch("Object.getOwnPropertyNames",b);$jscomp.patch("Object.getOwnPropertySymbols",
function(l){return function(h){b.unused=Object.getOwnPropertyNames(h);x.push.apply(l(h));return x}})}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(x){return $jscomp.SYMBOL_PREFIX+x+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};
(function(x){var b=function(b,h){this.init("simplecolorpicker",b,h)};b.prototype={constructor:b,init:function(b,h,g){var k=this;k.type=b;k.$select=x(h);k.$select.hide();k.options=x.extend({},x.fn.simplecolorpicker.defaults,g);k.$colorList=null;!0===k.options.picker?(b=k.$select.find("> option:selected").text(),k.$icon=x('<span class="simplecolorpicker icon" title="'+b+'" style="background-color: '+k.$select.val()+';" role="button" tabindex="0"></span>').insertAfter(k.$select),k.$icon.on("click."+
k.type,x.proxy(k.showPicker,k)),k.$picker=x('<span class="simplecolorpicker picker '+k.options.theme+'"></span>').appendTo(document.body),k.$colorList=k.$picker,x(document).on("mousedown."+k.type,x.proxy(k.hidePicker,k)),k.$picker.on("mousedown."+k.type,x.proxy(k.mousedown,k))):(k.$inline=x('<span class="simplecolorpicker inline '+k.options.theme+'"></span>').insertAfter(k.$select),k.$colorList=k.$inline);k.$select.find("> option").each(function(){var f=x(this),e=f.val(),d=f.is(":selected"),a=f.is(":disabled"),
c="";!0===d&&(c=" data-selected");d="";!0===a&&(d=" data-disabled");var m="";!1===a&&(m=' title="'+f.text()+'"');var p="";!1===a&&(p=' role="button" tabindex="0"');e=x('<span class="color"'+m+' style="background-color: '+e+';" data-color="'+e+'"'+c+d+p+"></span>");k.$colorList.append(e);e.on("click."+k.type,x.proxy(k.colorSpanClicked,k));!0===f.next().is("optgroup")&&k.$colorList.append('<span class="vr"></span>')})},selectColor:function(b){var h=this.$colorList.find("> span.color").filter(function(){return x(this).data("color").toLowerCase()===
b.toLowerCase()});0<h.length?this.selectColorSpan(h):console.error("The given color '"+b+"' could not be found")},showPicker:function(){var b=this.$icon.offset();this.$picker.css({left:b.left-6,top:b.top+this.$icon.outerHeight()});this.$picker.show(this.options.pickerDelay)},hidePicker:function(){this.$picker.hide(this.options.pickerDelay)},selectColorSpan:function(b){var h=b.data("color"),g=b.prop("title");b.siblings().removeAttr("data-selected");b.attr("data-selected","");!0===this.options.picker&&
(this.$icon.css("background-color",h),this.$icon.prop("title",g),this.hidePicker());this.$select.val(h)},colorSpanClicked:function(b){!1===x(b.target).is("[data-disabled]")&&(this.selectColorSpan(x(b.target)),this.$select.trigger("change"))},mousedown:function(b){b.stopPropagation();b.preventDefault()},destroy:function(){!0===this.options.picker&&(this.$icon.off("."+this.type),this.$icon.remove(),x(document).off("."+this.type));this.$colorList.off("."+this.type);this.$colorList.remove();this.$select.removeData(this.type);
this.$select.show()}};x.fn.simplecolorpicker=function(l){var h=x.makeArray(arguments);h.shift();return this.each(function(){var g=x(this),k=g.data("simplecolorpicker"),f="object"===typeof l&&l;void 0===k&&g.data("simplecolorpicker",k=new b(this,f));"string"===typeof l&&k[l].apply(k,h)})};x.fn.simplecolorpicker.defaults={theme:"",picker:!1,pickerDelay:0}})(jQuery);/*
: http://creativecommons.org/publicdomain/zero/1.0/
*/
(function(x){"object"===typeof exports&&"undefined"!==typeof module?module.exports=x():"function"===typeof define&&define.amd?define([],x):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).PIXI=x()})(function(){return function b(l,h,g){function k(d,a){if(!h[d]){if(!l[d]){var c="function"==typeof require&&require;if(!a&&c)return c(d,!0);if(f)return f(d,!0);c=Error("Cannot find module '"+d+"'");throw c.code="MODULE_NOT_FOUND",c;}c=h[d]={exports:{}};
l[d][0].call(c.exports,function(a){var c=l[d][1][a];return k(c?c:a)},c,c.exports,b,l,h,g)}return h[d].exports}for(var f="function"==typeof require&&require,e=0;e<g.length;e++)k(g[e]);return k}({1:[function(b,l,h){function g(f){var e=32;(f&=-f)&&e--;f&65535&&(e-=16);f&16711935&&(e-=8);f&252645135&&(e-=4);f&858993459&&(e-=2);f&1431655765&&--e;return e}"use restrict";h.INT_BITS=32;h.INT_MAX=2147483647;h.INT_MIN=-2147483648;h.sign=function(f){return(0<f)-(0>f)};h.abs=function(f){var e=f>>31;return(f^
e)-e};h.min=function(f,e){return e^(f^e)&-(f<e)};h.max=function(f,e){return f^(f^e)&-(f<e)};h.isPow2=function(f){return!(f&f-1)&&!!f};h.log2=function(f){var e,d;e=(65535<f)<<4;f>>>=e;d=(255<f)<<3;f>>>=d;e|=d;d=(15<f)<<2;f>>>=d;e|=d;d=(3<f)<<1;return e|d|f>>>d>>1};h.log10=function(f){return 1E9<=f?9:1E8<=f?8:1E7<=f?7:1E6<=f?6:1E5<=f?5:1E4<=f?4:1E3<=f?3:100<=f?2:10<=f?1:0};h.popCount=function(f){f-=f>>>1&1431655765;f=(f&858993459)+(f>>>2&858993459);return 16843009*(f+(f>>>4)&252645135)>>>24};h.countTrailingZeros=
g;h.nextPow2=function(f){f+=0===f;--f;f|=f>>>1;f|=f>>>2;f|=f>>>4;f|=f>>>8;return(f|f>>>16)+1};h.prevPow2=function(f){f|=f>>>1;f|=f>>>2;f|=f>>>4;f|=f>>>8;f|=f>>>16;return f-(f>>>1)};h.parity=function(f){f^=f>>>16;f^=f>>>8;return 27030>>>((f^f>>>4)&15)&1};var k=Array(256);(function(f){for(var e=0;256>e;++e){for(var d=e,a=e,c=7,d=d>>>1;d;d>>>=1)a<<=1,a|=d&1,--c;f[e]=a<<c&255}})(k);h.reverse=function(f){return k[f&255]<<24|k[f>>>8&255]<<16|k[f>>>16&255]<<8|k[f>>>24&255]};h.interleave2=function(f,e){f&=
65535;f=(f|f<<8)&16711935;f=(f|f<<4)&252645135;f=(f|f<<2)&858993459;e&=65535;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;return(f|f<<1)&1431655765|((e|e<<1)&1431655765)<<1};h.deinterleave2=function(f,e){f=f>>>e&1431655765;f=(f|f>>>1)&858993459;f=(f|f>>>2)&252645135;f=(f|f>>>4)&16711935;return((f|f>>>16)&65535)<<16>>16};h.interleave3=function(f,e,d){f&=1023;f=(f|f<<16)&4278190335;f=(f|f<<8)&251719695;f=(f|f<<4)&3272356035;e&=1023;e=(e|e<<16)&4278190335;e=(e|e<<8)&251719695;e=(e|e<<
4)&3272356035;d&=1023;d=(d|d<<16)&4278190335;d=(d|d<<8)&251719695;d=(d|d<<4)&3272356035;return(f|f<<2)&1227133513|((e|e<<2)&1227133513)<<1|((d|d<<2)&1227133513)<<2};h.deinterleave3=function(f,e){f=f>>>e&1227133513;f=(f|f>>>2)&3272356035;f=(f|f>>>4)&251719695;f=(f|f>>>8)&4278190335;return((f|f>>>16)&1023)<<22>>22};h.nextCombination=function(f){var e=f|f-1;return e+1|(~e&-~e)-1>>>g(f)+1}},{}],2:[function(b,l,h){function g(c,n,b){b=b||2;var p=n&&n.length,y=p?n[0]*b:c.length,z=k(c,0,y,b,!0),g=[];if(!z)return g;
var h,w,q,l;if(p){var r=b,p=[],t,v,P;l=0;for(t=n.length;l<t;l++)v=n[l]*r,P=l<t-1?n[l+1]*r:c.length,v=k(c,v,P,r,!1),v===v.next&&(v.steiner=!0),p.push(m(v));p.sort(d);for(l=0;l<p.length;l++){n=p[l];r=z;if(r=a(n,r))n=u(r,n),f(n,n.next);z=f(z,z.next)}}if(c.length>80*b){h=q=c[0];w=p=c[1];for(r=b;r<y;r+=b)l=c[r],n=c[r+1],l<h&&(h=l),n<w&&(w=n),l>q&&(q=l),n>p&&(p=n);q=Math.max(q-h,p-w)}e(z,g,b,h,w,q);return g}function k(a,d,c,e,f){var m;if(f===0<v(a,d,c,e))for(f=d;f<c;f+=e)m=q(f,a[f],a[f+1],m);else for(f=
c-e;f>=d;f-=e)m=q(f,a[f],a[f+1],m);m&&y(m,m.next)&&(t(m),m=m.next);return m}function f(a,d){if(!a)return a;d||(d=a);var c=a,e;do if(e=!1,c.steiner||!y(c,c.next)&&0!==n(c.prev,c,c.next))c=c.next;else{t(c);c=d=c.prev;if(c===c.next)return null;e=!0}while(e||c!==d);return d}function e(a,d,m,b,k,g,h){if(a){if(!h&&g){var q=a,l=q;do null===l.z&&(l.z=c(l.x,l.y,b,k,g)),l.prevZ=l.prev,l=l.nextZ=l.next;while(l!==q);l.prevZ.nextZ=null;l.prevZ=null;var q=l,r,v,A,E,D,P,J=1;do{l=q;A=q=null;for(E=0;l;){E++;v=l;for(r=
D=0;r<J&&(D++,v=v.nextZ,v);r++);for(P=J;0<D||0<P&&v;)0===D?(r=v,v=v.nextZ,P--):0!==P&&v?l.z<=v.z?(r=l,l=l.nextZ,D--):(r=v,v=v.nextZ,P--):(r=l,l=l.nextZ,D--),A?A.nextZ=r:q=r,r.prevZ=A,A=r;l=v}A.nextZ=null;J*=2}while(1<E)}for(q=a;a.prev!==a.next;){l=a.prev;v=a.next;if(g)a:{A=a;P=b;var M=k,R=g;E=A.prev;D=A;J=A.next;if(0<=n(E,D,J))A=!1;else{var S=E.x>D.x?E.x>J.x?E.x:J.x:D.x>J.x?D.x:J.x,T=E.y>D.y?E.y>J.y?E.y:J.y:D.y>J.y?D.y:J.y;r=c(E.x<D.x?E.x<J.x?E.x:J.x:D.x<J.x?D.x:J.x,E.y<D.y?E.y<J.y?E.y:J.y:D.y<J.y?
D.y:J.y,P,M,R);P=c(S,T,P,M,R);for(M=A.nextZ;M&&M.z<=P;){if(M!==A.prev&&M!==A.next&&p(E.x,E.y,D.x,D.y,J.x,J.y,M.x,M.y)&&0<=n(M.prev,M,M.next)){A=!1;break a}M=M.nextZ}for(M=A.prevZ;M&&M.z>=r;){if(M!==A.prev&&M!==A.next&&p(E.x,E.y,D.x,D.y,J.x,J.y,M.x,M.y)&&0<=n(M.prev,M,M.next)){A=!1;break a}M=M.prevZ}A=!0}}else a:if(A=a,E=A.prev,D=A,J=A.next,0<=n(E,D,J))A=!1;else{for(r=A.next.next;r!==A.prev;){if(p(E.x,E.y,D.x,D.y,J.x,J.y,r.x,r.y)&&0<=n(r.prev,r,r.next)){A=!1;break a}r=r.next}A=!0}if(A)d.push(l.i/m),
d.push(a.i/m),d.push(v.i/m),t(a),q=a=v.next;else if(a=v,a===q){if(!h)e(f(a),d,m,b,k,g,1);else if(1===h){h=d;q=m;l=a;do v=l.prev,A=l.next.next,!y(v,A)&&z(v,l,l.next,A)&&w(v,A)&&w(A,v)&&(h.push(v.i/q),h.push(l.i/q),h.push(A.i/q),t(l),t(l.next),l=a=A),l=l.next;while(l!==a);a=l;e(a,d,m,b,k,g,2)}else if(2===h)a:{h=a;do{for(q=h.next.next;q!==h.prev;){if(l=h.i!==q.i){l=h;v=q;if(A=l.next.i!==v.i&&l.prev.i!==v.i){b:{A=l;do{if(A.i!==l.i&&A.next.i!==l.i&&A.i!==v.i&&A.next.i!==v.i&&z(A,A.next,l,v)){A=!0;break b}A=
A.next}while(A!==l);A=!1}A=!A}if(A=A&&w(l,v)&&w(v,l)){A=l;E=!1;D=(l.x+v.x)/2;v=(l.y+v.y)/2;do A.y>v!==A.next.y>v&&D<(A.next.x-A.x)*(v-A.y)/(A.next.y-A.y)+A.x&&(E=!E),A=A.next;while(A!==l);A=E}l=A}if(l){a=u(h,q);h=f(h,h.next);a=f(a,a.next);e(h,d,m,b,k,g);e(a,d,m,b,k,g);break a}q=q.next}h=h.next}while(h!==a)}break}}}}function d(a,d){return a.x-d.x}function a(a,d){var c=d,e=a.x,f=a.y,m=-Infinity,n;do{if(f<=c.y&&f>=c.next.y){var b=c.x+(f-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(b<=e&&b>m){m=b;if(b===e){if(f===
c.y)return c;if(f===c.next.y)return c.next}n=c.x<c.next.x?c:c.next}}c=c.next}while(c!==d);if(!n)return null;if(e===m)return n.prev;for(var b=n,y=n.x,k=n.y,z=Infinity,g,c=n.next;c!==b;)e>=c.x&&c.x>=y&&p(f<k?e:m,f,y,k,f<k?m:e,f,c.x,c.y)&&(g=Math.abs(f-c.y)/(e-c.x),(g<z||g===z&&c.x>n.x)&&w(c,a)&&(n=c,z=g)),c=c.next;return n}function c(a,c,d,e,f){a=32767*(a-d)/f;c=32767*(c-e)/f;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;c=(c|c<<8)&16711935;c=(c|c<<4)&252645135;c=(c|c<<2)&858993459;
return(a|a<<1)&1431655765|((c|c<<1)&1431655765)<<1}function m(a){var c=a,d=a;do c.x<d.x&&(d=c),c=c.next;while(c!==a);return d}function p(a,c,d,e,f,m,n,b){return 0<=(f-n)*(c-b)-(a-n)*(m-b)&&0<=(a-n)*(e-b)-(d-n)*(c-b)&&0<=(d-n)*(m-b)-(f-n)*(e-b)}function n(a,c,d){return(c.y-a.y)*(d.x-c.x)-(c.x-a.x)*(d.y-c.y)}function y(a,c){return a.x===c.x&&a.y===c.y}function z(a,c,d,e){return y(a,c)&&y(d,e)||y(a,e)&&y(d,c)?!0:0<n(a,c,d)!==0<n(a,c,e)&&0<n(d,e,a)!==0<n(d,e,c)}function w(a,c){return 0>n(a.prev,a,a.next)?
0<=n(a,c,a.next)&&0<=n(a,a.prev,c):0>n(a,c,a.prev)||0>n(a,a.next,c)}function u(a,c){var d=new r(a.i,a.x,a.y),e=new r(c.i,c.x,c.y),f=a.next,m=c.prev;a.next=c;c.prev=a;d.next=f;f.prev=d;e.next=d;d.prev=e;m.next=e;e.prev=m;return e}function q(a,c,d,e){a=new r(a,c,d);e?(a.next=e.next,a.prev=e,e.next.prev=a,e.next=a):(a.prev=a,a.next=a);return a}function t(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function r(a,c,d){this.i=a;this.x=c;this.y=
d;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function v(a,c,d,e){for(var f=0,m=d-e;c<d;c+=e)f+=(a[m]-a[c])*(a[c+1]+a[m+1]),m=c;return f}l.exports=g;g.deviation=function(a,c,d,e){var f=c&&c.length,m=Math.abs(v(a,0,f?c[0]*d:a.length,d));if(f)for(var f=0,n=c.length;f<n;f++)m-=Math.abs(v(a,c[f]*d,f<n-1?c[f+1]*d:a.length,d));for(f=c=0;f<e.length;f+=3){var n=e[f]*d,b=e[f+1]*d,p=e[f+2]*d;c+=Math.abs((a[n]-a[p])*(a[b+1]-a[n+1])-(a[n]-a[b])*(a[p+1]-a[n+1]))}return 0===m&&0===c?0:
Math.abs((c-m)/m)};g.flatten=function(a){for(var c=a[0][0].length,d={vertices:[],holes:[],dimensions:c},e=0,f=0;f<a.length;f++){for(var m=0;m<a[f].length;m++)for(var n=0;n<c;n++)d.vertices.push(a[f][m][n]);0<f&&(e+=a[f-1].length,d.holes.push(e))}return d}},{}],3:[function(b,l,h){function g(){}function k(a,c,d){this.fn=a;this.context=c;this.once=d||!1}function f(){this._events=new g;this._eventsCount=0}var e=Object.prototype.hasOwnProperty,d="~";Object.create&&(g.prototype=Object.create(null),(new g).__proto__||
(d=!1));f.prototype.eventNames=function(){var a=[],c,f;if(0===this._eventsCount)return a;for(f in c=this._events)e.call(c,f)&&a.push(d?f.slice(1):f);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(c)):a};f.prototype.listeners=function(a,c){var e=this._events[d?d+a:a];if(c)return!!e;if(!e)return[];if(e.fn)return[e.fn];for(var f=0,n=e.length,b=Array(n);f<n;f++)b[f]=e[f].fn;return b};f.prototype.emit=function(a,c,e,f,n,b){var k=d?d+a:a;if(!this._events[k])return!1;var k=this._events[k],
g=arguments.length,h,l;if(k.fn){k.once&&this.removeListener(a,k.fn,void 0,!0);switch(g){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,c),!0;case 3:return k.fn.call(k.context,c,e),!0;case 4:return k.fn.call(k.context,c,e,f),!0;case 5:return k.fn.call(k.context,c,e,f,n),!0;case 6:return k.fn.call(k.context,c,e,f,n,b),!0}l=1;for(h=Array(g-1);l<g;l++)h[l-1]=arguments[l];k.fn.apply(k.context,h)}else{var t=k.length,r;for(l=0;l<t;l++)switch(k[l].once&&this.removeListener(a,k[l].fn,
void 0,!0),g){case 1:k[l].fn.call(k[l].context);break;case 2:k[l].fn.call(k[l].context,c);break;case 3:k[l].fn.call(k[l].context,c,e);break;case 4:k[l].fn.call(k[l].context,c,e,f);break;default:if(!h)for(r=1,h=Array(g-1);r<g;r++)h[r-1]=arguments[r];k[l].fn.apply(k[l].context,h)}}return!0};f.prototype.on=function(a,c,e){c=new k(c,e||this);a=d?d+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],c]:this._events[a].push(c):(this._events[a]=c,this._eventsCount++);return this};f.prototype.once=
function(a,c,e){c=new k(c,e||this,!0);a=d?d+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],c]:this._events[a].push(c):(this._events[a]=c,this._eventsCount++);return this};f.prototype.removeListener=function(a,c,e,f){a=d?d+a:a;if(!this._events[a])return this;if(!c)return 0===--this._eventsCount?this._events=new g:delete this._events[a],this;var n=this._events[a];if(n.fn)n.fn!==c||f&&!n.once||e&&n.context!==e||(0===--this._eventsCount?this._events=new g:delete this._events[a]);
else{for(var b=0,k=[],h=n.length;b<h;b++)(n[b].fn!==c||f&&!n[b].once||e&&n[b].context!==e)&&k.push(n[b]);k.length?this._events[a]=1===k.length?k[0]:k:0===--this._eventsCount?this._events=new g:delete this._events[a]}return this};f.prototype.removeAllListeners=function(a){a?(a=d?d+a:a,this._events[a]&&(0===--this._eventsCount?this._events=new g:delete this._events[a])):(this._events=new g,this._eventsCount=0);return this};f.prototype.off=f.prototype.removeListener;f.prototype.addListener=f.prototype.on;
f.prototype.setMaxListeners=function(){return this};f.prefixed=d;f.EventEmitter=f;"undefined"!==typeof l&&(l.exports=f)},{}],4:[function(b,l,h){(function(b){var k=/iPhone/i,f=/iPod/i,e=/iPad/i,d=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,a=/Android/i,c=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,m=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/IEMobile/i,n=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,y=/BlackBerry/i,z=/BB10/i,h=/Opera Mini/i,u=
/(CriOS|Chrome)(?=.*\bMobile\b)/i,q=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,r=function(b){b=b||navigator.userAgent;var g=b.split("[FBAN");"undefined"!==typeof g[1]&&(b=g[0]);g=b.split("Twitter");"undefined"!==typeof g[1]&&(b=g[0]);this.apple={phone:k.test(b),ipod:f.test(b),tablet:!k.test(b)&&e.test(b),device:k.test(b)||f.test(b)||e.test(b)};this.amazon={phone:c.test(b),tablet:!c.test(b)&&m.test(b),device:c.test(b)||m.test(b)};this.android={phone:c.test(b)||
d.test(b),tablet:!c.test(b)&&!d.test(b)&&(m.test(b)||a.test(b)),device:c.test(b)||m.test(b)||d.test(b)||a.test(b)};this.windows={phone:p.test(b),tablet:n.test(b),device:p.test(b)||n.test(b)};this.other={blackberry:y.test(b),blackberry10:z.test(b),opera:h.test(b),firefox:q.test(b),chrome:u.test(b),device:y.test(b)||z.test(b)||h.test(b)||q.test(b)||u.test(b)};this.seven_inch=t.test(b);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=
this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if("undefined"===typeof window)return this},v=function(){var a=new r;a.Class=r;return a};"undefined"!==typeof l&&l.exports&&"undefined"===typeof window?l.exports=r:"undefined"!==typeof l&&l.exports&&"undefined"!==typeof window?l.exports=v():b.isMobile=v()})(this)},{}],5:[function(b,l,h){var g=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;l.exports=
function(){try{if(!Object.assign)return!1;var f=new String("abc");f[5]="de";if("5"===Object.getOwnPropertyNames(f)[0])return!1;for(var e={},f=0;10>f;f++)e["_"+String.fromCharCode(f)]=f;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(a){return e[a]}).join(""))return!1;var d={};"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},d)).join("")?!1:!0}catch(a){return!1}}()?Object.assign:function(f,e){var d,a;if(null===f||
void 0===f)throw new TypeError("Object.assign cannot be called with null or undefined");a=Object(f);for(var c,m=1;m<arguments.length;m++){d=Object(arguments[m]);for(var b in d)g.call(d,b)&&(a[b]=d[b]);if(Object.getOwnPropertySymbols){c=Object.getOwnPropertySymbols(d);for(var n=0;n<c.length;n++)k.call(d,c[n])&&(a[c[n]]=d[c[n]])}}return a}},{}],6:[function(b,l,h){var g=new ArrayBuffer(0),k=function(f,e,d,a){this.gl=f;this.buffer=f.createBuffer();this.type=e||f.ARRAY_BUFFER;this.drawType=a||f.STATIC_DRAW;
this.data=g;d&&this.upload(d)};k.prototype.upload=function(f,e,d){d||this.bind();d=this.gl;f=f||this.data;this.data.byteLength>=f.byteLength?d.bufferSubData(this.type,e||0,f):d.bufferData(this.type,f,this.drawType);this.data=f};k.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)};k.createVertexBuffer=function(f,e,d){return new k(f,f.ARRAY_BUFFER,e,d)};k.createIndexBuffer=function(f,e,d){return new k(f,f.ELEMENT_ARRAY_BUFFER,e,d)};k.create=function(f,e,d,a){return new k(f,e,a)};k.prototype.destroy=
function(){this.gl.deleteBuffer(this.buffer)};l.exports=k},{}],7:[function(b,l,h){var g=b("./GLTexture"),k=function(f,e,d){this.gl=f;this.framebuffer=f.createFramebuffer();this.texture=this.stencil=null;this.width=e||100;this.height=d||100};k.prototype.enableTexture=function(f){var e=this.gl;this.texture=f||new g(e);this.texture.bind();this.bind();e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)};k.prototype.enableStencil=function(){if(!this.stencil){var f=
this.gl;this.stencil=f.createRenderbuffer();f.bindRenderbuffer(f.RENDERBUFFER,this.stencil);f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,this.stencil);f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,this.width,this.height)}};k.prototype.clear=function(f,e,d,a){this.bind();var c=this.gl;c.clearColor(f,e,d,a);c.clear(c.COLOR_BUFFER_BIT)};k.prototype.bind=function(){var f=this.gl;this.texture&&this.texture.unbind();f.bindFramebuffer(f.FRAMEBUFFER,this.framebuffer)};
k.prototype.unbind=function(){var f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,null)};k.prototype.resize=function(f,e){var d=this.gl;this.width=f;this.height=e;this.texture&&this.texture.uploadData(null,f,e);this.stencil&&(d.bindRenderbuffer(d.RENDERBUFFER,this.stencil),d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_STENCIL,f,e))};k.prototype.destroy=function(){var f=this.gl;this.texture&&this.texture.destroy();f.deleteFramebuffer(this.framebuffer);this.texture=this.stencil=this.gl=null};k.createRGBA=
function(f,e,d){var a=g.fromData(f,null,e,d);a.enableNearestScaling();a.enableWrapClamp();f=new k(f,e,d);f.enableTexture(a);f.unbind();return f};k.createFloat32=function(f,e,d,a){a=new g.fromData(f,a,e,d);a.enableNearestScaling();a.enableWrapClamp();f=new k(f,e,d);f.enableTexture(a);f.unbind();return f};l.exports=k},{"./GLTexture":9}],8:[function(b,l,h){var g=b("./shader/compileProgram"),k=b("./shader/extractAttributes"),f=b("./shader/extractUniforms"),e=b("./shader/generateUniformAccessObject");
b=function(d,a,c){this.gl=d;this.program=g(d,a,c);this.attributes=k(d,this.program);a=f(d,this.program);this.uniforms=e(d,a)};b.prototype.bind=function(){this.gl.useProgram(this.program)};b.prototype.destroy=function(){};l.exports=b},{"./shader/compileProgram":14,"./shader/extractAttributes":16,"./shader/extractUniforms":17,"./shader/generateUniformAccessObject":18}],9:[function(b,l,h){var g=function(f,e,d,a,c){this.gl=f;this.texture=f.createTexture();this.premultiplyAlpha=this.mipmap=!1;this.width=
e||0;this.height=d||0;this.format=a||f.RGBA;this.type=c||f.UNSIGNED_BYTE};g.prototype.upload=function(f){this.bind();var e=this.gl;this.width=f.videoWidth||f.width;this.height=f.videoHeight||f.height;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,f)};var k=!1;g.prototype.uploadData=function(f,e,d){this.bind();var a=this.gl;this.width=e||this.width;this.height=d||this.height;if(f instanceof Float32Array){if(!k)if(a.getExtension("OES_texture_float"))k=
!0;else throw Error("floating point textures not available");this.type=a.FLOAT}else this.type=a.UNSIGNED_BYTE;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);a.texImage2D(a.TEXTURE_2D,0,this.format,this.width,this.height,0,this.format,this.type,f||null)};g.prototype.bind=function(f){var e=this.gl;void 0!==f&&e.activeTexture(e.TEXTURE0+f);e.bindTexture(e.TEXTURE_2D,this.texture)};g.prototype.unbind=function(){var f=this.gl;f.bindTexture(f.TEXTURE_2D,null)};g.prototype.minFilter=
function(f){var e=this.gl;this.bind();this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,f?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,f?e.LINEAR:e.NEAREST)};g.prototype.magFilter=function(f){var e=this.gl;this.bind();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,f?e.LINEAR:e.NEAREST)};g.prototype.enableMipmap=function(){var f=this.gl;this.bind();this.mipmap=!0;f.generateMipmap(f.TEXTURE_2D)};g.prototype.enableLinearScaling=function(){this.minFilter(!0);
this.magFilter(!0)};g.prototype.enableNearestScaling=function(){this.minFilter(!1);this.magFilter(!1)};g.prototype.enableWrapClamp=function(){var f=this.gl;this.bind();f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE)};g.prototype.enableWrapRepeat=function(){var f=this.gl;this.bind();f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT)};g.prototype.enableWrapMirrorRepeat=
function(){var f=this.gl;this.bind();f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.MIRRORED_REPEAT);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.MIRRORED_REPEAT)};g.prototype.destroy=function(){this.gl.deleteTexture(this.texture)};g.fromSource=function(f,e,d){f=new g(f);f.premultiplyAlpha=d||!1;f.upload(e);return f};g.fromData=function(f,e,d,a){f=new g(f);f.uploadData(e,d,a);return f};l.exports=g},{}],10:[function(b,l,h){function g(f,e){this.nativeVaoExtension=null;g.FORCE_NATIVE||(this.nativeVaoExtension=
f.getExtension("OES_vertex_array_object")||f.getExtension("MOZ_OES_vertex_array_object")||f.getExtension("WEBKIT_OES_vertex_array_object"));this.nativeState=e;if(this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var d=f.getParameter(f.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:Array(d),attribState:Array(d)}}this.gl=f;this.attributes=[];this.indexBuffer=null;this.dirty=!1}var k=b("./setVertexAttribArrays");g.prototype.constructor=g;l.exports=g;g.FORCE_NATIVE=
!1;g.prototype.bind=function(){this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate();return this};g.prototype.unbind=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null);return this};g.prototype.activate=function(){for(var f=this.gl,e=null,d=0;d<this.attributes.length;d++){var a=this.attributes[d];e!==a.buffer&&(a.buffer.bind(),e=a.buffer);f.vertexAttribPointer(a.attribute.location,a.attribute.size,
a.type||f.FLOAT,a.normalized||!1,a.stride||0,a.start||0)}k(f,this.attributes,this.nativeState);this.indexBuffer.bind();return this};g.prototype.addAttribute=function(f,e,d,a,c,m){this.attributes.push({buffer:f,attribute:e,location:e.location,type:d||this.gl.FLOAT,normalized:a||!1,stride:c||0,start:m||0});this.dirty=!0;return this};g.prototype.addIndex=function(f){this.indexBuffer=f;this.dirty=!0;return this};g.prototype.clear=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);
this.attributes.length=0;this.indexBuffer=null;return this};g.prototype.draw=function(f,e,d){var a=this.gl;a.drawElements(f,e,a.UNSIGNED_SHORT,d||0);return this};g.prototype.destroy=function(){this.nativeState=this.attributes=this.indexBuffer=this.gl=null;this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);this.nativeVao=this.nativeVaoExtension=null}},{"./setVertexAttribArrays":13}],11:[function(b,l,h){l.exports=function(b,k){var f=b.getContext("webgl",k)||b.getContext("experimental-webgl",
k);if(!f)throw Error("This browser does not support webGL. Try using the canvas renderer");return f}},{}],12:[function(b,l,h){b={createContext:b("./createContext"),setVertexAttribArrays:b("./setVertexAttribArrays"),GLBuffer:b("./GLBuffer"),GLFramebuffer:b("./GLFramebuffer"),GLShader:b("./GLShader"),GLTexture:b("./GLTexture"),VertexArrayObject:b("./VertexArrayObject"),shader:b("./shader")};"undefined"!==typeof l&&l.exports&&(l.exports=b);"undefined"!==typeof window&&(window.pixi={gl:b})},{"./GLBuffer":6,
"./GLFramebuffer":7,"./GLShader":8,"./GLTexture":9,"./VertexArrayObject":10,"./createContext":11,"./setVertexAttribArrays":13,"./shader":19}],13:[function(b,l,h){l.exports=function(b,k,f){var e;if(f){var d=f.tempAttribState,a=f.attribState;for(e=0;e<d.length;e++)d[e]=!1;for(e=0;e<k.length;e++)d[k[e].attribute.location]=!0;for(e=0;e<a.length;e++)a[e]!==d[e]&&(a[e]=d[e],f.attribState[e]?b.enableVertexAttribArray(e):b.disableVertexAttribArray(e))}else for(e=0;e<k.length;e++)b.enableVertexAttribArray(k[e].attribute.location)}},
{}],14:[function(b,l,h){var g=function(b,f,e){f=b.createShader(f);b.shaderSource(f,e);b.compileShader(f);return b.getShaderParameter(f,b.COMPILE_STATUS)?f:(console.log(b.getShaderInfoLog(f)),null)};l.exports=function(b,f,e){f=g(b,b.VERTEX_SHADER,f);e=g(b,b.FRAGMENT_SHADER,e);var d=b.createProgram();b.attachShader(d,f);b.attachShader(d,e);b.linkProgram(d);b.getProgramParameter(d,b.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",b.getProgramParameter(d,
b.VALIDATE_STATUS)),console.error("gl.getError()",b.getError()),""!==b.getProgramInfoLog(d)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",b.getProgramInfoLog(d)),b.deleteProgram(d),d=null);b.deleteShader(f);b.deleteShader(e);return d}},{}],15:[function(b,l,h){var g=function(b){b=Array(b);for(var f=0;f<b.length;f++)b[f]=!1;return b};l.exports=function(b,f){switch(b){case "float":return 0;case "vec2":return new Float32Array(2*f);case "vec3":return new Float32Array(3*f);case "vec4":return new Float32Array(4*
f);case "int":case "sampler2D":return 0;case "ivec2":return new Int32Array(2*f);case "ivec3":return new Int32Array(3*f);case "ivec4":return new Int32Array(4*f);case "bool":return!1;case "bvec2":return g(2*f);case "bvec3":return g(3*f);case "bvec4":return g(4*f);case "mat2":return new Float32Array([1,0,0,1]);case "mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case "mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],16:[function(b,l,h){var g=b("./mapType"),k=b("./mapSize"),
f=function(e,d,a,c){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,d||!1,a||0,c||0)};l.exports=function(e,d){for(var a={},c=e.getProgramParameter(d,e.ACTIVE_ATTRIBUTES),m=0;m<c;m++){var b=e.getActiveAttrib(d,m),n=g(e,b.type);a[b.name]={type:n,size:k(n),location:e.getAttribLocation(d,b.name),pointer:f}}return a}},{"./mapSize":20,"./mapType":21}],17:[function(b,l,h){var g=b("./mapType"),k=b("./defaultValue");l.exports=function(f,e){for(var d={},a=f.getProgramParameter(e,f.ACTIVE_UNIFORMS),
c=0;c<a;c++){var m=f.getActiveUniform(e,c),b=m.name.replace(/\[.*?\]/,""),n=g(f,m.type);d[b]={type:n,size:m.size,location:f.getUniformLocation(e,b),value:k(n,m.size)}}return d}},{"./defaultValue":15,"./mapType":21}],18:[function(b,l,h){var g=function(a){a=f.replace("%%",a);return new Function(a)},k=function(c,f){var b=e.replace(/%%/g,c),n;(n=1===f.size?d[f.type]:a[f.type])&&(b+="\nthis.gl."+n+";");return new Function("value",b)},f="return this.data.%%.value;",e="this.data.%%.value = value;\nvar location = this.data.%%.location;",
d={"float":"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])","int":"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",
bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},a={"float":"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)","int":"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",
ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};l.exports=function(a,d){var e={data:{}};e.gl=a;for(var f=Object.keys(d),b=0;b<f.length;b++){for(var z=f[b],h=z.split("."),l=h[h.length-1],q=e,t=0;t<h.length-1;t++)var r=q[h[t]]||{data:{}},q=q[h[t]]=r;h=q;z=d[z];h.data[l]=z;h.gl=a;Object.defineProperty(h,
l,{get:g(l),set:k(l,z)})}return e}},{}],19:[function(b,l,h){l.exports={compileProgram:b("./compileProgram"),defaultValue:b("./defaultValue"),extractAttributes:b("./extractAttributes"),extractUniforms:b("./extractUniforms"),generateUniformAccessObject:b("./generateUniformAccessObject"),mapSize:b("./mapSize"),mapType:b("./mapType")}},{"./compileProgram":14,"./defaultValue":15,"./extractAttributes":16,"./extractUniforms":17,"./generateUniformAccessObject":18,"./mapSize":20,"./mapType":21}],20:[function(b,
l,h){var g={"float":1,vec2:2,vec3:3,vec4:4,"int":1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};l.exports=function(b){return g[b]}},{}],21:[function(b,l,h){var g=null,k={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};l.exports=function(f,
e){if(!g){var d=Object.keys(k);g={};for(var a=0;a<d.length;++a){var c=d[a];g[f[c]]=k[c]}}return g[e]}},{}],22:[function(b,l,h){(function(b){function k(a,c){for(var d=0,e=a.length-1;0<=e;e--){var f=a[e];"."===f?a.splice(e,1):".."===f?(a.splice(e,1),d++):d&&(a.splice(e,1),d--)}if(c)for(;d--;d)a.unshift("..");return a}function f(a,c){if(a.filter)return a.filter(c);for(var d=[],e=0;e<a.length;e++)c(a[e],e,a)&&d.push(a[e]);return d}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
h.resolve=function(){for(var a="",c=!1,d=arguments.length-1;-1<=d&&!c;d--){var e=0<=d?arguments[d]:b.cwd();if("string"!==typeof e)throw new TypeError("Arguments to path.resolve must be strings");e&&(a=e+"/"+a,c="/"===e.charAt(0))}a=k(f(a.split("/"),function(a){return!!a}),!c).join("/");return(c?"/":"")+a||"."};h.normalize=function(a){var c=h.isAbsolute(a),e="/"===d(a,-1);(a=k(f(a.split("/"),function(a){return!!a}),!c).join("/"))||c||(a=".");a&&e&&(a+="/");return(c?"/":"")+a};h.isAbsolute=function(a){return"/"===
a.charAt(0)};h.join=function(){var a=Array.prototype.slice.call(arguments,0);return h.normalize(f(a,function(a,d){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))};h.relative=function(a,c){function d(a){for(var c=0;c<a.length&&""===a[c];c++);for(var e=a.length-1;0<=e&&""===a[e];e--);return c>e?[]:a.slice(c,e-c+1)}a=h.resolve(a).substr(1);c=h.resolve(c).substr(1);for(var e=d(a.split("/")),f=d(c.split("/")),b=Math.min(e.length,f.length),k=b,
g=0;g<b;g++)if(e[g]!==f[g]){k=g;break}b=[];for(g=k;g<e.length;g++)b.push("..");b=b.concat(f.slice(k));return b.join("/")};h.sep="/";h.delimiter=":";h.dirname=function(a){var c=e.exec(a).slice(1);a=c[0];c=c[1];if(!a&&!c)return".";c&&(c=c.substr(0,c.length-1));return a+c};h.basename=function(a,c){var d=e.exec(a).slice(1)[2];c&&d.substr(-1*c.length)===c&&(d=d.substr(0,d.length-c.length));return d};h.extname=function(a){return e.exec(a).slice(1)[3]};var d="b"==="ab".substr(-1)?function(a,c,d){return a.substr(c,
d)}:function(a,c,d){0>c&&(c=a.length+c);return a.substr(c,d)}}).call(this,b("_process"))},{_process:23}],23:[function(b,l,h){function g(){throw Error("setTimeout has not been defined");}function k(){throw Error("clearTimeout has not been defined");}function f(a){if(p===setTimeout)return setTimeout(a,0);if((p===g||!p)&&setTimeout)return p=setTimeout,setTimeout(a,0);try{return p(a,0)}catch(c){try{return p.call(null,a,0)}catch(d){return p.call(this,a,0)}}}function e(a){if(n===clearTimeout)return clearTimeout(a);
if((n===k||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(a);try{return n(a)}catch(c){try{return n.call(null,a)}catch(d){return n.call(this,a)}}}function d(){z&&w&&(z=!1,w.length?y=w.concat(y):u=-1,y.length&&a())}function a(){if(!z){var a=f(d);z=!0;for(var c=y.length;c;){w=y;for(y=[];++u<c;)w&&w[u].run();u=-1;c=y.length}w=null;z=!1;e(a)}}function c(a,c){this.fun=a;this.array=c}function m(){}b=l.exports={};var p,n;try{p="function"===typeof setTimeout?setTimeout:g}catch(q){p=g}try{n="function"===
typeof clearTimeout?clearTimeout:k}catch(q){n=k}var y=[],z=!1,w,u=-1;b.nextTick=function(d){var e=Array(arguments.length-1);if(1<arguments.length)for(var m=1;m<arguments.length;m++)e[m-1]=arguments[m];y.push(new c(d,e));1!==y.length||z||f(a)};c.prototype.run=function(){this.fun.apply(null,this.array)};b.title="browser";b.browser=!0;b.env={};b.argv=[];b.version="";b.versions={};b.on=m;b.addListener=m;b.once=m;b.off=m;b.removeListener=m;b.removeAllListeners=m;b.emit=m;b.binding=function(a){throw Error("process.binding is not supported");
};b.cwd=function(){return"/"};b.chdir=function(a){throw Error("process.chdir is not supported");};b.umask=function(){return 0}},{}],24:[function(b,l,h){(function(b){(function(k){function f(a){throw new RangeError(v[a]);}function e(a,c){for(var d=a.length,e=[];d--;)e[d]=c(a[d]);return e}function d(a,c){var d=a.split("@"),f="";1<d.length&&(f=d[0]+"@",a=d[1]);a=a.replace(r,".");d=a.split(".");d=e(d,c).join(".");return f+d}function a(a){for(var c=[],d=0,e=a.length,f,m;d<e;)f=a.charCodeAt(d++),55296<=
f&&56319>=f&&d<e?(m=a.charCodeAt(d++),56320==(m&64512)?c.push(((f&1023)<<10)+(m&1023)+65536):(c.push(f),d--)):c.push(f);return c}function c(a){return e(a,function(a){var c="";65535<a&&(a-=65536,c+=H(a>>>10&1023|55296),a=56320|a&1023);return c+=H(a)}).join("")}function m(a,c){return a+22+75*(26>a)-((0!=c)<<5)}function p(a,c,d){var e=0;a=d?B(a/700):a>>1;for(a+=B(a/c);455<a;e+=36)a=B(a/35);return B(e+36*a/(a+38))}function n(a){var d=[],e=a.length,m,b=0,n=128,k=72,y,g,z,h,l;y=a.lastIndexOf("-");0>y&&
(y=0);for(g=0;g<y;++g)128<=a.charCodeAt(g)&&f("not-basic"),d.push(a.charCodeAt(g));for(y=0<y?y+1:0;y<e;){g=b;m=1;for(z=36;;z+=36){y>=e&&f("invalid-input");h=a.charCodeAt(y++);h=10>h-48?h-22:26>h-65?h-65:26>h-97?h-97:36;(36<=h||h>B((2147483647-b)/m))&&f("overflow");b+=h*m;l=z<=k?1:z>=k+26?26:z-k;if(h<l)break;h=36-l;m>B(2147483647/h)&&f("overflow");m*=h}m=d.length+1;k=p(b-g,m,0==g);B(b/m)>2147483647-n&&f("overflow");n+=B(b/m);b%=m;d.splice(b++,0,n)}return c(d)}function y(c){var d,e,b,n,k,y,g,z,h,l=
[],w,u,q;c=a(c);w=c.length;d=128;e=0;k=72;for(y=0;y<w;++y)h=c[y],128>h&&l.push(H(h));for((b=n=l.length)&&l.push("-");b<w;){g=2147483647;for(y=0;y<w;++y)h=c[y],h>=d&&h<g&&(g=h);u=b+1;g-d>B((2147483647-e)/u)&&f("overflow");e+=(g-d)*u;d=g;for(y=0;y<w;++y)if(h=c[y],h<d&&2147483647<++e&&f("overflow"),h==d){z=e;for(g=36;;g+=36){h=g<=k?1:g>=k+26?26:g-k;if(z<h)break;q=z-h;z=36-h;l.push(H(m(h+q%z,0)));z=B(q/z)}l.push(H(m(z,0)));k=p(e,u,b==n);e=0;++b}++e;++d}return l.join("")}var z="object"==typeof h&&h&&!h.nodeType&&
h,w="object"==typeof l&&l&&!l.nodeType&&l,u="object"==typeof b&&b;if(u.global===u||u.window===u||u.self===u)k=u;var q=/^xn--/,t=/[^\x20-\x7E]/,r=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=Math.floor,H=String.fromCharCode,K,u={version:"1.4.1",ucs2:{decode:a,encode:c},decode:n,encode:y,toASCII:function(a){return d(a,function(a){return t.test(a)?"xn--"+y(a):a})},
toUnicode:function(a){return d(a,function(a){return q.test(a)?n(a.slice(4).toLowerCase()):a})}};if(z&&w)if(l.exports==z)w.exports=u;else for(K in u)u.hasOwnProperty(K)&&(z[K]=u[K]);else k.punycode=u})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],25:[function(b,l,h){l.exports=function(b,f,e,d){e=e||"=";var a={};if("string"!==typeof b||0===b.length)return a;var c=/\+/g;b=b.split(f||"&");f=1E3;d&&"number"===typeof d.maxKeys&&
(f=d.maxKeys);d=b.length;0<f&&d>f&&(d=f);for(f=0;f<d;++f){var m=b[f].replace(c,"%20"),p=m.indexOf(e),n;0<=p?(n=m.substr(0,p),m=m.substr(p+1)):(n=m,m="");n=decodeURIComponent(n);m=decodeURIComponent(m);Object.prototype.hasOwnProperty.call(a,n)?g(a[n])?a[n].push(m):a[n]=[a[n],m]:a[n]=m}return a};var g=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)}},{}],26:[function(b,l,h){function g(d,a){if(d.map)return d.map(a);for(var c=[],e=0;e<d.length;e++)c.push(a(d[e],e));
return c}var k=function(d){switch(typeof d){case "string":return d;case "boolean":return d?"true":"false";case "number":return isFinite(d)?d:"";default:return""}};l.exports=function(d,a,c,m){a=a||"&";c=c||"=";null===d&&(d=void 0);return"object"===typeof d?g(e(d),function(e){var m=encodeURIComponent(k(e))+c;return f(d[e])?g(d[e],function(a){return m+encodeURIComponent(k(a))}).join(a):m+encodeURIComponent(k(d[e]))}).join(a):m?encodeURIComponent(k(m))+c+encodeURIComponent(k(d)):""};var f=Array.isArray||
function(d){return"[object Array]"===Object.prototype.toString.call(d)},e=Object.keys||function(d){var a=[],c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&a.push(c);return a}},{}],27:[function(b,l,h){h.decode=h.parse=b("./decode");h.encode=h.stringify=b("./encode")},{"./decode":25,"./encode":26}],28:[function(b,l,h){function g(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function k(a,c,d){if(a&&
e.isObject(a)&&a instanceof g)return a;var f=new g;f.parse(a,c,d);return f}var f=b("punycode"),e=b("./util");h.parse=k;h.resolve=function(a,c){return k(a,!1,!0).resolve(c)};h.resolveObject=function(a,c){return a?k(a,!1,!0).resolveObject(c):c};h.format=function(a){e.isString(a)&&(a=k(a));return a instanceof g?a.format():g.prototype.format.call(a)};h.Url=g;var d=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;l="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var m=["'"].concat(l),
p=["%","/","?",";","#"].concat(m),n=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,z=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},u={javascript:!0,"javascript:":!0},q={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},t=b("querystring");g.prototype.parse=function(a,b,k){if(!e.isString(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var g=a.indexOf("?"),g=-1!==g&&g<a.indexOf("#")?"?":"#";a=a.split(g);a[0]=a[0].replace(/\\/g,
"/");a=a.join(g);g=a.trim();if(!k&&1===a.split("#").length&&(a=c.exec(g)))return this.href=this.path=g,this.pathname=a[1],a[2]?(this.search=a[2],this.query=b?t.parse(this.search.substr(1)):this.search.substr(1)):b&&(this.search="",this.query={}),this;if(a=d.exec(g)){a=a[0];var h=a.toLowerCase();this.protocol=h;g=g.substr(a.length)}if(k||a||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===g.substr(0,2);!l||a&&u[a]||(g=g.substr(2),this.slashes=!0)}if(!u[a]&&(l||a&&!q[a])){l=-1;for(k=0;k<n.length;k++)a=
g.indexOf(n[k]),-1!==a&&(-1===l||a<l)&&(l=a);l=-1===l?g.lastIndexOf("@"):g.lastIndexOf("@",l);-1!==l&&(k=g.slice(0,l),g=g.slice(l+1),this.auth=decodeURIComponent(k));l=-1;for(k=0;k<p.length;k++)a=g.indexOf(p[k]),-1!==a&&(-1===l||a<l)&&(l=a);-1===l&&(l=g.length);this.host=g.slice(0,l);g=g.slice(l);this.parseHost();this.hostname=this.hostname||"";l="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!l){var F=this.hostname.split(/\./);k=0;for(a=F.length;k<a;k++){var I=F[k];if(I&&
!I.match(y)){for(var L="",G=0,Q=I.length;G<Q;G++)L=127<I.charCodeAt(G)?L+"x":L+I[G];if(!L.match(y)){a=F.slice(0,k);k=F.slice(k+1);if(I=I.match(z))a.push(I[1]),k.unshift(I[2]);k.length&&(g="/"+k.join(".")+g);this.hostname=a.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();l||(this.hostname=f.toASCII(this.hostname));k=this.port?":"+this.port:"";this.host=(this.hostname||"")+k;this.href+=this.host;l&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),
"/"!==g[0]&&(g="/"+g))}if(!w[h])for(k=0,a=m.length;k<a;k++)l=m[k],-1!==g.indexOf(l)&&(I=encodeURIComponent(l),I===l&&(I=escape(l)),g=g.split(l).join(I));k=g.indexOf("#");-1!==k&&(this.hash=g.substr(k),g=g.slice(0,k));k=g.indexOf("?");-1!==k?(this.search=g.substr(k),this.query=g.substr(k+1),b&&(this.query=t.parse(this.query)),g=g.slice(0,k)):b&&(this.search="",this.query={});g&&(this.pathname=g);q[h]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)k=this.pathname||
"",this.path=k+(this.search||"");this.href=this.format();return this};g.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var c=this.protocol||"",d=this.pathname||"",f=this.hash||"",m=!1,b="";this.host?m=a+this.host:this.hostname&&(m=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(m+=":"+this.port));this.query&&e.isObject(this.query)&&Object.keys(this.query).length&&(b=t.stringify(this.query));a=this.search||
b&&"?"+b||"";c&&":"!==c.substr(-1)&&(c+=":");this.slashes||(!c||q[c])&&!1!==m?(m="//"+(m||""),d&&"/"!==d.charAt(0)&&(d="/"+d)):m||(m="");f&&"#"!==f.charAt(0)&&(f="#"+f);a&&"?"!==a.charAt(0)&&(a="?"+a);d=d.replace(/[?#]/g,function(a){return encodeURIComponent(a)});a=a.replace("#","%23");return c+m+d+a+f};g.prototype.resolve=function(a){return this.resolveObject(k(a,!1,!0)).format()};g.prototype.resolveObject=function(a){if(e.isString(a)){var c=new g;c.parse(a,!1,!0);a=c}for(var c=new g,d=Object.keys(this),
f=0;f<d.length;f++){var m=d[f];c[m]=this[m]}c.hash=a.hash;if(""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol){d=Object.keys(a);for(f=0;f<d.length;f++)m=d[f],"protocol"!==m&&(c[m]=a[m]);q[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/");c.href=c.format();return c}if(a.protocol&&a.protocol!==c.protocol){if(!q[a.protocol]){d=Object.keys(a);for(f=0;f<d.length;f++)m=d[f],c[m]=a[m];c.href=c.format();return c}c.protocol=a.protocol;if(a.host||u[a.protocol])c.pathname=a.pathname;
else{for(var b=(a.pathname||"").split("/");b.length&&!(a.host=b.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==b[0]&&b.unshift("");2>b.length&&b.unshift("");c.pathname=b.join("/")}c.search=a.search;c.query=a.query;c.host=a.host||"";c.auth=a.auth;c.hostname=a.hostname||a.host;c.port=a.port;if(c.pathname||c.search)c.path=(c.pathname||"")+(c.search||"");c.slashes=c.slashes||a.slashes;c.href=c.format();return c}var d=c.pathname&&"/"===c.pathname.charAt(0),n=a.host||a.pathname&&"/"===
a.pathname.charAt(0),p=d=n||d||c.host&&a.pathname,f=c.pathname&&c.pathname.split("/")||[],b=a.pathname&&a.pathname.split("/")||[];if(m=c.protocol&&!q[c.protocol])c.hostname="",c.port=null,c.host&&(""===f[0]?f[0]=c.host:f.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===b[0]?b[0]=a.host:b.unshift(a.host)),a.host=null),d=d&&(""===b[0]||""===f[0]);if(n)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,
c.query=a.query,f=b;else if(b.length)f||(f=[]),f.pop(),f=f.concat(b),c.search=a.search,c.query=a.query;else if(!e.isNullOrUndefined(a.search))return m&&(c.hostname=c.host=f.shift(),m=c.host&&0<c.host.indexOf("@")?c.host.split("@"):!1)&&(c.auth=m.shift(),c.host=c.hostname=m.shift()),c.search=a.search,c.query=a.query,e.isNull(c.pathname)&&e.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c;if(!f.length)return c.pathname=null,c.path=c.search?"/"+c.search:
null,c.href=c.format(),c;for(var n=f.slice(-1)[0],b=(c.host||a.host||1<f.length)&&("."===n||".."===n)||""===n,k=0,y=f.length;0<=y;y--)n=f[y],"."===n?f.splice(y,1):".."===n?(f.splice(y,1),k++):k&&(f.splice(y,1),k--);if(!d&&!p)for(;k--;k)f.unshift("..");!d||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift("");b&&"/"!==f.join("/").substr(-1)&&f.push("");p=""===f[0]||f[0]&&"/"===f[0].charAt(0);m&&(c.hostname=c.host=p?"":f.length?f.shift():"",m=c.host&&0<c.host.indexOf("@")?c.host.split("@"):!1)&&(c.auth=
m.shift(),c.host=c.hostname=m.shift());(d=d||c.host&&f.length)&&!p&&f.unshift("");f.length?c.pathname=f.join("/"):(c.pathname=null,c.path=null);e.isNull(c.pathname)&&e.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:""));c.auth=a.auth||c.auth;c.slashes=c.slashes||a.slashes;c.href=c.format();return c};g.prototype.parseHost=function(){var c=this.host,d=a.exec(c);d&&(d=d[0],":"!==d&&(this.port=d.substr(1)),c=c.substr(0,c.length-d.length));c&&(this.hostname=c)}},{"./util":29,punycode:24,
querystring:27}],29:[function(b,l,h){l.exports={isString:function(b){return"string"===typeof b},isObject:function(b){return"object"===typeof b&&null!==b},isNull:function(b){return null===b},isNullOrUndefined:function(b){return null==b}}},{}],30:[function(b,l,h){arguments[4][3][0].apply(h,arguments)},{dup:3}],31:[function(b,l,h){l.exports=function(b,k){k=k||{};for(var f="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),e={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}[k.strictMode?"strict":"loose"].exec(b),d={},a=14;a--;)d[f[a]]=e[a]||"";d.queryKey={};d[f[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,e,f){e&&(d.queryKey[e]=f)});return d}},{}],32:[function(b,l,h){function g(a,c){d.call(this);c=c||10;this.baseUrl=a||"";this.progress=0;this.loading=!1;this._progressChunk=
0;this._beforeMiddleware=[];this._afterMiddleware=[];this._boundLoadResource=this._loadResource.bind(this);this._buffer=[];this._numToLoad=0;this._queue=f.queue(this._boundLoadResource,c);this.resources={}}var k=b("parse-uri"),f=b("./async"),e=b("./Resource"),d=b("eventemitter3");g.prototype=Object.create(d.prototype);g.prototype.constructor=g;l.exports=g;g.prototype.add=g.prototype.enqueue=function(a,c,d,f){if(Array.isArray(a)){for(c=0;c<a.length;++c)this.add(a[c]);return this}"object"===typeof a&&
(f=c||a.callback||a.onComplete,d=a,c=a.url,a=a.name||a.key||a.url);"string"!==typeof c&&(f=d,d=c,c=a);if("string"!==typeof c)throw Error("No url passed to add resource to loader.");"function"===typeof d&&(f=d,d=null);if(this.resources[a])throw Error('Resource with name "'+a+'" already exists.');c=this._prepareUrl(c);this.resources[a]=new e(a,c,d);if("function"===typeof f)this.resources[a].once("afterMiddleware",f);this._numToLoad++;this._queue.started?(this._queue.push(this.resources[a]),this._progressChunk=
(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[a]),this._progressChunk=100/this._buffer.length);return this};g.prototype.before=g.prototype.pre=function(a){this._beforeMiddleware.push(a);return this};g.prototype.after=g.prototype.use=function(a){this._afterMiddleware.push(a);return this};g.prototype.reset=function(){this.progress=0;this.loading=!1;this._progressChunk=0;this._numToLoad=this._buffer.length=0;this._queue.kill();this._queue.started=
!1;for(var a in this.resources){var c=this.resources[a];c.off("complete",this._onLoad,this);c.isLoading&&c.abort()}this.resources={};return this};g.prototype.load=function(a){if("function"===typeof a)this.once("complete",a);if(this._queue.started)return this;this.emit("start",this);this.loading=!0;for(a=0;a<this._buffer.length;++a)this._queue.push(this._buffer[a]);this._buffer.length=0;return this};g.prototype._prepareUrl=function(a){var c=k(a,{strictMode:!0});return c.protocol||!c.path||0===c.path.indexOf("//")?
a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==a.charAt(0)?this.baseUrl+"/"+a:this.baseUrl+a};g.prototype._loadResource=function(a,c){var d=this;a._dequeue=c;f.eachSeries(this._beforeMiddleware,function(c,e){c.call(d,a,function(){e(a.isComplete?{}:null)})},function(){a.isComplete?d._onLoad(a):(a.once("complete",d._onLoad,d),a.load())})};g.prototype._onComplete=function(){this.loading=!1;this.emit("complete",this,this.resources)};g.prototype._onLoad=function(a){var c=
this;f.eachSeries(this._afterMiddleware,function(d,e){d.call(c,a,e)},function(){a.emit("afterMiddleware",a);c._numToLoad--;c.progress+=c._progressChunk;c.emit("progress",c,a);a.error?c.emit("error",a.error,c,a):c.emit("load",c,a);0===c._numToLoad&&(c.progress=100,c._onComplete())});a._dequeue()};g.LOAD_TYPE=e.LOAD_TYPE;g.XHR_RESPONSE_TYPE=e.XHR_RESPONSE_TYPE},{"./Resource":33,"./async":34,eventemitter3:30,"parse-uri":31}],33:[function(b,l,h){function g(a,c,d){e.call(this);d=d||{};if("string"!==typeof a||
"string"!==typeof c)throw Error("Both name and url are required for constructing a resource.");this.name=a;this.url=c;this.isDataUrl=0===this.url.indexOf("data:");this.data=null;this.crossOrigin=!0===d.crossOrigin?"anonymous":d.crossOrigin;this.loadType=d.loadType||this._determineLoadType();this.xhrType=d.xhrType;this.metadata=d.metadata||{};this.xhr=this.error=null;this.isLoading=this.isComplete=this.isVideo=this.isAudio=this.isImage=this.isXml=this.isJson=!1;this._dequeue=null;this._boundComplete=
this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function k(a){return a.toString().replace("object ","")}function f(a,c,d){c&&0===c.indexOf(".")&&(c=c.substring(1));c&&(a[c]=d)}var e=b("eventemitter3"),d=b("parse-uri"),a=!(!window.XDomainRequest||
"withCredentials"in new XMLHttpRequest),c=null;g.prototype=Object.create(e.prototype);g.prototype.constructor=g;l.exports=g;g.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1));this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",
this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null));if(this.isComplete)throw Error("Complete called again for an already completed resource.");this.isComplete=!0;this.isLoading=!1;this.emit("complete",this)};g.prototype.abort=function(a){if(!this.error){this.error=
Error(a);if(this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if("undefined"!==typeof this.data.src)this.data.src="";else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}};g.prototype.load=function(c){if(!this.isLoading)if(this.isComplete){if(c){var d=this;setTimeout(function(){c(d)},1)}}else{if(c)this.once("complete",c);this.isLoading=!0;this.emit("start",this);if(!1===this.crossOrigin||"string"!==typeof this.crossOrigin)this.crossOrigin=
this._determineCrossOrigin(this.url);switch(this.loadType){case g.LOAD_TYPE.IMAGE:this._loadElement("image");break;case g.LOAD_TYPE.AUDIO:this._loadSourceElement("audio");break;case g.LOAD_TYPE.VIDEO:this._loadSourceElement("video");break;default:a&&this.crossOrigin?this._loadXdr():this._loadXhr()}}};g.prototype._loadElement=function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===a&&"undefined"!==typeof window.Image?new Image:document.createElement(a);this.crossOrigin&&
(this.data.crossOrigin=this.crossOrigin);this.metadata.skipSource||(this.data.src=this.url);a="is"+a[0].toUpperCase()+a.substring(1);!1===this[a]&&(this[a]=!0);this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1)};g.prototype._loadSourceElement=function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===a&&"undefined"!==typeof window.Audio?new Audio:
document.createElement(a);if(null===this.data)this.abort("Unsupported element "+a);else{if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var c=0;c<this.url.length;++c)this.data.appendChild(this._createSource(a,this.url[c]));else this.data.appendChild(this._createSource(a,this.url));this["is"+a[0].toUpperCase()+a.substring(1)]=!0;this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",
this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.data.addEventListener("canplaythrough",this._boundComplete,!1);this.data.load()}};g.prototype._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XMLHttpRequest;a.open("GET",this.url,!0);a.responseType=this.xhrType===g.XHR_RESPONSE_TYPE.JSON||this.xhrType===g.XHR_RESPONSE_TYPE.DOCUMENT?g.XHR_RESPONSE_TYPE.TEXT:this.xhrType;a.addEventListener("error",
this._boundXhrOnError,!1);a.addEventListener("abort",this._boundXhrOnAbort,!1);a.addEventListener("progress",this._boundOnProgress,!1);a.addEventListener("load",this._boundXhrOnLoad,!1);a.send()};g.prototype._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest;a.timeout=5E3;a.onerror=this._boundXhrOnError;a.ontimeout=this._boundXdrOnTimeout;a.onprogress=this._boundOnProgress;a.onload=this._boundXhrOnLoad;a.open("GET",this.url,
!0);setTimeout(function(){a.send()},0)};g.prototype._createSource=function(a,c,d){d||(d=a+"/"+c.substr(c.lastIndexOf(".")+1));a=document.createElement("source");a.src=c;a.type=d;return a};g.prototype._onError=function(a){this.abort("Failed to load element using "+a.target.nodeName)};g.prototype._onProgress=function(a){a&&a.lengthComputable&&this.emit("progress",this,a.loaded/a.total)};g.prototype._xhrOnError=function(){var a=this.xhr;this.abort(k(a)+" Request failed. Status: "+a.status+', text: "'+
a.statusText+'"')};g.prototype._xhrOnAbort=function(){this.abort(k(this.xhr)+" Request was aborted by the user.")};g.prototype._xdrOnTimeout=function(){this.abort(k(this.xhr)+" Request timed out.")};g.prototype._xhrOnLoad=function(){var a=this.xhr,c="undefined"===typeof a.status?a.status:200;if(200===c||204===c||0===c&&0<a.responseText.length){if(this.xhrType===g.XHR_RESPONSE_TYPE.TEXT)this.data=a.responseText;else if(this.xhrType===g.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(a.responseText),
this.isJson=!0}catch(d){this.abort("Error trying to parse loaded json:",d);return}else if(this.xhrType===g.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser)this.data=(new DOMParser).parseFromString(a.responseText,"text/xml");else{var e=document.createElement("div");e.innerHTML=a.responseText;this.data=e}this.isXml=!0}catch(d){this.abort("Error trying to parse loaded xml:",d);return}else this.data=a.response||a.responseText;this.complete()}else this.abort("["+a.status+"]"+a.statusText+":"+a.responseURL)};
g.prototype._determineCrossOrigin=function(a,e){if(0===a.indexOf("data:"))return"";e=e||window.location;c||(c=document.createElement("a"));c.href=a;a=d(c.href,{strictMode:!0});var f=!a.port&&""===e.port||a.port===e.port,b=a.protocol?a.protocol+":":"";return a.host===e.hostname&&f&&b===e.protocol?"":"anonymous"};g.prototype._determineXhrType=function(){return g._xhrTypeMap[this._getExtension()]||g.XHR_RESPONSE_TYPE.TEXT};g.prototype._determineLoadType=function(){return g._loadTypeMap[this._getExtension()]||
g.LOAD_TYPE.XHR};g.prototype._getExtension=function(){var a=this.url;if(this.isDataUrl)var c=a.indexOf("/"),a=a.substring(c+1,a.indexOf(";",c));else c=a.indexOf("?"),-1!==c&&(a=a.substring(0,c)),a=a.substring(a.lastIndexOf(".")+1);return a.toLowerCase()};g.prototype._getMimeFromXhrType=function(a){switch(a){case g.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case g.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case g.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case g.XHR_RESPONSE_TYPE.JSON:return"application/json";
default:return"text/plain"}};g.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};g.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};g._loadTypeMap={gif:g.LOAD_TYPE.IMAGE,png:g.LOAD_TYPE.IMAGE,bmp:g.LOAD_TYPE.IMAGE,jpg:g.LOAD_TYPE.IMAGE,jpeg:g.LOAD_TYPE.IMAGE,tif:g.LOAD_TYPE.IMAGE,tiff:g.LOAD_TYPE.IMAGE,webp:g.LOAD_TYPE.IMAGE,tga:g.LOAD_TYPE.IMAGE,"svg+xml":g.LOAD_TYPE.IMAGE};g._xhrTypeMap={xhtml:g.XHR_RESPONSE_TYPE.DOCUMENT,html:g.XHR_RESPONSE_TYPE.DOCUMENT,
htm:g.XHR_RESPONSE_TYPE.DOCUMENT,xml:g.XHR_RESPONSE_TYPE.DOCUMENT,tmx:g.XHR_RESPONSE_TYPE.DOCUMENT,tsx:g.XHR_RESPONSE_TYPE.DOCUMENT,svg:g.XHR_RESPONSE_TYPE.DOCUMENT,gif:g.XHR_RESPONSE_TYPE.BLOB,png:g.XHR_RESPONSE_TYPE.BLOB,bmp:g.XHR_RESPONSE_TYPE.BLOB,jpg:g.XHR_RESPONSE_TYPE.BLOB,jpeg:g.XHR_RESPONSE_TYPE.BLOB,tif:g.XHR_RESPONSE_TYPE.BLOB,tiff:g.XHR_RESPONSE_TYPE.BLOB,webp:g.XHR_RESPONSE_TYPE.BLOB,tga:g.XHR_RESPONSE_TYPE.BLOB,json:g.XHR_RESPONSE_TYPE.JSON,text:g.XHR_RESPONSE_TYPE.TEXT,txt:g.XHR_RESPONSE_TYPE.TEXT};
g.setExtensionLoadType=function(a,c){f(g._loadTypeMap,a,c)};g.setExtensionXhrType=function(a,c){f(g._xhrTypeMap,a,c)}},{eventemitter3:30,"parse-uri":31}],34:[function(b,l,h){function g(){}function k(f){return function(){if(null===f)throw Error("Callback was already called.");var e=f;f=null;e.apply(this,arguments)}}l.exports={eachSeries:function(f,e,d){var a=0,c=f.length;(function p(b){b||a===c?d&&d(b):e(f[a++],p)})()},queue:function(f,e){function d(a,c,d){if(null!=d&&"function"!==typeof d)throw Error("task callback must be a function");
m.started=!0;null==a&&m.idle()?setTimeout(function(){m.drain()},1):(a={data:a,callback:"function"===typeof d?d:g},c?m._tasks.unshift(a):m._tasks.push(a),setTimeout(function(){m.process()},1))}function a(a){return function(){--c;a.callback.apply(a,arguments);null!=arguments[0]&&m.error(arguments[0],a.data);c<=m.concurrency-m.buffer&&m.unsaturated();m.idle()&&m.drain();m.process()}}if(null==e)e=1;else if(0===e)throw Error("Concurrency must not be zero");var c=0,m={_tasks:[],concurrency:e,saturated:g,
unsaturated:g,buffer:e/4,empty:g,drain:g,error:g,started:!1,paused:!1,push:function(a,c){d(a,!1,c)},kill:function(){m.drain=g;m._tasks=[]},unshift:function(a,c){d(a,!0,c)},process:function(){for(;!m.paused&&c<m.concurrency&&m._tasks.length;){var d=m._tasks.shift();0===m._tasks.length&&m.empty();c+=1;c===m.concurrency&&m.saturated();f(d.data,k(a(d)))}},length:function(){return m._tasks.length},running:function(){return c},idle:function(){return 0===m._tasks.length+c},pause:function(){!0!==m.paused&&
(m.paused=!0)},resume:function(){if(!1!==m.paused){m.paused=!1;for(var a=1;a<=m.concurrency;a++)m.process()}}};return m}}},{}],35:[function(b,l,h){l.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(b){for(var k="",f,e=Array(4),d=0,a;d<b.length;){f=Array(3);for(a=0;a<f.length;a++)f[a]=d<b.length?b.charCodeAt(d++)&255:0;e[0]=f[0]>>2;e[1]=(f[0]&3)<<4|f[1]>>4;e[2]=(f[1]&15)<<2|f[2]>>6;e[3]=f[2]&63;f=d-(b.length-1);switch(f){case 2:e[3]=64;e[2]=
64;break;case 1:e[3]=64}for(a=0;a<e.length;a++)k+=this._keyStr.charAt(e[a])}return k}}},{}],36:[function(b,l,h){l.exports=b("./Loader");l.exports.Resource=b("./Resource");l.exports.middleware={caching:{memory:b("./middlewares/caching/memory")},parsing:{blob:b("./middlewares/parsing/blob")}};l.exports.async=b("./async")},{"./Loader":32,"./Resource":33,"./async":34,"./middlewares/caching/memory":37,"./middlewares/parsing/blob":38}],37:[function(b,l,h){var g={};l.exports=function(){return function(b,
f){if(g[b.url])b.data=g[b.url],b.complete();else b.once("complete",function(){g[this.url]=this.data});f()}}},{}],38:[function(b,l,h){var g=b("../../Resource"),k=b("../../b64"),f=window.URL||window.webkitURL;l.exports=function(){return function(e,d){if(e.data&&e.xhr&&e.xhrType===g.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||"string"===typeof e.data){var a=e.xhr.getResponseHeader("content-type");if(a&&0===a.indexOf("image")){e.data=new Image;e.data.src="data:"+a+";base64,"+k.encodeBinary(e.xhr.responseText);
e.isImage=!0;e.data.onload=function(){e.data.onload=null;d()};return}}else if(0===e.data.type.indexOf("image")){var c=f.createObjectURL(e.data);e.blob=e.data;e.data=new Image;e.data.src=c;e.isImage=!0;e.data.onload=function(){f.revokeObjectURL(c);e.data.onload=null;d()};return}d()}}},{"../../Resource":33,"../../b64":35}],39:[function(b,l,h){h.__esModule=!0;var g=function(f){if(f&&f.__esModule)return f;var e={};if(null!=f)for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(e[d]=f[d]);e["default"]=
f;return e}(b("../core")),k=(l=b("ismobilejs"))&&l.__esModule?l:{"default":l};b=b("./accessibleTarget");Object.assign(g.DisplayObject.prototype,(b&&b.__esModule?b:{"default":b})["default"]);b=function(){function f(e){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");!k["default"].tablet&&!k["default"].phone||navigator.isCocoonJS||this.createTouchHook();var d=document.createElement("div");d.style.width="100px";d.style.height="100px";d.style.position="absolute";d.style.top=
"0px";d.style.left="0px";d.style.zIndex=2;this.div=d;this.pool=[];this.renderId=0;this.debug=!1;this.renderer=e;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isMobileAccessabillity=this.isActive=!1;window.addEventListener("keydown",this._onKeyDown,!1)}f.prototype.createTouchHook=function(){var e=this,d=document.createElement("button");d.style.width="1px";d.style.height="1px";d.style.position="absolute";d.style.top="-1000px";d.style.left=
"-1000px";d.style.zIndex=2;d.style.backgroundColor="#FF0000";d.title="HOOK DIV";d.addEventListener("focus",function(){e.isMobileAccessabillity=!0;e.activate();document.body.removeChild(d)});document.body.appendChild(d)};f.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))};
f.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))};f.prototype.updateAccessibleObjects=function(e){if(e.visible){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);e=e.children;for(var d=
e.length-1;0<=d;d--)this.updateAccessibleObjects(e[d])}};f.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),d=e.width/this.renderer.width,a=e.height/this.renderer.height,c=this.div;c.style.left=e.left+"px";c.style.top=e.top+"px";c.style.width=this.renderer.width+"px";c.style.height=this.renderer.height+"px";for(e=0;e<this.children.length;e++){var f=this.children[e];if(f.renderId!==
this.renderId)f._accessibleActive=!1,g.utils.removeItems(this.children,e,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,e--,0===this.children.length&&this.deactivate();else{var c=f._accessibleDiv,b=f.hitArea,n=f.worldTransform;f.hitArea?(c.style.left=(n.tx+b.x*n.a)*d+"px",c.style.top=(n.ty+b.y*n.d)*a+"px",c.style.width=b.width*n.a*d+"px",c.style.height=b.height*n.d*a+"px"):(b=f.getBounds(),this.capHitArea(b),c.style.left=b.x*d+"px",c.style.top=b.y*
a+"px",c.style.width=b.width*d+"px",c.style.height=b.height*a+"px")}}this.renderId++}};f.prototype.capHitArea=function(e){0>e.x&&(e.width+=e.x,e.x=0);0>e.y&&(e.height+=e.y,e.y=0);e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x);e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)};f.prototype.addChild=function(e){var d=this.pool.pop();d||(d=document.createElement("button"),d.style.width="100px",d.style.height="100px",d.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":
"transparent",d.style.position="absolute",d.style.zIndex=2,d.style.borderStyle="none",d.addEventListener("click",this._onClick.bind(this)),d.addEventListener("focus",this._onFocus.bind(this)),d.addEventListener("focusout",this._onFocusOut.bind(this)));e.accessibleTitle?d.title=e.accessibleTitle:e.accessibleTitle||e.accessibleHint||(d.title="displayObject "+this.tabIndex);e.accessibleHint&&d.setAttribute("aria-label",e.accessibleHint);e._accessibleActive=!0;e._accessibleDiv=d;d.displayObject=e;this.children.push(e);
this.div.appendChild(e._accessibleDiv);e._accessibleDiv.tabIndex=e.tabIndex};f.prototype._onClick=function(e){var d=this.renderer.plugins.interaction;d.dispatchEvent(e.target.displayObject,"click",d.eventData)};f.prototype._onFocus=function(e){var d=this.renderer.plugins.interaction;d.dispatchEvent(e.target.displayObject,"mouseover",d.eventData)};f.prototype._onFocusOut=function(e){var d=this.renderer.plugins.interaction;d.dispatchEvent(e.target.displayObject,"mouseout",d.eventData)};f.prototype._onKeyDown=
function(e){9===e.keyCode&&this.activate()};f.prototype._onMouseMove=function(){this.deactivate()};f.prototype.destroy=function(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("keydown",this._onKeyDown);this.renderer=this.children=this.pool=null};return f}();h["default"]=b;g.WebGLRenderer.registerPlugin("accessibility",b);g.CanvasRenderer.registerPlugin("accessibility",b)},
{"../core":62,"./accessibleTarget":40,ismobilejs:4}],40:[function(b,l,h){h.__esModule=!0;h["default"]={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],41:[function(b,l,h){h.__esModule=!0;var g=b("./accessibleTarget");Object.defineProperty(h,"accessibleTarget",{enumerable:!0,get:function(){return(g&&g.__esModule?g:{"default":g})["default"]}});var k=b("./AccessibilityManager");Object.defineProperty(h,"AccessibilityManager",{enumerable:!0,
get:function(){return(k&&k.__esModule?k:{"default":k})["default"]}})},{"./AccessibilityManager":39,"./accessibleTarget":40}],42:[function(b,l,h){function g(e,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);e.prototype=Object.create(d&&d.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(e,d):e.__proto__=d)}function k(e){if(e instanceof Array)"precision"!==
e[0].substring(0,9)&&(e=e.slice(0),e.unshift("precision "+f.PRECISION.DEFAULT+" float;"));else if("precision"!==e.substring(0,9))return"precision "+f.PRECISION.DEFAULT+" float;\n"+e;return e}h.__esModule=!0;l=b("pixi-gl-core");var f=b("./const");b=function(e){function d(a,c,f){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=e.call(this,a,k(c),k(f));if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==
typeof a&&"function"!==typeof a?this:a}g(d,e);return d}(l.GLShader);h["default"]=b},{"./const":43,"pixi-gl-core":12}],43:[function(b,l,h){h.__esModule=!0;h.SPRITE_MAX_TEXTURES=h.SPRITE_BATCH_SIZE=h.TEXT_GRADIENT=h.TRANSFORM_MODE=h.PRECISION=h.SHAPES=h.SVG_SIZE=h.DATA_URI=h.URL_FILE_EXTENSION=h.DEFAULT_RENDER_OPTIONS=h.FILTER_RESOLUTION=h.RESOLUTION=h.RETINA_PREFIX=h.MIPMAP_TEXTURES=h.GC_MODES=h.WRAP_MODES=h.SCALE_MODES=h.DRAW_MODES=h.BLEND_MODES=h.RENDERER_TYPE=h.TARGET_FPMS=h.DEG_TO_RAD=h.RAD_TO_DEG=
h.PI_2=h.VERSION=void 0;b=(b=b("./utils/maxRecommendedTextures"))&&b.__esModule?b:{"default":b};h.VERSION="4.1.1";h.PI_2=2*Math.PI;h.RAD_TO_DEG=180/Math.PI;h.DEG_TO_RAD=Math.PI/180;h.TARGET_FPMS=.06;h.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2};h.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16};h.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,
TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};h.SCALE_MODES={DEFAULT:0,LINEAR:0,NEAREST:1};h.WRAP_MODES={DEFAULT:0,CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2};h.GC_MODES={DEFAULT:0,AUTO:0,MANUAL:1};h.MIPMAP_TEXTURES=!0;h.RETINA_PREFIX=/@(.+)x/;h.RESOLUTION=1;h.FILTER_RESOLUTION=1;h.DEFAULT_RENDER_OPTIONS={view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1};h.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i;h.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i;
h.SVG_SIZE=/<svg[^>]*(?:\s(width|height)="(\d*(?:\.\d+)?)(?:px)?")[^>]*(?:\s(width|height)="(\d*(?:\.\d+)?)(?:px)?")[^>]*>/i;h.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4};h.PRECISION={DEFAULT:"mediump",LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};h.TRANSFORM_MODE={DEFAULT:0,STATIC:0,DYNAMIC:1};h.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1};h.SPRITE_BATCH_SIZE=4096;h.SPRITE_MAX_TEXTURES=(0,b["default"])(32)},{"./utils/maxRecommendedTextures":117}],44:[function(b,l,h){h.__esModule=!0;var g=b("../math");
b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity;this.rect=null}b.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};b.prototype.clear=function(){this.updateID++;this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity};b.prototype.getRectangle=function(f){if(this.minX>this.maxX||this.minY>this.maxY)return g.Rectangle.EMPTY;f=f||new g.Rectangle(0,0,1,1);
f.x=this.minX;f.y=this.minY;f.width=this.maxX-this.minX;f.height=this.maxY-this.minY;return f};b.prototype.addPoint=function(f){this.minX=Math.min(this.minX,f.x);this.maxX=Math.max(this.maxX,f.x);this.minY=Math.min(this.minY,f.y);this.maxY=Math.max(this.maxY,f.y)};b.prototype.addQuad=function(f){var e=this.minX,d=this.minY,a=this.maxX,c=this.maxY,b=f[0],p=f[1],e=b<e?b:e,d=p<d?p:d,a=b>a?b:a,c=p>c?p:c,b=f[2],p=f[3],e=b<e?b:e,d=p<d?p:d,a=b>a?b:a,c=p>c?p:c,b=f[4],p=f[5],e=b<e?b:e,d=p<d?p:d,a=b>a?b:a,
c=p>c?p:c,b=f[6],p=f[7];this.minX=b<e?b:e;this.minY=p<d?p:d;this.maxX=b>a?b:a;this.maxY=p>c?p:c};b.prototype.addFrame=function(f,e,d,a,c){var b=f.worldTransform;f=b.a;var p=b.b,n=b.c,k=b.d,g=b.tx,b=b.ty,h=this.minX,l=this.minY,q=this.maxX,t=this.maxY,r=f*e+n*d+g,v=p*e+k*d+b,h=r<h?r:h,l=v<l?v:l,q=r>q?r:q,t=v>t?v:t,r=f*a+n*d+g,v=p*a+k*d+b,h=r<h?r:h,l=v<l?v:l,q=r>q?r:q,t=v>t?v:t,r=f*e+n*c+g,v=p*e+k*c+b,h=r<h?r:h,l=v<l?v:l,q=r>q?r:q,t=v>t?v:t,r=f*a+n*c+g,v=p*a+k*c+b;this.minX=r<h?r:h;this.minY=v<l?v:
l;this.maxX=r>q?r:q;this.maxY=v>t?v:t};b.prototype.addVertices=function(f,e,d,a){var c=f.worldTransform;f=c.a;for(var b=c.b,p=c.c,n=c.d,k=c.tx,c=c.ty,g=this.minX,h=this.minY,l=this.maxX,q=this.maxY;d<a;d+=2)var t=e[d],r=e[d+1],v=f*t+p*r+k,t=n*r+b*t+c,g=v<g?v:g,h=t<h?t:h,l=v>l?v:l,q=t>q?t:q;this.minX=g;this.minY=h;this.maxX=l;this.maxY=q};b.prototype.addBounds=function(f){var e=this.minX,d=this.minY,a=this.maxX,c=this.maxY;this.minX=f.minX<e?f.minX:e;this.minY=f.minY<d?f.minY:d;this.maxX=f.maxX>a?
f.maxX:a;this.maxY=f.maxY>c?f.maxY:c};b.prototype.addBoundsMask=function(f,e){var d=f.minX>e.minX?f.minX:e.minX,a=f.minY>e.minY?f.minY:e.minY,c=f.maxX<e.maxX?f.maxX:e.maxX,b=f.maxY<e.maxY?f.maxY:e.maxY;if(d<=c&&a<=b){var p=this.minX,n=this.minY,k=this.maxX,g=this.maxY;this.minX=d<p?d:p;this.minY=a<n?a:n;this.maxX=c>k?c:k;this.maxY=b>g?b:g}};b.prototype.addBoundsArea=function(f,e){var d=f.minX>e.x?f.minX:e.x,a=f.minY>e.y?f.minY:e.y,c=f.maxX<e.x+e.width?f.maxX:e.x+e.width,b=f.maxY<e.y+e.height?f.maxY:
e.y+e.height;if(d<=c&&a<=b){var p=this.minX,n=this.minY,k=this.maxX,g=this.maxY;this.minX=d<p?d:p;this.minY=a<n?a:n;this.maxX=c>k?c:k;this.maxY=b>g?b:g}};return b}();h["default"]=b},{"../math":67}],45:[function(b,l,h){function g(e,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);e.prototype=Object.create(d&&d.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(e,
d):e.__proto__=d)}h.__esModule=!0;var k=function(){function e(d,a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(d,e.key,e)}}return function(d,a,c){a&&e(d.prototype,a);c&&e(d,c);return d}}(),f=b("../utils");b=b("./DisplayObject");b=function(e){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var a;a=e.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.children=[];return a}g(d,e);d.prototype.onChildrenChange=function(){};d.prototype.addChild=function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];for(a=0;a<c.length;++a)d=c[a],d.parent&&d.parent.removeChild(d),d.parent=this,this.transform._parentID=-1,this._boundsID++,this.children.push(d),this.onChildrenChange(this.children.length-1),d.emit("added",this);return c[0]};d.prototype.addChildAt=function(a,c){if(0>c||c>this.children.length)throw Error(a+
"addChildAt: The index "+c+" supplied is out of bounds "+this.children.length);a.parent&&a.parent.removeChild(a);a.parent=this;this.children.splice(c,0,a);this.onChildrenChange(c);a.emit("added",this);return a};d.prototype.swapChildren=function(a,c){if(a!==c){var d=this.getChildIndex(a),e=this.getChildIndex(c);this.children[d]=c;this.children[e]=a;this.onChildrenChange(d<e?d:e)}};d.prototype.getChildIndex=function(a){a=this.children.indexOf(a);if(-1===a)throw Error("The supplied DisplayObject must be a child of the caller");
return a};d.prototype.setChildIndex=function(a,c){if(0>c||c>=this.children.length)throw Error("The supplied index is out of bounds");var d=this.getChildIndex(a);(0,f.removeItems)(this.children,d,1);this.children.splice(c,0,a);this.onChildrenChange(c)};d.prototype.getChildAt=function(a){if(0>a||a>=this.children.length)throw Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]};d.prototype.removeChild=function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];
for(a=0;a<c.length;++a){var d=c[a],e=this.children.indexOf(d);-1!==e&&(d.parent=null,(0,f.removeItems)(this.children,e,1),this.onChildrenChange(e),d.emit("removed",this))}return c[0]};d.prototype.removeChildAt=function(a){var c=this.getChildAt(a);c.parent=null;(0,f.removeItems)(this.children,a,1);this.onChildrenChange(a);c.emit("removed",this);return c};d.prototype.removeChildren=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=arguments[1],c="number"===typeof c?c:this.children.length,
d=c-a;if(0<d&&d<=c){c=this.children.splice(a,d);for(d=0;d<c.length;++d)c[d].parent=null;this.onChildrenChange(a);for(a=0;a<c.length;++a)c[a].emit("removed",this);return c}if(0===d&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.");};d.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var a=0,c=this.children.length;a<
c;++a){var d=this.children[a];d.visible&&d.updateTransform()}};d.prototype.calculateBounds=function(){this._bounds.clear();this._calculateBounds();for(var a=0;a<this.children.length;a++){var c=this.children[a];c.visible&&c.renderable&&(c.calculateBounds(),c._mask?(c._mask.calculateBounds(),this._bounds.addBoundsMask(c._bounds,c._mask._bounds)):c.filterArea?this._bounds.addBoundsArea(c._bounds,c.filterArea):this._bounds.addBounds(c._bounds))}this._lastBoundsID=this._boundsID};d.prototype._calculateBounds=
function(){};d.prototype.renderWebGL=function(a){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(a);else{this._renderWebGL(a);for(var c=0,d=this.children.length;c<d;++c)this.children[c].renderWebGL(a)}};d.prototype.renderAdvancedWebGL=function(a){a.currentRenderer.flush();var c=this._filters,d=this._mask;if(c){this._enabledFilters||(this._enabledFilters=[]);for(var e=this._enabledFilters.length=0;e<c.length;e++)c[e].enabled&&this._enabledFilters.push(c[e]);
this._enabledFilters.length&&a.filterManager.pushFilter(this,this._enabledFilters)}d&&a.maskManager.pushMask(this,this._mask);a.currentRenderer.start();this._renderWebGL(a);for(var e=0,f=this.children.length;e<f;e++)this.children[e].renderWebGL(a);a.currentRenderer.flush();d&&a.maskManager.popMask(this,this._mask);c&&this._enabledFilters&&this._enabledFilters.length&&a.filterManager.popFilter();a.currentRenderer.start()};d.prototype._renderWebGL=function(a){};d.prototype._renderCanvas=function(a){};
d.prototype.renderCanvas=function(a){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable){this._mask&&a.maskManager.pushMask(this._mask);this._renderCanvas(a);for(var c=0,d=this.children.length;c<d;++c)this.children[c].renderCanvas(a);this._mask&&a.maskManager.popMask(a)}};d.prototype.destroy=function(a){e.prototype.destroy.call(this);var c="boolean"===typeof a?a:a&&a.children,d=this.removeChildren(0,this.children.length);if(c)for(c=0;c<d.length;++c)d[c].destroy(a)};k(d,[{key:"width",get:function(){return this.scale.x*
this.getLocalBounds().width},set:function(a){var c=this.getLocalBounds().width;this.scale.x=0!==c?a/c:1;this._width=a}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var c=this.getLocalBounds().height;this.scale.y=0!==c?a/c:1;this._height=a}}]);return d}((b&&b.__esModule?b:{"default":b})["default"]);h["default"]=b;b.prototype.containerUpdateTransform=b.prototype.updateTransform},{"../utils":116,"./DisplayObject":46}],46:[function(b,l,h){function g(a){return a&&
a.__esModule?a:{"default":a}}function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;var f=function(){function a(c,d){for(var e=0;e<d.length;e++){var f=d[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=
!0);Object.defineProperty(c,f.key,f)}}return function(c,d,e){d&&a(c.prototype,d);e&&a(c,e);return c}}();l=b("eventemitter3");l=g(l);var e=b("../const"),d=b("./TransformStatic"),a=g(d),d=b("./Transform"),c=g(d),d=b("./Bounds"),m=g(d),p=b("../math");b=function(d){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var f;f=d.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==
typeof f?this:f;var p=e.TRANSFORM_MODE.DEFAULT===e.TRANSFORM_MODE.STATIC?a["default"]:c["default"];f.tempDisplayObjectParent=null;f.transform=new p;f.alpha=1;f.visible=!0;f.renderable=!0;f.parent=null;f.worldAlpha=1;f.filterArea=null;f._filters=null;f._enabledFilters=null;f._bounds=new m["default"];f._boundsID=0;f._lastBoundsID=-1;f._boundsRect=null;f._localBoundsRect=null;f._mask=null;return f}k(b,d);b.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform);this.worldAlpha=
this.alpha*this.parent.worldAlpha;this._bounds.updateID++};b.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)};b.prototype.getBounds=function(a,c){a||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null));this._boundsID!==
this._lastBoundsID&&this.calculateBounds();c||(this._boundsRect||(this._boundsRect=new p.Rectangle),c=this._boundsRect);return this._bounds.getRectangle(c)};b.prototype.getLocalBounds=function(a){var c=this.transform,d=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;a||(this._localBoundsRect||(this._localBoundsRect=new p.Rectangle),a=this._localBoundsRect);a=this.getBounds(!1,a);this.parent=d;this.transform=c;return a};b.prototype.toGlobal=function(a,c){2<arguments.length&&
void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.apply(a,c)};b.prototype.toLocal=function(a,c,d,e){c&&(a=c.toGlobal(a,d,e));e||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=
null));return this.worldTransform.applyInverse(a,d)};b.prototype.renderWebGL=function(a){};b.prototype.renderCanvas=function(a){};b.prototype.setParent=function(a){if(!a||!a.addChild)throw Error("setParent: Argument must be a Container");a.addChild(this);return a};b.prototype.setTransform=function(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,e=4<arguments.length&&
void 0!==arguments[4]?arguments[4]:0,f=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,b=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,m=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,n=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;this.position.x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.position.y=a;this.scale.x=c?c:1;this.scale.y=d?d:1;this.rotation=e;this.skew.x=f;this.skew.y=b;this.pivot.x=m;this.pivot.y=n;return this};b.prototype.destroy=
function(){this.removeAllListeners();this.parent&&this.parent.removeChild(this);this.filterArea=this._mask=this._currentBounds=this._bounds=this.parent=this.transform=null;this.interactiveChildren=this.interactive=!1};f(b,[{key:"_tempDisplayObjectParent",get:function(){null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new b);return this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(a){this.transform.position.x=a}},{key:"y",get:function(){return this.position.y},
set:function(a){this.transform.position.y=a}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(a){this.transform.position.copy(a)}},{key:"scale",get:function(){return this.transform.scale},set:function(a){this.transform.scale.copy(a)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(a){this.transform.pivot.copy(a)}},
{key:"skew",get:function(){return this.transform.skew},set:function(a){this.transform.skew.copy(a)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(a){this.transform.rotation=a}},{key:"worldVisible",get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},{key:"mask",get:function(){return this._mask},set:function(a){this._mask&&(this._mask.renderable=!0);if(this._mask=a)this._mask.renderable=!1}},{key:"filters",get:function(){return this._filters&&
this._filters.slice()},set:function(a){this._filters=a&&a.slice()}}]);return b}(l["default"]);h["default"]=b;b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},{"../const":43,"../math":67,"./Bounds":44,"./Transform":47,"./TransformStatic":49,eventemitter3:3}],47:[function(b,l,h){function g(e,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);e.prototype=Object.create(d&&d.prototype,{constructor:{value:e,
enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(e,d):e.__proto__=d)}h.__esModule=!0;var k=function(){function e(d,a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(d,e.key,e)}}return function(d,a,c){a&&e(d.prototype,a);c&&e(d,c);return d}}(),f=b("../math");b=b("./TransformBase");b=function(e){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");
var a;a=e.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.position=new f.Point(0,0);a.scale=new f.Point(1,1);a.skew=new f.ObservablePoint(a.updateSkew,a,0,0);a.pivot=new f.Point(0,0);a._rotation=0;a._sr=Math.sin(0);a._cr=Math.cos(0);a._cy=Math.cos(0);a._sy=Math.sin(0);a._nsx=Math.sin(0);a._cx=Math.cos(0);return a}g(d,e);d.prototype.updateSkew=function(){this._cy=Math.cos(this.skew.y);
this._sy=Math.sin(this.skew.y);this._nsx=Math.sin(this.skew.x);this._cx=Math.cos(this.skew.x)};d.prototype.updateLocalTransform=function(){var a=this.localTransform,c=this._cr*this.scale.x,d=this._sr*this.scale.x,e=-this._sr*this.scale.y,f=this._cr*this.scale.y;a.a=this._cy*c+this._sy*e;a.b=this._cy*d+this._sy*f;a.c=this._nsx*c+this._cx*e;a.d=this._nsx*d+this._cx*f};d.prototype.updateTransform=function(a){a=a.worldTransform;var c=this.worldTransform,d=this.localTransform,e=this._cr*this.scale.x,f=
this._sr*this.scale.x,b=-this._sr*this.scale.y,k=this._cr*this.scale.y;d.a=this._cy*e+this._sy*b;d.b=this._cy*f+this._sy*k;d.c=this._nsx*e+this._cx*b;d.d=this._nsx*f+this._cx*k;d.tx=this.position.x-(this.pivot.x*d.a+this.pivot.y*d.c);d.ty=this.position.y-(this.pivot.x*d.b+this.pivot.y*d.d);c.a=d.a*a.a+d.b*a.c;c.b=d.a*a.b+d.b*a.d;c.c=d.c*a.a+d.d*a.c;c.d=d.c*a.b+d.d*a.d;c.tx=d.tx*a.a+d.ty*a.c+a.tx;c.ty=d.tx*a.b+d.ty*a.d+a.ty;this._worldID++};d.prototype.setFromMatrix=function(a){a.decompose(this)};
k(d,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a;this._sr=Math.sin(a);this._cr=Math.cos(a)}}]);return d}((b&&b.__esModule?b:{"default":b})["default"]);h["default"]=b},{"../math":67,"./TransformBase":48}],48:[function(b,l,h){h.__esModule=!0;var g=b("../math");b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.worldTransform=new g.Matrix;this.localTransform=new g.Matrix;this._parentID=this._worldID=
0}b.prototype.updateLocalTransform=function(){};b.prototype.updateTransform=function(f){f=f.worldTransform;var e=this.worldTransform,d=this.localTransform;e.a=d.a*f.a+d.b*f.c;e.b=d.a*f.b+d.b*f.d;e.c=d.c*f.a+d.d*f.c;e.d=d.c*f.b+d.d*f.d;e.tx=d.tx*f.a+d.ty*f.c+f.tx;e.ty=d.tx*f.b+d.ty*f.d+f.ty;this._worldID++};return b}();h["default"]=b;b.prototype.updateWorldTransform=b.prototype.updateTransform;b.IDENTITY=new b},{"../math":67}],49:[function(b,l,h){function g(e,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+
typeof d);e.prototype=Object.create(d&&d.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(e,d):e.__proto__=d)}h.__esModule=!0;var k=function(){function e(d,a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(d,e.key,e)}}return function(d,a,c){a&&e(d.prototype,a);c&&e(d,c);return d}}(),f=b("../math");b=b("./TransformBase");b=function(e){function d(){if(!(this instanceof
d))throw new TypeError("Cannot call a class as a function");var a;a=e.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.position=new f.ObservablePoint(a.onChange,a,0,0);a.scale=new f.ObservablePoint(a.onChange,a,1,1);a.pivot=new f.ObservablePoint(a.onChange,a,0,0);a.skew=new f.ObservablePoint(a.updateSkew,a,0,0);a._rotation=0;a._sr=Math.sin(0);a._cr=Math.cos(0);a._cy=Math.cos(0);a._sy=
Math.sin(0);a._nsx=Math.sin(0);a._cx=Math.cos(0);a._localID=0;a._currentLocalID=0;return a}g(d,e);d.prototype.onChange=function(){this._localID++};d.prototype.updateSkew=function(){this._cy=Math.cos(this.skew._y);this._sy=Math.sin(this.skew._y);this._nsx=Math.sin(this.skew._x);this._cx=Math.cos(this.skew._x);this._localID++};d.prototype.updateLocalTransform=function(){var a=this.localTransform;if(this._localID!==this._currentLocalID){var c=this._cr*this.scale._x,d=this._sr*this.scale._x,e=-this._sr*
this.scale._y,f=this._cr*this.scale._y;a.a=this._cy*c+this._sy*e;a.b=this._cy*d+this._sy*f;a.c=this._nsx*c+this._cx*e;a.d=this._nsx*d+this._cx*f;a.tx=this.position._x-(this.pivot._x*a.a+this.pivot._y*a.c);a.ty=this.position._y-(this.pivot._x*a.b+this.pivot._y*a.d);this._currentLocalID=this._localID;this._parentID=-1}};d.prototype.updateTransform=function(a){var c=a.worldTransform,d=this.worldTransform,e=this.localTransform;if(this._localID!==this._currentLocalID){var f=this._cr*this.scale._x,b=this._sr*
this.scale._x,k=-this._sr*this.scale._y,g=this._cr*this.scale._y;e.a=this._cy*f+this._sy*k;e.b=this._cy*b+this._sy*g;e.c=this._nsx*f+this._cx*k;e.d=this._nsx*b+this._cx*g;e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c);e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d);this._currentLocalID=this._localID;this._parentID=-1}this._parentID!==a._worldID&&(d.a=e.a*c.a+e.b*c.c,d.b=e.a*c.b+e.b*c.d,d.c=e.c*c.a+e.d*c.c,d.d=e.c*c.b+e.d*c.d,d.tx=e.tx*c.a+e.ty*c.c+c.tx,d.ty=e.tx*c.b+e.ty*
c.d+c.ty,this._parentID=a._worldID,this._worldID++)};d.prototype.setFromMatrix=function(a){a.decompose(this);this._localID++};k(d,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a;this._sr=Math.sin(a);this._cr=Math.cos(a);this._localID++}}]);return d}((b&&b.__esModule?b:{"default":b})["default"]);h["default"]=b},{"../math":67,"./TransformBase":48}],50:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}function k(a,c){if("function"!==typeof c&&
null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;l=b("../display/Container");l=g(l);var f=b("../textures/RenderTexture"),e=g(f),f=b("../textures/Texture"),d=g(f),f=b("./GraphicsData"),a=g(f),f=b("../sprites/Sprite"),c=g(f),m=b("../math"),p=b("../utils"),n=b("../const"),
f=b("../display/Bounds"),y=g(f),f=b("./utils/bezierCurveTo"),z=g(f);b=b("../renderers/canvas/CanvasRenderer");var w=g(b),u=void 0,q=new m.Matrix,t=new m.Point,r=new Float32Array(4),v=new Float32Array(4);b=function(f){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a;a=f.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.fillAlpha=1;a.lineWidth=
0;a.lineColor=0;a.graphicsData=[];a.tint=16777215;a._prevTint=16777215;a.blendMode=n.BLEND_MODES.NORMAL;a.currentPath=null;a._webGL={};a.isMask=!1;a.boundsPadding=0;a._localBounds=new y["default"];a.dirty=0;a.fastRectDirty=-1;a.clearDirty=0;a.boundsDirty=-1;a.cachedSpriteDirty=!1;a._spriteRect=null;a._fastRect=!1;return a}k(b,f);b.prototype.clone=function(){var a=new b;a.renderable=this.renderable;a.fillAlpha=this.fillAlpha;a.lineWidth=this.lineWidth;a.lineColor=this.lineColor;a.tint=this.tint;a.blendMode=
this.blendMode;a.isMask=this.isMask;a.boundsPadding=this.boundsPadding;a.dirty=0;a.cachedSpriteDirty=this.cachedSpriteDirty;for(var c=0;c<this.graphicsData.length;++c)a.graphicsData.push(this.graphicsData[c].clone());a.currentPath=a.graphicsData[a.graphicsData.length-1];a.updateLocalBounds();return a};b.prototype.lineStyle=function(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;this.lineWidth=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:0;this.lineColor=a;this.lineAlpha=c;this.currentPath&&(this.currentPath.shape.points.length?(a=new m.Polygon(this.currentPath.shape.points.slice(-2)),a.closed=!1,this.drawShape(a)):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha));return this};b.prototype.moveTo=function(a,c){var d=new m.Polygon([a,c]);d.closed=!1;this.drawShape(d);return this};b.prototype.lineTo=function(a,c){this.currentPath.shape.points.push(a,
c);this.dirty++;return this};b.prototype.quadraticCurveTo=function(a,c,d,e){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var f=this.currentPath.shape.points,b,m;0===f.length&&this.moveTo(0,0);for(var n=f[f.length-2],k=f[f.length-1],p=1;20>=p;++p){var g=p/20;b=n+(a-n)*g;m=k+(c-k)*g;f.push(b+(a+(d-a)*g-b)*g,m+(c+(e-c)*g-m)*g)}this.dirty++;return this};b.prototype.bezierCurveTo=function(a,c,d,e,f,b){this.currentPath?0===this.currentPath.shape.points.length&&
(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var m=this.currentPath.shape.points,n=m[m.length-2],k=m[m.length-1];m.length-=2;(0,z["default"])(n,k,a,c,d,e,f,b,m);this.dirty++;return this};b.prototype.arcTo=function(a,c,d,e,f){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(a,c):this.moveTo(a,c);var b=this.currentPath.shape.points,m=b[b.length-1]-c,n=b[b.length-2]-a;e-=c;d-=a;var k=Math.abs(m*d-n*e);if(1E-8>k||0===f)b[b.length-2]===a&&b[b.length-
1]===c||b.push(a,c);else{var p=m*m+n*n,g=e*e+d*d,y=m*e+n*d,b=f*Math.sqrt(p)/k,k=f*Math.sqrt(g)/k,p=b*y/p,g=k*y/g,y=b*d+k*n,h=b*e+k*m;this.arc(y+a,h+c,f,Math.atan2(m*(k+p)-h,n*(k+p)-y),Math.atan2(e*(b+g)-h,d*(b+g)-y),n*e>d*m)}this.dirty++;return this};b.prototype.arc=function(a,c,d,e,f){var b=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(e===f)return this;!b&&f<=e?f+=2*Math.PI:b&&e<=f&&(e+=2*Math.PI);var m=b?e-f:f-e,n=40*Math.ceil(Math.abs(m)/(2*Math.PI));if(0===m)return this;var k=
a+Math.cos(e)*d,p=c+Math.sin(e)*d,b=this.currentPath.shape.points;this.currentPath?b[b.length-2]===k&&b[b.length-1]===p||b.push(k,p):this.moveTo(k,p);for(var m=m/(2*n),k=2*m,p=Math.cos(m),g=Math.sin(m),n=n-1,y=n%1/n,h=0;h<=n;++h){var z=m+e+k*(h+y*h),l=Math.cos(z),z=-Math.sin(z);b.push((p*l+g*z)*d+a,(p*-z+g*l)*d+c)}this.dirty++;return this};b.prototype.beginFill=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.filling=
!0;this.fillColor=a;this.fillAlpha=c;this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha);return this};b.prototype.endFill=function(){this.filling=!1;this.fillColor=null;this.fillAlpha=1;return this};b.prototype.drawRect=function(a,c,d,e){this.drawShape(new m.Rectangle(a,c,d,e));return this};b.prototype.drawRoundedRect=function(a,c,d,e,f){this.drawShape(new m.RoundedRectangle(a,
c,d,e,f));return this};b.prototype.drawCircle=function(a,c,d){this.drawShape(new m.Circle(a,c,d));return this};b.prototype.drawEllipse=function(a,c,d,e){this.drawShape(new m.Ellipse(a,c,d,e));return this};b.prototype.drawPolygon=function(a){var c=a,d=!0;c instanceof m.Polygon&&(d=c.closed,c=c.points);if(!Array.isArray(c))for(var c=Array(arguments.length),e=0;e<c.length;++e)c[e]=arguments[e];c=new m.Polygon(c);c.closed=d;this.drawShape(c);return this};b.prototype.clear=function(){if(this.lineWidth||
this.filling||0<this.graphicsData.length)this.lineWidth=0,this.filling=!1,this.dirty++,this.clearDirty++,this.graphicsData.length=0;return this};b.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===n.SHAPES.RECT&&!this.graphicsData[0].lineWidth};b.prototype._renderWebGL=function(a){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect());this._fastRect?this._renderSpriteRect(a):(a.setObjectRenderer(a.plugins.graphics),
a.plugins.graphics.render(this))};b.prototype._renderSpriteRect=function(a){var f=this.graphicsData[0].shape;if(!this._spriteRect){if(!b._SPRITE_TEXTURE){b._SPRITE_TEXTURE=e["default"].create(10,10);var m=document.createElement("canvas");m.width=10;m.height=10;var n=m.getContext("2d");n.fillStyle="white";n.fillRect(0,0,10,10);b._SPRITE_TEXTURE=d["default"].fromCanvas(m)}this._spriteRect=new c["default"](b._SPRITE_TEXTURE)}16777215===this.tint?this._spriteRect.tint=this.graphicsData[0].fillColor:((0,
p.hex2rgb)(this.graphicsData[0].fillColor,r),(0,p.hex2rgb)(this.tint,v),r[0]*=v[0],r[1]*=v[1],r[2]*=v[2],this._spriteRect.tint=(0,p.rgb2hex)(r));this._spriteRect.alpha=this.graphicsData[0].fillAlpha;this._spriteRect.worldAlpha=this.worldAlpha*this._spriteRect.alpha;b._SPRITE_TEXTURE._frame.width=f.width;b._SPRITE_TEXTURE._frame.height=f.height;this._spriteRect.transform.worldTransform=this.transform.worldTransform;this._spriteRect.anchor.set(-f.x/f.width,-f.y/f.height);this._spriteRect._onAnchorUpdate();
this._spriteRect._renderWebGL(a)};b.prototype._renderCanvas=function(a){!0!==this.isMask&&a.plugins.graphics.render(this)};b.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.dirty++,this.cachedSpriteDirty=!0);var a=this._localBounds;this._bounds.addFrame(this.transform,a.minX,a.minY,a.maxX,a.maxY)};b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,t);a=this.graphicsData;for(var c=0;c<a.length;++c){var d=
a[c];if(d.fill&&d.shape&&d.shape.contains(t.x,t.y))return!0}return!1};b.prototype.updateLocalBounds=function(){var a=Infinity,c=-Infinity,d=Infinity,e=-Infinity;if(this.graphicsData.length)for(var f,b,m,k,p,g=0;g<this.graphicsData.length;g++)if(m=this.graphicsData[g],b=m.type,p=m.lineWidth,f=m.shape,b===n.SHAPES.RECT||b===n.SHAPES.RREC)b=f.x-p/2,m=f.y-p/2,k=f.width+p,p=f.height+p,a=b<a?b:a,c=b+k>c?b+k:c,d=m<d?m:d,e=m+p>e?m+p:e;else if(b===n.SHAPES.CIRC)b=f.x,m=f.y,k=f.radius+p/2,p=f.radius+p/2,a=
b-k<a?b-k:a,c=b+k>c?b+k:c,d=m-p<d?m-p:d,e=m+p>e?m+p:e;else if(b===n.SHAPES.ELIP)b=f.x,m=f.y,k=f.width+p/2,p=f.height+p/2,a=b-k<a?b-k:a,c=b+k>c?b+k:c,d=m-p<d?m-p:d,e=m+p>e?m+p:e;else for(f=f.points,k=0;k<f.length;k+=2)b=f[k],m=f[k+1],a=b-p<a?b-p:a,c=b+p>c?b+p:c,d=m-p<d?m-p:d,e=m+p>e?m+p:e;else e=d=c=a=0;g=this.boundsPadding;this._localBounds.minX=a-g;this._localBounds.maxX=c+2*g;this._localBounds.minY=d-g;this._localBounds.maxY=e+2*g};b.prototype.drawShape=function(c){this.currentPath&&2>=this.currentPath.shape.points.length&&
this.graphicsData.pop();this.currentPath=null;c=new a["default"](this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,c);this.graphicsData.push(c);c.type===n.SHAPES.POLY&&(c.shape.closed=c.shape.closed||this.filling,this.currentPath=c);this.dirty++;return c};b.prototype.generateCanvasTexture=function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,f=this.getLocalBounds(),b=e["default"].create(f.width,f.height,a,c);u||(u=new w["default"]);q.tx=-f.x;
q.ty=-f.y;u.render(this,b,!1,q);f=d["default"].fromCanvas(b.baseTexture._canvasRenderTarget.canvas,a);f.baseTexture.resolution=c;f.baseTexture.update();return f};b.prototype.closePath=function(){var a=this.currentPath;a&&a.shape&&a.shape.close();return this};b.prototype.addHole=function(){var a=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(a.shape);this.currentPath=null;return this};b.prototype.destroy=function(a){f.prototype.destroy.call(this,
a);for(a=0;a<this.graphicsData.length;++a)this.graphicsData[a].destroy();for(var c in this._webgl)for(a=0;a<this._webgl[c].data.length;++a)this._webgl[c].data[a].destroy();this._spriteRect&&this._spriteRect.destroy();this._localBounds=this._webgl=this.currentPath=this.graphicsData=null};return b}(l["default"]);h["default"]=b;b._SPRITE_TEXTURE=null},{"../const":43,"../display/Bounds":44,"../display/Container":45,"../math":67,"../renderers/canvas/CanvasRenderer":74,"../sprites/Sprite":98,"../textures/RenderTexture":108,
"../textures/Texture":109,"../utils":116,"./GraphicsData":51,"./utils/bezierCurveTo":53}],51:[function(b,l,h){h.__esModule=!0;b=function(){function b(k,f,e,d,a,c,m){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.lineWidth=k;this.lineColor=f;this.lineAlpha=e;this._lineTint=f;this.fillColor=d;this.fillAlpha=a;this._fillTint=d;this.fill=c;this.holes=[];this.shape=m;this.type=m.type}b.prototype.clone=function(){return new b(this.lineWidth,this.lineColor,this.lineAlpha,
this.fillColor,this.fillAlpha,this.fill,this.shape)};b.prototype.addHole=function(b){this.holes.push(b)};b.prototype.destroy=function(){this.holes=this.shape=null};return b}();h["default"]=b},{}],52:[function(b,l,h){h.__esModule=!0;l=(l=b("../../renderers/canvas/CanvasRenderer"))&&l.__esModule?l:{"default":l};var g=b("../../const");b=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=f}b.prototype.render=function(f){var e=this.renderer,
d=e.context,a=f.worldAlpha,c=f.transform.worldTransform,b=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0);d.setTransform(c.a*b,c.b*b,c.c*b,c.d*b,c.tx*b,c.ty*b);f.dirty&&(this.updateGraphicsTint(f),f.dirty=!1);e.setBlendMode(f.blendMode);for(e=0;e<f.graphicsData.length;e++){var c=f.graphicsData[e],p=c.shape,b=c._fillTint,n=c._lineTint;d.lineWidth=c.lineWidth;if(c.type===g.SHAPES.POLY){d.beginPath();this.renderPolygon(p.points,p.closed,d);for(var k=0;k<c.holes.length;k++)this.renderPolygon(c.holes[k].points,
!0,d);c.fill&&(d.globalAlpha=c.fillAlpha*a,d.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6),d.fill());c.lineWidth&&(d.globalAlpha=c.lineAlpha*a,d.strokeStyle="#"+("00000"+(n|0).toString(16)).substr(-6),d.stroke())}else if(c.type===g.SHAPES.RECT){if(c.fillColor||0===c.fillColor)d.globalAlpha=c.fillAlpha*a,d.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6),d.fillRect(p.x,p.y,p.width,p.height);c.lineWidth&&(d.globalAlpha=c.lineAlpha*a,d.strokeStyle="#"+("00000"+(n|0).toString(16)).substr(-6),
d.strokeRect(p.x,p.y,p.width,p.height))}else if(c.type===g.SHAPES.CIRC)d.beginPath(),d.arc(p.x,p.y,p.radius,0,2*Math.PI),d.closePath(),c.fill&&(d.globalAlpha=c.fillAlpha*a,d.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6),d.fill()),c.lineWidth&&(d.globalAlpha=c.lineAlpha*a,d.strokeStyle="#"+("00000"+(n|0).toString(16)).substr(-6),d.stroke());else if(c.type===g.SHAPES.ELIP){var h=2*p.width,l=2*p.height,k=p.x-h/2,p=p.y-l/2;d.beginPath();var u=h/2*.5522848,q=l/2*.5522848,t=k+h,r=p+l,h=k+h/2,l=
p+l/2;d.moveTo(k,l);d.bezierCurveTo(k,l-q,h-u,p,h,p);d.bezierCurveTo(h+u,p,t,l-q,t,l);d.bezierCurveTo(t,l+q,h+u,r,h,r);d.bezierCurveTo(h-u,r,k,l+q,k,l);d.closePath();c.fill&&(d.globalAlpha=c.fillAlpha*a,d.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6),d.fill());c.lineWidth&&(d.globalAlpha=c.lineAlpha*a,d.strokeStyle="#"+("00000"+(n|0).toString(16)).substr(-6),d.stroke())}else if(c.type===g.SHAPES.RREC){k=p.x;l=p.y;u=p.width;q=p.height;p=p.radius;t=Math.min(u,q)/2|0;p=p>t?t:p;d.beginPath();
d.moveTo(k,l+p);d.lineTo(k,l+q-p);d.quadraticCurveTo(k,l+q,k+p,l+q);d.lineTo(k+u-p,l+q);d.quadraticCurveTo(k+u,l+q,k+u,l+q-p);d.lineTo(k+u,l+p);d.quadraticCurveTo(k+u,l,k+u-p,l);d.lineTo(k+p,l);d.quadraticCurveTo(k,l,k,l+p);d.closePath();if(c.fillColor||0===c.fillColor)d.globalAlpha=c.fillAlpha*a,d.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6),d.fill();c.lineWidth&&(d.globalAlpha=c.lineAlpha*a,d.strokeStyle="#"+("00000"+(n|0).toString(16)).substr(-6),d.stroke())}}};b.prototype.updateGraphicsTint=
function(f){f._prevTint=f.tint;for(var e=(f.tint>>16&255)/255,d=(f.tint>>8&255)/255,a=(f.tint&255)/255,c=0;c<f.graphicsData.length;++c){var b=f.graphicsData[c],k=b.fillColor|0,n=b.lineColor|0;b._fillTint=((k>>16&255)/255*e*255<<16)+((k>>8&255)/255*d*255<<8)+(k&255)/255*a*255;b._lineTint=((n>>16&255)/255*e*255<<16)+((n>>8&255)/255*d*255<<8)+(n&255)/255*a*255}};b.prototype.renderPolygon=function(f,e,d){d.moveTo(f[0],f[1]);for(var a=1;a<f.length/2;++a)d.lineTo(f[2*a],f[2*a+1]);e&&d.closePath()};b.prototype.destroy=
function(){this.renderer=null};return b}();h["default"]=b;l["default"].registerPlugin("graphics",b)},{"../../const":43,"../../renderers/canvas/CanvasRenderer":74}],53:[function(b,l,h){h.__esModule=!0;h["default"]=function(b,k,f,e,d,a,c,m){var p=8<arguments.length&&void 0!==arguments[8]?arguments[8]:[],n,h,z,l,u;p.push(b,k);for(var q=1,t;20>=q;++q)t=q/20,n=1-t,h=n*n,z=h*n,l=t*t,u=l*t,p.push(z*b+3*h*t*f+3*n*l*d+u*c,z*k+3*h*t*e+3*n*l*a+u*m);return p}},{}],54:[function(b,l,h){function g(a){return a&&
a.__esModule?a:{"default":a}}function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;var f=b("../../utils"),e=b("../../const");l=b("../../renderers/webgl/utils/ObjectRenderer");var d=g(l);l=b("../../renderers/webgl/WebGLRenderer");
l=g(l);var a=b("./WebGLGraphicsData"),c=g(a),a=b("./shaders/PrimitiveShader"),m=g(a),a=b("./utils/buildPoly"),p=g(a),a=b("./utils/buildRectangle"),n=g(a),a=b("./utils/buildRoundedRectangle"),y=g(a);b=b("./utils/buildCircle");var z=g(b);b=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d;d=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==
typeof d?this:d;d.graphicsDataPool=[];d.primitiveShader=null;d.gl=c.gl;d.CONTEXT_UID=0;return d}k(b,a);b.prototype.onContextChange=function(){this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.primitiveShader=new m["default"](this.gl)};b.prototype.destroy=function(){d["default"].prototype.destroy.call(this);for(var a=0;a<this.graphicsDataPool.length;++a)this.graphicsDataPool[a].destroy();this.graphicsDataPool=null};b.prototype.render=function(a){var c=this.renderer,d=c.gl,e,
b=a._webGL[this.CONTEXT_UID];b&&a.dirty===b.dirty||(this.updateGraphics(a),b=a._webGL[this.CONTEXT_UID]);c.bindShader(this.primitiveShader);c.state.setBlendMode(a.blendMode);for(var m=0,n=b.data.length;m<n;m++){e=b.data[m];var k=e.shader;c.bindShader(k);k.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);k.uniforms.tint=(0,f.hex2rgb)(a.tint);k.uniforms.alpha=a.worldAlpha;e.vao.bind().draw(d.TRIANGLE_STRIP,e.indices.length).unbind()}};b.prototype.updateGraphics=function(a){var c=this.renderer.gl,
d=a._webGL[this.CONTEXT_UID];d||(d=a._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:c,clearDirty:-1,dirty:-1});d.dirty=a.dirty;if(a.clearDirty!==d.clearDirty){d.clearDirty=a.clearDirty;for(c=0;c<d.data.length;c++)this.graphicsDataPool.push(d.data[c]);d.data.length=0;d.lastIndex=0}for(var f=d.lastIndex;f<a.graphicsData.length;f++){var b=a.graphicsData[f],c=this.getWebGLData(d,0);b.type===e.SHAPES.POLY&&(0,p["default"])(b,c);b.type===e.SHAPES.RECT?(0,n["default"])(b,c):b.type===e.SHAPES.CIRC||b.type===
e.SHAPES.ELIP?(0,z["default"])(b,c):b.type===e.SHAPES.RREC&&(0,y["default"])(b,c);d.lastIndex++}for(a=0;a<d.data.length;a++)c=d.data[a],c.dirty&&c.upload()};b.prototype.getWebGLData=function(a,d){var e=a.data[a.data.length-1];if(!e||32E4<e.points.length)e=this.graphicsDataPool.pop()||new c["default"](this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),e.reset(d),a.data.push(e);e.dirty=!0;return e};return b}(d["default"]);h["default"]=b;l["default"].registerPlugin("graphics",b)},
{"../../const":43,"../../renderers/webgl/WebGLRenderer":81,"../../renderers/webgl/utils/ObjectRenderer":91,"../../utils":116,"./WebGLGraphicsData":55,"./shaders/PrimitiveShader":56,"./utils/buildCircle":57,"./utils/buildPoly":59,"./utils/buildRectangle":60,"./utils/buildRoundedRectangle":61}],55:[function(b,l,h){h.__esModule=!0;var g=(b=b("pixi-gl-core"))&&b.__esModule?b:{"default":b};b=function(){function b(f,e,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.gl=
f;this.color=[0,0,0];this.points=[];this.indices=[];this.buffer=g["default"].GLBuffer.createVertexBuffer(f);this.indexBuffer=g["default"].GLBuffer.createIndexBuffer(f);this.dirty=!0;this.glIndices=this.glPoints=null;this.shader=e;this.vao=(new g["default"].VertexArrayObject(f,d)).addIndex(this.indexBuffer).addAttribute(this.buffer,e.attributes.aVertexPosition,f.FLOAT,!1,24,0).addAttribute(this.buffer,e.attributes.aColor,f.FLOAT,!1,24,8)}b.prototype.reset=function(){this.points.length=0;this.indices.length=
0};b.prototype.upload=function(){this.glPoints=new Float32Array(this.points);this.buffer.upload(this.glPoints);this.glIndices=new Uint16Array(this.indices);this.indexBuffer.upload(this.glIndices);this.dirty=!1};b.prototype.destroy=function(){this.indices=this.points=this.color=null;this.vao.destroy();this.buffer.destroy();this.indexBuffer.destroy();this.glIndices=this.glPoints=this.indexBuffer=this.buffer=this.gl=null};return b}();h["default"]=b},{"pixi-gl-core":12}],56:[function(b,l,h){function g(b,
f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}h.__esModule=!0;b=b("../../../Shader");b=function(b){function f(e){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");e=b.call(this,e,"attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}",
"varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?this:e}g(f,b);return f}((b&&b.__esModule?b:{"default":b})["default"]);h["default"]=b},{"../../../Shader":42}],57:[function(b,l,h){h.__esModule=!0;h["default"]=function(e,d){var a=e.shape,c=a.x,b=a.y,p,n;e.type===k.SHAPES.CIRC?n=p=a.radius:(p=a.width,n=a.height);var a=Math.floor(30*
Math.sqrt(a.radius))||Math.floor(15*Math.sqrt(a.width+a.height)),h=2*Math.PI/a;if(e.fill){var z=(0,f.hex2rgb)(e.fillColor),l=e.fillAlpha,u=z[0]*l,q=z[1]*l,z=z[2]*l,t=d.points,r=d.indices,v=t.length/6;r.push(v);for(var B=0;B<a+1;B++)t.push(c,b,u,q,z,l),t.push(c+Math.sin(h*B)*p,b+Math.cos(h*B)*n,u,q,z,l),r.push(v++,v++);r.push(v-1)}if(e.lineWidth){l=e.points;e.points=[];for(u=0;u<a+1;u++)e.points.push(c+Math.sin(h*u)*p,b+Math.cos(h*u)*n);(0,g["default"])(e,d);e.points=l}};var g=(l=b("./buildLine"))&&
l.__esModule?l:{"default":l},k=b("../../../const"),f=b("../../../utils")},{"../../../const":43,"../../../utils":116,"./buildLine":58}],58:[function(b,l,h){h.__esModule=!0;h["default"]=function(f,e){var d=f.points;if(0!==d.length){var a=new g.Point(d[0],d[1]),c=new g.Point(d[d.length-2],d[d.length-1]);if(a.x===c.x&&a.y===c.y){d=d.slice();d.pop();d.pop();var c=new g.Point(d[d.length-2],d[d.length-1]),b=c.x+.5*(a.x-c.x),a=c.y+.5*(a.y-c.y);d.unshift(b,a);d.push(b,a)}var p=e.points,b=e.indices,n=d.length/
2,a=d.length,c=p.length/6,h=f.lineWidth/2,l=(0,k.hex2rgb)(f.lineColor),w=f.lineAlpha,u=l[0]*w,q=l[1]*w,l=l[2]*w,t=d[0],r=d[1],v=d[2],B=d[3],H,K,C=-(r-B),F=t-v,I,L,G=Math.sqrt(C*C+F*F),C=C/G*h,F=F/G*h;p.push(t-C,r-F,u,q,l,w);p.push(t+C,r+F,u,q,l,w);for(var Q=1;Q<n-1;++Q){t=d[2*(Q-1)];r=d[2*(Q-1)+1];v=d[2*Q];B=d[2*Q+1];H=d[2*(Q+1)];K=d[2*(Q+1)+1];C=-(r-B);F=t-v;G=Math.sqrt(C*C+F*F);C/=G;F/=G;C*=h;F*=h;I=-(B-K);L=v-H;G=Math.sqrt(I*I+L*L);I/=G;L/=G;I*=h;L*=h;var G=-F+r-(-F+B),O=-C+v-(-C+t),t=(-C+t)*(-F+
B)-(-C+v)*(-F+r),r=-L+K-(-L+B),N=-I+v-(-I+H);H=(-I+H)*(-L+B)-(-I+v)*(-L+K);K=G*N-r*O;.1>Math.abs(K)?(p.push(v-C,B-F,u,q,l,w),p.push(v+C,B+F,u,q,l,w)):(O=(O*H-N*t)/K,G=(r*t-G*H)/K,(O-v)*(O-v)+(G-B)*(G-B)>196*h*h?(C-=I,F-=L,G=Math.sqrt(C*C+F*F),C/=G,F/=G,C*=h,F*=h,p.push(v-C,B-F),p.push(u,q,l,w),p.push(v+C,B+F),p.push(u,q,l,w),p.push(v-C,B-F),p.push(u,q,l,w),a++):(p.push(O,G),p.push(u,q,l,w),p.push(v-(O-v),B-(G-B)),p.push(u,q,l,w)))}t=d[2*(n-2)];r=d[2*(n-2)+1];v=d[2*(n-1)];B=d[2*(n-1)+1];C=-(r-B);F=
t-v;G=Math.sqrt(C*C+F*F);C=C/G*h;F=F/G*h;p.push(v-C,B-F);p.push(u,q,l,w);p.push(v+C,B+F);p.push(u,q,l,w);b.push(c);for(d=0;d<a;++d)b.push(c++);b.push(c-1)}};var g=b("../../../math"),k=b("../../../utils")},{"../../../math":67,"../../../utils":116}],59:[function(b,l,h){h.__esModule=!0;h["default"]=function(e,d){e.points=e.shape.points.slice();var a=e.points;if(e.fill&&6<=a.length){for(var c=[],b=e.holes,p=0;p<b.length;p++){var n=b[p];c.push(a.length/2);a=a.concat(n.points)}var b=d.points,h=d.indices,
p=a.length/2,l=(0,k.hex2rgb)(e.fillColor),n=e.fillAlpha,w=l[0]*n,u=l[1]*n,l=l[2]*n,c=(0,f["default"])(a,c,2);if(!c)return;for(var q=b.length/6,t=0;t<c.length;t+=3)h.push(c[t]+q),h.push(c[t]+q),h.push(c[t+1]+q),h.push(c[t+2]+q),h.push(c[t+2]+q);for(c=0;c<p;c++)b.push(a[2*c],a[2*c+1],w,u,l,n)}0<e.lineWidth&&(0,g["default"])(e,d)};var g=(l=b("./buildLine"))&&l.__esModule?l:{"default":l},k=b("../../../utils"),f=(b=b("earcut"))&&b.__esModule?b:{"default":b}},{"../../../utils":116,"./buildLine":58,earcut:2}],
60:[function(b,l,h){h.__esModule=!0;h["default"]=function(f,e){var d=f.shape,a=d.x,c=d.y,b=d.width,d=d.height;if(f.fill){var p=(0,k.hex2rgb)(f.fillColor),n=f.fillAlpha,h=p[0]*n,l=p[1]*n,p=p[2]*n,w=e.points,u=e.indices,q=w.length/6;w.push(a,c);w.push(h,l,p,n);w.push(a+b,c);w.push(h,l,p,n);w.push(a,c+d);w.push(h,l,p,n);w.push(a+b,c+d);w.push(h,l,p,n);u.push(q,q,q+1,q+2,q+3,q+3)}f.lineWidth&&(n=f.points,f.points=[a,c,a+b,c,a+b,c+d,a,c+d,a,c],(0,g["default"])(f,e),f.points=n)};var g=(l=b("./buildLine"))&&
l.__esModule?l:{"default":l},k=b("../../../utils")},{"../../../utils":116,"./buildLine":58}],61:[function(b,l,h){function g(d,a,c,e,f,b){for(var k=6<arguments.length&&void 0!==arguments[6]?arguments[6]:[],g,h,l,q,t=0,r;20>=t;++t)r=t/20,g=d+(c-d)*r,h=a+(e-a)*r,l=c+(f-c)*r,q=e+(b-e)*r,g+=(l-g)*r,h+=(q-h)*r,k.push(g,h);return k}h.__esModule=!0;h["default"]=function(d,a){var c=d.shape,b=c.x,p=c.y,n=c.width,h=c.height,l=c.radius,c=[];c.push(b,p+l);g(b,p+h-l,b,p+h,b+l,p+h,c);g(b+n-l,p+h,b+n,p+h,b+n,p+h-
l,c);g(b+n,p+l,b+n,p,b+n-l,p,c);g(b+l,p,b,p,b,p+l+1E-10,c);if(d.fill){for(var h=(0,e.hex2rgb)(d.fillColor),b=d.fillAlpha,p=h[0]*b,n=h[1]*b,h=h[2]*b,l=a.points,w=a.indices,u=l.length/6,q=(0,k["default"])(c,null,2),t=0,r=q.length;t<r;t+=3)w.push(q[t]+u),w.push(q[t]+u),w.push(q[t+1]+u),w.push(q[t+2]+u),w.push(q[t+2]+u);w=0;for(u=c.length;w<u;w++)l.push(c[w],c[++w],p,n,h,b)}d.lineWidth&&(b=d.points,d.points=c,(0,f["default"])(d,a),d.points=b)};var k=(l=b("earcut"))&&l.__esModule?l:{"default":l},f=(l=
b("./buildLine"))&&l.__esModule?l:{"default":l},e=b("../../../utils")},{"../../../utils":116,"./buildLine":58,earcut:2}],62:[function(b,l,h){function g(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}function k(a){return a&&a.__esModule?a:{"default":a}}h.__esModule=!0;h.Filter=h.SpriteMaskFilter=h.Quad=h.RenderTarget=h.ObjectRenderer=h.WebGLManager=h.Shader=h.CanvasRenderTarget=h.TextureUvs=h.VideoBaseTexture=
h.BaseRenderTexture=h.RenderTexture=h.BaseTexture=h.Texture=h.CanvasGraphicsRenderer=h.GraphicsRenderer=h.GraphicsData=h.Graphics=h.TextStyle=h.Text=h.SpriteRenderer=h.CanvasTinter=h.CanvasSpriteRenderer=h.Sprite=h.TransformBase=h.TransformStatic=h.Transform=h.Container=h.DisplayObject=h.glCore=h.WebGLRenderer=h.CanvasRenderer=h.ticker=h.utils=void 0;var f=b("./const");Object.keys(f).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(h,a,{enumerable:!0,get:function(){return f[a]}})});
var e=b("./math");Object.keys(e).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(h,a,{enumerable:!0,get:function(){return e[a]}})});var d=b("pixi-gl-core");Object.defineProperty(h,"glCore",{enumerable:!0,get:function(){return k(d)["default"]}});var a=b("./display/DisplayObject");Object.defineProperty(h,"DisplayObject",{enumerable:!0,get:function(){return k(a)["default"]}});var c=b("./display/Container");Object.defineProperty(h,"Container",{enumerable:!0,get:function(){return k(c)["default"]}});
var m=b("./display/Transform");Object.defineProperty(h,"Transform",{enumerable:!0,get:function(){return k(m)["default"]}});var p=b("./display/TransformStatic");Object.defineProperty(h,"TransformStatic",{enumerable:!0,get:function(){return k(p)["default"]}});var n=b("./display/TransformBase");Object.defineProperty(h,"TransformBase",{enumerable:!0,get:function(){return k(n)["default"]}});var y=b("./sprites/Sprite");Object.defineProperty(h,"Sprite",{enumerable:!0,get:function(){return k(y)["default"]}});
var z=b("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(h,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return k(z)["default"]}});var w=b("./sprites/canvas/CanvasTinter");Object.defineProperty(h,"CanvasTinter",{enumerable:!0,get:function(){return k(w)["default"]}});var u=b("./sprites/webgl/SpriteRenderer");Object.defineProperty(h,"SpriteRenderer",{enumerable:!0,get:function(){return k(u)["default"]}});var q=b("./text/Text");Object.defineProperty(h,"Text",{enumerable:!0,get:function(){return k(q)["default"]}});
var t=b("./text/TextStyle");Object.defineProperty(h,"TextStyle",{enumerable:!0,get:function(){return k(t)["default"]}});var r=b("./graphics/Graphics");Object.defineProperty(h,"Graphics",{enumerable:!0,get:function(){return k(r)["default"]}});var v=b("./graphics/GraphicsData");Object.defineProperty(h,"GraphicsData",{enumerable:!0,get:function(){return k(v)["default"]}});var B=b("./graphics/webgl/GraphicsRenderer");Object.defineProperty(h,"GraphicsRenderer",{enumerable:!0,get:function(){return k(B)["default"]}});
var H=b("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(h,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return k(H)["default"]}});var K=b("./textures/Texture");Object.defineProperty(h,"Texture",{enumerable:!0,get:function(){return k(K)["default"]}});var C=b("./textures/BaseTexture");Object.defineProperty(h,"BaseTexture",{enumerable:!0,get:function(){return k(C)["default"]}});var F=b("./textures/RenderTexture");Object.defineProperty(h,"RenderTexture",{enumerable:!0,get:function(){return k(F)["default"]}});
var I=b("./textures/BaseRenderTexture");Object.defineProperty(h,"BaseRenderTexture",{enumerable:!0,get:function(){return k(I)["default"]}});var L=b("./textures/VideoBaseTexture");Object.defineProperty(h,"VideoBaseTexture",{enumerable:!0,get:function(){return k(L)["default"]}});var G=b("./textures/TextureUvs");Object.defineProperty(h,"TextureUvs",{enumerable:!0,get:function(){return k(G)["default"]}});var Q=b("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(h,"CanvasRenderTarget",
{enumerable:!0,get:function(){return k(Q)["default"]}});var O=b("./Shader");Object.defineProperty(h,"Shader",{enumerable:!0,get:function(){return k(O)["default"]}});var N=b("./renderers/webgl/managers/WebGLManager");Object.defineProperty(h,"WebGLManager",{enumerable:!0,get:function(){return k(N)["default"]}});var A=b("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(h,"ObjectRenderer",{enumerable:!0,get:function(){return k(A)["default"]}});var E=b("./renderers/webgl/utils/RenderTarget");
Object.defineProperty(h,"RenderTarget",{enumerable:!0,get:function(){return k(E)["default"]}});var D=b("./renderers/webgl/utils/Quad");Object.defineProperty(h,"Quad",{enumerable:!0,get:function(){return k(D)["default"]}});var P=b("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(h,"SpriteMaskFilter",{enumerable:!0,get:function(){return k(P)["default"]}});var J=b("./renderers/webgl/filters/Filter");Object.defineProperty(h,"Filter",{enumerable:!0,get:function(){return k(J)["default"]}});
h.autoDetectRenderer=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:800,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:600,d=arguments[2];return!arguments[3]&&M.isWebGLSupported()?new T["default"](a,c,d):new S["default"](a,c,d)};l=b("./utils");var M=g(l);l=b("./ticker");l=g(l);var R=b("./renderers/canvas/CanvasRenderer"),S=k(R);b=b("./renderers/webgl/WebGLRenderer");var T=k(b);h.utils=M;h.ticker=l;h.CanvasRenderer=S["default"];h.WebGLRenderer=T["default"]},{"./Shader":42,
"./const":43,"./display/Container":45,"./display/DisplayObject":46,"./display/Transform":47,"./display/TransformBase":48,"./display/TransformStatic":49,"./graphics/Graphics":50,"./graphics/GraphicsData":51,"./graphics/canvas/CanvasGraphicsRenderer":52,"./graphics/webgl/GraphicsRenderer":54,"./math":67,"./renderers/canvas/CanvasRenderer":74,"./renderers/canvas/utils/CanvasRenderTarget":76,"./renderers/webgl/WebGLRenderer":81,"./renderers/webgl/filters/Filter":83,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":86,
"./renderers/webgl/managers/WebGLManager":90,"./renderers/webgl/utils/ObjectRenderer":91,"./renderers/webgl/utils/Quad":92,"./renderers/webgl/utils/RenderTarget":93,"./sprites/Sprite":98,"./sprites/canvas/CanvasSpriteRenderer":99,"./sprites/canvas/CanvasTinter":100,"./sprites/webgl/SpriteRenderer":102,"./text/Text":104,"./text/TextStyle":105,"./textures/BaseRenderTexture":106,"./textures/BaseTexture":107,"./textures/RenderTexture":108,"./textures/Texture":109,"./textures/TextureUvs":110,"./textures/VideoBaseTexture":111,
"./ticker":113,"./utils":116,"pixi-gl-core":12}],63:[function(b,l,h){function g(a){return 0>a?-1:0<a?1:0}h.__esModule=!0;var k=(b=b("./Matrix"))&&b.__esModule?b:{"default":b},f=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],e=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],d=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],a=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],c=[],m=[];(function(){for(var b=0;16>b;b++){var p=[];m.push(p);for(var h=0;16>h;h++)for(var l=g(f[b]*f[h]+d[b]*e[h]),u=g(e[b]*f[h]+a[b]*e[h]),q=g(f[b]*d[h]+d[b]*
a[h]),t=g(e[b]*d[h]+a[b]*a[h]),r=0;16>r;r++)if(f[r]===l&&e[r]===u&&d[r]===q&&a[r]===t){p.push(r);break}}for(b=0;16>b;b++)p=new k["default"],p.set(f[b],e[b],d[b],a[b],0,0),c.push(p)})();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(a){return f[a]},uY:function(a){return e[a]},vX:function(a){return d[a]},vY:function(c){return a[c]},inv:function(a){return a&8?a&15:-a&7},add:function(a,c){return m[a][c]},sub:function(a,c){return m[a][p.inv(c)]},rotate180:function(a){return a^
4},isSwapWidthHeight:function(a){return 2===(a&3)},byDirection:function(a,c){return 2*Math.abs(a)<=Math.abs(c)?0<=c?p.S:p.N:2*Math.abs(c)<=Math.abs(a)?0<a?p.E:p.W:0<c?0<a?p.SE:p.SW:0<a?p.NE:p.NW},matrixAppendRotationInv:function(a,d){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,b=c[p.inv(d)];b.tx=e;b.ty=f;a.append(b)}};h["default"]=p},{"./Matrix":64}],64:[function(b,l,h){h.__esModule=!0;var g=function(){function f(e,d){for(var a=
0;a<d.length;a++){var c=d[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(e,c.key,c)}}return function(e,d,a){d&&f(e.prototype,d);a&&f(e,a);return e}}(),k=(b=b("./Point"))&&b.__esModule?b:{"default":b};b=function(){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;this.array=null}f.prototype.fromArray=function(e){this.a=e[0];this.b=e[1];this.c=e[3];this.d=
e[4];this.tx=e[2];this.ty=e[5]};f.prototype.set=function(e,d,a,c,f,b){this.a=e;this.b=d;this.c=a;this.d=c;this.tx=f;this.ty=b;return this};f.prototype.toArray=function(e,d){this.array||(this.array=new Float32Array(9));var a=d||this.array;e?(a[0]=this.a,a[1]=this.b,a[2]=0,a[3]=this.c,a[4]=this.d,a[5]=0,a[6]=this.tx,a[7]=this.ty):(a[0]=this.a,a[1]=this.c,a[2]=this.tx,a[3]=this.b,a[4]=this.d,a[5]=this.ty,a[6]=0,a[7]=0);a[8]=1;return a};f.prototype.apply=function(e,d){d=d||new k["default"];var a=e.x,
c=e.y;d.x=this.a*a+this.c*c+this.tx;d.y=this.b*a+this.d*c+this.ty;return d};f.prototype.applyInverse=function(e,d){d=d||new k["default"];var a=1/(this.a*this.d+this.c*-this.b),c=e.x,f=e.y;d.x=this.d*a*c+-this.c*a*f+(this.ty*this.c-this.tx*this.d)*a;d.y=this.a*a*f+-this.b*a*c+(-this.ty*this.a+this.tx*this.b)*a;return d};f.prototype.translate=function(e,d){this.tx+=e;this.ty+=d;return this};f.prototype.scale=function(e,d){this.a*=e;this.d*=d;this.c*=e;this.b*=d;this.tx*=e;this.ty*=d;return this};f.prototype.rotate=
function(e){var d=Math.cos(e);e=Math.sin(e);var a=this.a,c=this.c,f=this.tx;this.a=a*d-this.b*e;this.b=a*e+this.b*d;this.c=c*d-this.d*e;this.d=c*e+this.d*d;this.tx=f*d-this.ty*e;this.ty=f*e+this.ty*d;return this};f.prototype.append=function(e){var d=this.a,a=this.b,c=this.c,f=this.d;this.a=e.a*d+e.b*c;this.b=e.a*a+e.b*f;this.c=e.c*d+e.d*c;this.d=e.c*a+e.d*f;this.tx=e.tx*d+e.ty*c+this.tx;this.ty=e.tx*a+e.ty*f+this.ty;return this};f.prototype.setTransform=function(e,d,a,c,f,b,n,k,g){var h=Math.sin(n),
l=Math.cos(n);n=Math.cos(g);g=Math.sin(g);var q=-Math.sin(k);k=Math.cos(k);var t=l*f;f*=h;h=-h*b;b*=l;this.a=n*t+g*h;this.b=n*f+g*b;this.c=q*t+k*h;this.d=q*f+k*b;this.tx=e+(a*t+c*h);this.ty=d+(a*f+c*b);return this};f.prototype.prepend=function(e){var d=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var a=this.a,c=this.c;this.a=a*e.a+this.b*e.c;this.b=a*e.b+this.b*e.d;this.c=c*e.a+this.d*e.c;this.d=c*e.b+this.d*e.d}this.tx=d*e.a+this.ty*e.c+e.tx;this.ty=d*e.b+this.ty*e.d+e.ty;return this};f.prototype.decompose=
function(e){var d=this.a,a=this.b,c=this.c,f=this.d,b=Math.atan2(-c,f),n=Math.atan2(a,d);1E-5>Math.abs(1-b/n)?(e.rotation=n,0>d&&0<=f&&(e.rotation+=0>=e.rotation?Math.PI:-Math.PI),e.skew.x=e.skew.y=0):(e.skew.x=b,e.skew.y=n);e.scale.x=Math.sqrt(d*d+a*a);e.scale.y=Math.sqrt(c*c+f*f);e.position.x=this.tx;e.position.y=this.ty;return e};f.prototype.invert=function(){var e=this.a,d=this.b,a=this.c,c=this.d,f=this.tx,b=e*c-d*a;this.a=c/b;this.b=-d/b;this.c=-a/b;this.d=e/b;this.tx=(a*this.ty-c*f)/b;this.ty=
-(e*this.ty-d*f)/b;return this};f.prototype.identity=function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this};f.prototype.clone=function(){var e=new f;e.a=this.a;e.b=this.b;e.c=this.c;e.d=this.d;e.tx=this.tx;e.ty=this.ty;return e};f.prototype.copy=function(e){e.a=this.a;e.b=this.b;e.c=this.c;e.d=this.d;e.tx=this.tx;e.ty=this.ty;return e};g(f,null,[{key:"IDENTITY",get:function(){return new f}},{key:"TEMP_MATRIX",get:function(){return new f}}]);return f}();h["default"]=b},{"./Point":66}],
65:[function(b,l,h){h.__esModule=!0;var g=function(){function b(f,e){for(var d=0;d<e.length;d++){var a=e[d];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(f,a.key,a)}}return function(f,e,d){e&&b(f.prototype,e);d&&b(f,d);return f}}();b=function(){function b(f,e){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this._x=d;this._y=a;this.cb=f;this.scope=e}b.prototype.set=function(f,e){var d=f||0,a=e||(0!==e?d:0);if(this._x!==d||this._y!==a)this._x=d,this._y=a,this.cb.call(this.scope)};b.prototype.copy=function(f){if(this._x!==f.x||this._y!==f.y)this._x=f.x,this._y=f.y,this.cb.call(this.scope)};g(b,[{key:"x",get:function(){return this._x},set:function(f){this._x!==f&&(this._x=f,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(f){this._y!==f&&(this._y=f,this.cb.call(this.scope))}}]);
return b}();h["default"]=b},{}],66:[function(b,l,h){h.__esModule=!0;b=function(){function b(){var k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.x=k;this.y=f}b.prototype.clone=function(){return new b(this.x,this.y)};b.prototype.copy=function(b){this.set(b.x,b.y)};b.prototype.equals=function(b){return b.x===this.x&&b.y===this.y};b.prototype.set=
function(b,f){this.x=b||0;this.y=f||(0!==f?this.x:0)};return b}();h["default"]=b},{}],67:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}h.__esModule=!0;var k=b("./Point");Object.defineProperty(h,"Point",{enumerable:!0,get:function(){return g(k)["default"]}});var f=b("./ObservablePoint");Object.defineProperty(h,"ObservablePoint",{enumerable:!0,get:function(){return g(f)["default"]}});var e=b("./Matrix");Object.defineProperty(h,"Matrix",{enumerable:!0,get:function(){return g(e)["default"]}});
var d=b("./GroupD8");Object.defineProperty(h,"GroupD8",{enumerable:!0,get:function(){return g(d)["default"]}});var a=b("./shapes/Circle");Object.defineProperty(h,"Circle",{enumerable:!0,get:function(){return g(a)["default"]}});var c=b("./shapes/Ellipse");Object.defineProperty(h,"Ellipse",{enumerable:!0,get:function(){return g(c)["default"]}});var m=b("./shapes/Polygon");Object.defineProperty(h,"Polygon",{enumerable:!0,get:function(){return g(m)["default"]}});var p=b("./shapes/Rectangle");Object.defineProperty(h,
"Rectangle",{enumerable:!0,get:function(){return g(p)["default"]}});var n=b("./shapes/RoundedRectangle");Object.defineProperty(h,"RoundedRectangle",{enumerable:!0,get:function(){return g(n)["default"]}})},{"./GroupD8":63,"./Matrix":64,"./ObservablePoint":65,"./Point":66,"./shapes/Circle":68,"./shapes/Ellipse":69,"./shapes/Polygon":70,"./shapes/Rectangle":71,"./shapes/RoundedRectangle":72}],68:[function(b,l,h){h.__esModule=!0;var g=(l=b("./Rectangle"))&&l.__esModule?l:{"default":l},k=b("../../const");
b=function(){function f(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.x=e;this.y=d;this.radius=a;this.type=k.SHAPES.CIRC}f.prototype.clone=function(){return new f(this.x,this.y,this.radius)};f.prototype.contains=function(e,d){if(0>=this.radius)return!1;var a=this.x-e,c=this.y-d;
return a*a+c*c<=this.radius*this.radius};f.prototype.getBounds=function(){return new g["default"](this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};return f}();h["default"]=b},{"../../const":43,"./Rectangle":71}],69:[function(b,l,h){h.__esModule=!0;var g=(l=b("./Rectangle"))&&l.__esModule?l:{"default":l},k=b("../../const");b=function(){function f(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:0,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.x=e;this.y=d;this.width=a;this.height=c;this.type=k.SHAPES.ELIP}f.prototype.clone=function(){return new f(this.x,this.y,this.width,this.height)};f.prototype.contains=function(e,d){if(0>=this.width||0>=this.height)return!1;var a=(e-this.x)/this.width,c=(d-this.y)/this.height;return 1>=a*a+c*c};f.prototype.getBounds=function(){return new g["default"](this.x-
this.width,this.y-this.height,this.width,this.height)};return f}();h["default"]=b},{"../../const":43,"./Rectangle":71}],70:[function(b,l,h){h.__esModule=!0;var g=(l=b("../Point"))&&l.__esModule?l:{"default":l},k=b("../../const");b=function(){function f(){for(var e=arguments.length,d=Array(e),a=0;a<e;a++)d[a]=arguments[a];if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");Array.isArray(d[0])&&(d=d[0]);if(d[0]instanceof g["default"]){for(var e=[],a=0,c=d.length;a<c;a++)e.push(d[a].x,
d[a].y);d=e}this.closed=!0;this.points=d;this.type=k.SHAPES.POLY}f.prototype.clone=function(){return new f(this.points.slice())};f.prototype.close=function(){var e=this.points;e[0]===e[e.length-2]&&e[1]===e[e.length-1]||e.push(e[0],e[1])};f.prototype.contains=function(e,d){for(var a=!1,c=this.points.length/2,f=0,b=c-1;f<c;b=++f){var n=this.points[2*f],k=this.points[2*f+1],g=this.points[2*b],b=this.points[2*b+1];k>d!==b>d&&e<(d-k)/(b-k)*(g-n)+n&&(a=!a)}return a};return f}();h["default"]=b},{"../../const":43,
"../Point":66}],71:[function(b,l,h){h.__esModule=!0;var g=function(){function f(e,d){for(var a=0;a<d.length;a++){var c=d[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(e,c.key,c)}}return function(e,d,a){d&&f(e.prototype,d);a&&f(e,a);return e}}(),k=b("../../const");b=function(){function f(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?
arguments[2]:0,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.x=e;this.y=d;this.width=a;this.height=c;this.type=k.SHAPES.RECT}f.prototype.clone=function(){return new f(this.x,this.y,this.width,this.height)};f.prototype.copy=function(e){this.x=e.x;this.y=e.y;this.width=e.width;this.height=e.height;return this};f.prototype.contains=function(e,d){return 0>=this.width||0>=this.height?!1:e>=this.x&&e<this.x+
this.width&&d>=this.y&&d<this.y+this.height?!0:!1};f.prototype.pad=function(e,d){e=e||0;d=d||(0!==d?e:0);this.x-=e;this.y-=d;this.width+=2*e;this.height+=2*d};f.prototype.fit=function(e){this.x<e.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=e.x);this.y<e.y&&(this.height+=this.y,0>this.height&&(this.height=0),this.y=e.y);this.x+this.width>e.x+e.width&&(this.width=e.width-this.x,0>this.width&&(this.width=0));this.y+this.height>e.y+e.height&&(this.height=e.height-this.y,0>this.height&&
(this.height=0))};f.prototype.enlarge=function(e){if(e!==f.EMPTY){var d=Math.min(this.x,e.x),a=Math.max(this.x+this.width,e.x+e.width),c=Math.min(this.y,e.y);e=Math.max(this.y+this.height,e.y+e.height);this.x=d;this.width=a-d;this.y=c;this.height=e-c}};g(f,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new f(0,0,
0,0)}}]);return f}();h["default"]=b},{"../../const":43}],72:[function(b,l,h){h.__esModule=!0;var g=b("../../const");b=function(){function b(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.x=f;this.y=e;this.width=d;this.height=a;this.radius=c;this.type=g.SHAPES.RREC}b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height,this.radius)};b.prototype.contains=function(f,e){return 0>=this.width||0>=this.height?!1:f>=this.x&&f<=this.x+this.width&&e>=this.y&&e<=this.y+this.height?!0:!1};return b}();h["default"]=b},{"../../const":43}],73:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;var f=function(){function a(c,d){for(var e=0;e<d.length;e++){var f=d[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,d,e){d&&a(c.prototype,d);e&&a(c,e);return c}}(),e=b("../utils");l=b("../math");var d=b("../const"),
a=b("../display/Container"),c=g(a),a=b("../textures/RenderTexture"),m=g(a);b=b("eventemitter3");b=g(b);var p=new l.Matrix;l=function(a){function b(f,m,k,p){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var g;g=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;(0,e.sayHello)(f);if(p)for(var h in d.DEFAULT_RENDER_OPTIONS)"undefined"===typeof p[h]&&(p[h]=
d.DEFAULT_RENDER_OPTIONS[h]);else p=d.DEFAULT_RENDER_OPTIONS;g.type=d.RENDERER_TYPE.UNKNOWN;g.width=m||800;g.height=k||600;g.view=p.view||document.createElement("canvas");g.resolution=p.resolution||d.RESOLUTION;g.transparent=p.transparent;g.autoResize=p.autoResize||!1;g.blendModes=null;g.preserveDrawingBuffer=p.preserveDrawingBuffer;g.clearBeforeRender=p.clearBeforeRender;g.roundPixels=p.roundPixels;g._backgroundColor=0;g._backgroundColorRgba=[0,0,0,0];g._backgroundColorString="#000000";g.backgroundColor=
p.backgroundColor||g._backgroundColor;g._tempDisplayObjectParent=new c["default"];g._lastObjectRendered=g._tempDisplayObjectParent;return g}k(b,a);b.prototype.resize=function(a,c){this.width=a*this.resolution;this.height=c*this.resolution;this.view.width=this.width;this.view.height=this.height;this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")};b.prototype.generateTexture=function(a,c,d){var e=a.getLocalBounds();c=m["default"].create(e.width|
0,e.height|0,c,d);p.tx=-e.x;p.ty=-e.y;this.render(a,c,!1,p,!0);return c};b.prototype.destroy=function(a){a&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.type=d.RENDERER_TYPE.UNKNOWN;this.height=this.width=0;this.view=null;this.resolution=0;this.autoResize=this.transparent=!1;this.blendModes=null;this.roundPixels=this.clearBeforeRender=this.preserveDrawingBuffer=!1;this._backgroundColor=0;this._backgroundColorString=this._backgroundColorRgba=null;this.backgroundColor=0;this._lastObjectRendered=
this._tempDisplayObjectParent=null};f(b,[{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a;this._backgroundColorString=(0,e.hex2string)(a);(0,e.hex2rgb)(a,this._backgroundColorRgba)}}]);return b}(b["default"]);h["default"]=l},{"../const":43,"../display/Container":45,"../math":67,"../textures/RenderTexture":108,"../utils":116,eventemitter3:3}],74:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}function k(a,c){if("function"!==
typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;l=b("../SystemRenderer");l=g(l);var f=b("./utils/CanvasMaskManager"),e=g(f),f=b("./utils/CanvasRenderTarget"),d=g(f),f=b("./utils/mapCanvasBlendModesToPixi"),a=g(f),f=b("../../utils"),c=b("../../const");
b=function(f){function b(d,k){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");g=f.call(this,"Canvas",d,k,g);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.type=c.RENDERER_TYPE.CANVAS;g.rootContext=g.view.getContext("2d",{alpha:g.transparent});g.refresh=!0;g.maskManager=new e["default"](g);g.smoothProperty=
"imageSmoothingEnabled";g.rootContext.imageSmoothingEnabled||(g.rootContext.webkitImageSmoothingEnabled?g.smoothProperty="webkitImageSmoothingEnabled":g.rootContext.mozImageSmoothingEnabled?g.smoothProperty="mozImageSmoothingEnabled":g.rootContext.oImageSmoothingEnabled?g.smoothProperty="oImageSmoothingEnabled":g.rootContext.msImageSmoothingEnabled&&(g.smoothProperty="msImageSmoothingEnabled"));g.initPlugins();g.blendModes=(0,a["default"])();g._activeBlendMode=null;g.context=null;g.renderingToScreen=
!1;g.resize(d,k);return g}k(b,f);b.prototype.render=function(a,e,f,b,m){if(this.view){this.renderingToScreen=!e;this.emit("prerender");e?(e=e.baseTexture||e,e._canvasRenderTarget||(e._canvasRenderTarget=new d["default"](e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var g=this.context;e||(this._lastObjectRendered=a);m||(e=a.parent,m=this._tempDisplayObjectParent.transform.worldTransform,
b?b.copy(m):m.identity(),a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=e);g.setTransform(1,0,0,1,0,0);g.globalAlpha=1;g.globalCompositeOperation=this.blendModes[c.BLEND_MODES.NORMAL];navigator.isCocoonJS&&this.view.screencanvas&&(g.fillStyle="black",g.clear());(void 0!==f?f:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?g.clearRect(0,0,this.width,this.height):(g.fillStyle=this._backgroundColorString,g.fillRect(0,0,this.width,this.height)));f=this.context;
this.context=g;a.renderCanvas(this);this.context=f;this.emit("postrender")}};b.prototype.setBlendMode=function(a){this._activeBlendMode!==a&&(this.context.globalCompositeOperation=this.blendModes[a])};b.prototype.destroy=function(a){this.destroyPlugins();f.prototype.destroy.call(this,a);this.context=null;this.refresh=!0;this.maskManager.destroy();this.smoothProperty=this.maskManager=null};b.prototype.resize=function(a,d){f.prototype.resize.call(this,a,d);this.smoothProperty&&(this.rootContext[this.smoothProperty]=
c.SCALE_MODES.DEFAULT===c.SCALE_MODES.LINEAR)};return b}(l["default"]);h["default"]=b;f.pluginTarget.mixin(b)},{"../../const":43,"../../utils":116,"../SystemRenderer":73,"./utils/CanvasMaskManager":75,"./utils/CanvasRenderTarget":76,"./utils/mapCanvasBlendModesToPixi":78}],75:[function(b,l,h){h.__esModule=!0;var g=b("../../../const");b=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=f}b.prototype.pushMask=function(f){var e=this.renderer;
e.context.save();var d=f.alpha,a=f.transform.worldTransform,c=e.resolution;e.context.setTransform(a.a*c,a.b*c,a.c*c,a.d*c,a.tx*c,a.ty*c);f._texture||(this.renderGraphicsShape(f),e.context.clip());f.worldAlpha=d};b.prototype.renderGraphicsShape=function(f){var e=this.renderer.context,d=f.graphicsData.length;if(0!==d){e.beginPath();for(var a=0;a<d;a++){var c=f.graphicsData[a],b=c.shape;if(c.type===g.SHAPES.POLY){c=b.points;e.moveTo(c[0],c[1]);for(var k=1;k<c.length/2;k++)e.lineTo(c[2*k],c[2*k+1]);c[0]===
c[c.length-2]&&c[1]===c[c.length-1]&&e.closePath()}else if(c.type===g.SHAPES.RECT)e.rect(b.x,b.y,b.width,b.height),e.closePath();else if(c.type===g.SHAPES.CIRC)e.arc(b.x,b.y,b.radius,0,2*Math.PI),e.closePath();else if(c.type===g.SHAPES.ELIP){var n=2*b.width,k=2*b.height,c=b.x-n/2,b=b.y-k/2,h=n/2*.5522848,l=k/2*.5522848,w=c+n,u=b+k,n=c+n/2,k=b+k/2;e.moveTo(c,k);e.bezierCurveTo(c,k-l,n-h,b,n,b);e.bezierCurveTo(n+h,b,w,k-l,w,k);e.bezierCurveTo(w,k+l,n+h,u,n,u);e.bezierCurveTo(n-h,u,c,k+l,c,k);e.closePath()}else c.type===
g.SHAPES.RREC&&(c=b.x,k=b.y,h=b.width,l=b.height,b=b.radius,w=Math.min(h,l)/2|0,b=b>w?w:b,e.moveTo(c,k+b),e.lineTo(c,k+l-b),e.quadraticCurveTo(c,k+l,c+b,k+l),e.lineTo(c+h-b,k+l),e.quadraticCurveTo(c+h,k+l,c+h,k+l-b),e.lineTo(c+h,k+b),e.quadraticCurveTo(c+h,k,c+h-b,k),e.lineTo(c+b,k),e.quadraticCurveTo(c,k,c,k+b),e.closePath())}}};b.prototype.popMask=function(f){f.context.restore()};b.prototype.destroy=function(){};return b}();h["default"]=b},{"../../../const":43}],76:[function(b,l,h){h.__esModule=
!0;var g=function(){function f(e,d){for(var a=0;a<d.length;a++){var c=d[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(e,c.key,c)}}return function(e,d,a){d&&f(e.prototype,d);a&&f(e,a);return e}}(),k=b("../../../const");b=function(){function f(e,d,a){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=a||k.RESOLUTION;
this.resize(e,d)}f.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};f.prototype.resize=function(e,d){this.canvas.width=e*this.resolution;this.canvas.height=d*this.resolution};f.prototype.destroy=function(){this.canvas=this.context=null};g(f,[{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=
e}}]);return f}();h["default"]=b},{"../../../const":43}],77:[function(b,l,h){function g(b){var f=document.createElement("canvas");f.width=6;f.height=1;var e=f.getContext("2d");e.fillStyle=b;e.fillRect(0,0,6,1);return f}h.__esModule=!0;h["default"]=function(){if("undefined"===typeof document)return!1;var b=g("#ff00ff"),f=g("#ffff00"),e=document.createElement("canvas");e.width=6;e.height=1;e=e.getContext("2d");e.globalCompositeOperation="multiply";e.drawImage(b,0,0);e.drawImage(f,2,0);b=e.getImageData(2,
0,1,1);if(!b)return!1;b=b.data;return 255===b[0]&&0===b[1]&&0===b[2]}},{}],78:[function(b,l,h){h.__esModule=!0;h["default"]=function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(0,k["default"])()?(f[g.BLEND_MODES.NORMAL]="source-over",f[g.BLEND_MODES.ADD]="lighter",f[g.BLEND_MODES.MULTIPLY]="multiply",f[g.BLEND_MODES.SCREEN]="screen",f[g.BLEND_MODES.OVERLAY]="overlay",f[g.BLEND_MODES.DARKEN]="darken",f[g.BLEND_MODES.LIGHTEN]="lighten",f[g.BLEND_MODES.COLOR_DODGE]="color-dodge",
f[g.BLEND_MODES.COLOR_BURN]="color-burn",f[g.BLEND_MODES.HARD_LIGHT]="hard-light",f[g.BLEND_MODES.SOFT_LIGHT]="soft-light",f[g.BLEND_MODES.DIFFERENCE]="difference",f[g.BLEND_MODES.EXCLUSION]="exclusion",f[g.BLEND_MODES.HUE]="hue",f[g.BLEND_MODES.SATURATION]="saturate",f[g.BLEND_MODES.COLOR]="color",f[g.BLEND_MODES.LUMINOSITY]="luminosity"):(f[g.BLEND_MODES.NORMAL]="source-over",f[g.BLEND_MODES.ADD]="lighter",f[g.BLEND_MODES.MULTIPLY]="source-over",f[g.BLEND_MODES.SCREEN]="source-over",f[g.BLEND_MODES.OVERLAY]=
"source-over",f[g.BLEND_MODES.DARKEN]="source-over",f[g.BLEND_MODES.LIGHTEN]="source-over",f[g.BLEND_MODES.COLOR_DODGE]="source-over",f[g.BLEND_MODES.COLOR_BURN]="source-over",f[g.BLEND_MODES.HARD_LIGHT]="source-over",f[g.BLEND_MODES.SOFT_LIGHT]="source-over",f[g.BLEND_MODES.DIFFERENCE]="source-over",f[g.BLEND_MODES.EXCLUSION]="source-over",f[g.BLEND_MODES.HUE]="source-over",f[g.BLEND_MODES.SATURATION]="source-over",f[g.BLEND_MODES.COLOR]="source-over",f[g.BLEND_MODES.LUMINOSITY]="source-over");return f};
var g=b("../../../const"),k=(b=b("./canUseNewCanvasBlendModes"))&&b.__esModule?b:{"default":b}},{"../../../const":43,"./canUseNewCanvasBlendModes":77}],79:[function(b,l,h){h.__esModule=!0;var g=b("../../const");b=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=f;this.checkCount=this.count=0;this.maxIdle=3600;this.checkCountMax=600;this.mode=g.GC_MODES.DEFAULT}b.prototype.update=function(){this.count++;this.mode!==g.GC_MODES.MANUAL&&
(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))};b.prototype.run=function(){for(var f=this.renderer.textureManager,e=f._managedTextures,d=!1,a=0;a<e.length;a++){var c=e[a];!c._glRenderTargets&&this.count-c.touched>this.maxIdle&&(f.destroyTexture(c,!0),e[a]=null,d=!0)}if(d){for(d=f=0;d<e.length;d++)null!==e[d]&&(e[f++]=e[d]);e.length=f}};b.prototype.unload=function(f){var e=this.renderer.textureManager;f._texture&&e.destroyTexture(f._texture,!0);for(e=f.children.length-
1;0<=e;e--)this.unload(f.children[e])};return b}();h["default"]=b},{"../../const":43}],80:[function(b,l,h){h.__esModule=!0;var g=b("pixi-gl-core"),k=b("../../const"),f=(l=b("./utils/RenderTarget"))&&l.__esModule?l:{"default":l},e=b("../../utils");b=function(){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.renderer=a;this.gl=a.gl;this._managedTextures=[]}d.prototype.bindTexture=function(){};d.prototype.getTexture=function(){};d.prototype.updateTexture=
function(a){a=a.baseTexture||a;var c=!!a._glRenderTargets;if(!a.hasLoaded)return null;var d=a._glTextures[this.renderer.CONTEXT_UID];d?c?a._glRenderTargets[this.renderer.CONTEXT_UID].resize(a.width,a.height):d.upload(a.source):(c?(c=new f["default"](this.gl,a.width,a.height,a.scaleMode,a.resolution),c.resize(a.width,a.height),a._glRenderTargets[this.renderer.CONTEXT_UID]=c,d=c.texture):(d=new g.GLTexture(this.gl),d.premultiplyAlpha=!0,d.upload(a.source)),a._glTextures[this.renderer.CONTEXT_UID]=d,
a.on("update",this.updateTexture,this),a.on("dispose",this.destroyTexture,this),this._managedTextures.push(a),a.isPowerOfTwo?(a.mipmap&&d.enableMipmap(),a.wrapMode===k.WRAP_MODES.CLAMP?d.enableWrapClamp():a.wrapMode===k.WRAP_MODES.REPEAT?d.enableWrapRepeat():d.enableWrapMirrorRepeat()):d.enableWrapClamp(),a.scaleMode===k.SCALE_MODES.NEAREST?d.enableNearestScaling():d.enableLinearScaling());return d};d.prototype.destroyTexture=function(a,c){a=a.baseTexture||a;if(a.hasLoaded&&a._glTextures[this.renderer.CONTEXT_UID]&&
(a._glTextures[this.renderer.CONTEXT_UID].destroy(),a.off("update",this.updateTexture,this),a.off("dispose",this.destroyTexture,this),delete a._glTextures[this.renderer.CONTEXT_UID],!c)){var d=this._managedTextures.indexOf(a);-1!==d&&(0,e.removeItems)(this._managedTextures,d,1)}};d.prototype.removeAll=function(){for(var a=0;a<this._managedTextures.length;++a){var c=this._managedTextures[a];c._glTextures[this.renderer.CONTEXT_UID]&&delete c._glTextures[this.renderer.CONTEXT_UID]}};d.prototype.destroy=
function(){for(var a=0;a<this._managedTextures.length;++a){var c=this._managedTextures[a];this.destroyTexture(c,!0);c.off("update",this.updateTexture,this);c.off("dispose",this.destroyTexture,this)}this._managedTextures=null};return d}();h["default"]=b},{"../../const":43,"../../utils":116,"./utils/RenderTarget":93,"pixi-gl-core":12}],81:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;l=b("../SystemRenderer");var f=g(l);l=b("./managers/MaskManager");var e=g(l);l=b("./managers/StencilManager");var d=g(l);l=b("./managers/FilterManager");var a=g(l);l=b("./utils/RenderTarget");var c=g(l);l=b("./utils/ObjectRenderer");var m=g(l);l=b("./TextureManager");var p=g(l);l=b("./TextureGarbageCollector");
var n=g(l);l=b("./WebGLState");var y=g(l);l=b("./utils/mapWebGLDrawModesToPixi");var z=g(l);l=b("./utils/validateContext");var w=g(l);l=b("../../utils");var u=b("pixi-gl-core"),q=g(u),t=b("../../const"),r=0;b=function(b){function g(c,f){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var k;k=b.call(this,"WebGL",c,f,n);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
k=!k||"object"!==typeof k&&"function"!==typeof k?this:k;k.type=t.RENDERER_TYPE.WEBGL;k.handleContextLost=k.handleContextLost.bind(k);k.handleContextRestored=k.handleContextRestored.bind(k);k.view.addEventListener("webglcontextlost",k.handleContextLost,!1);k.view.addEventListener("webglcontextrestored",k.handleContextRestored,!1);k._contextOptions={alpha:k.transparent,antialias:n.antialias,premultipliedAlpha:k.transparent&&"notMultiplied"!==k.transparent,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer};
k._backgroundColorRgba[3]=k.transparent?0:1;k.maskManager=new e["default"](k);k.stencilManager=new d["default"](k);k.emptyRenderer=new m["default"](k);k.currentRenderer=k.emptyRenderer;k.initPlugins();n.context&&(0,w["default"])(n.context);k.gl=n.context||q["default"].createContext(k.view,k._contextOptions);k.CONTEXT_UID=r++;k.state=new y["default"](k.gl);k.renderingToScreen=!0;k._initContext();k.filterManager=new a["default"](k);k.drawModes=(0,z["default"])(k.gl);k._activeShader=null;k._activeRenderTarget=
null;k._activeTextureLocation=999;k._activeTexture=null;k.setBlendMode(0);return k}k(g,b);g.prototype._initContext=function(){var a=this.gl;a.isContextLost()&&a.getExtension("WEBGL_lose_context")&&a.getExtension("WEBGL_lose_context").restoreContext();this.textureManager=new p["default"](this);this.textureGC=new n["default"](this);this.state.resetToDefault();this.rootRenderTarget=new c["default"](a,this.width,this.height,null,this.resolution,!0);this.rootRenderTarget.clearColor=this._backgroundColorRgba;
this.bindRenderTarget(this.rootRenderTarget);this.emit("context",a);this.resize(this.width,this.height)};g.prototype.render=function(a,c,d,e,f){this.renderingToScreen=!c;this.emit("prerender");this.gl&&!this.gl.isContextLost()&&(c||(this._lastObjectRendered=a),f||(f=a.parent,a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=f),this.bindRenderTexture(c,e),this.currentRenderer.start(),(void 0!==d?d:this.clearBeforeRender)&&this._activeRenderTarget.clear(),a.renderWebGL(this),this.currentRenderer.flush(),
this.textureGC.update(),this.emit("postrender"))};g.prototype.setObjectRenderer=function(a){this.currentRenderer!==a&&(this.currentRenderer.stop(),this.currentRenderer=a,this.currentRenderer.start())};g.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};g.prototype.resize=function(a,c){f["default"].prototype.resize.call(this,a,c);this.rootRenderTarget.resize(a,c);this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=
this.rootRenderTarget.projectionMatrix.toArray(!0)))};g.prototype.setBlendMode=function(a){this.state.setBlendMode(a)};g.prototype.clear=function(a){this._activeRenderTarget.clear(a)};g.prototype.setTransform=function(a){this._activeRenderTarget.transform=a};g.prototype.bindRenderTexture=function(a,c){var d;if(a){d=a.baseTexture;var e=this.gl;d._glRenderTargets[this.CONTEXT_UID]?(this._activeTextureLocation=d._id,e.activeTexture(e.TEXTURE0+d._id)):this.textureManager.updateTexture(d);e.bindTexture(e.TEXTURE_2D,
null);d=d._glRenderTargets[this.CONTEXT_UID];d.setFrame(a.frame)}else d=this.rootRenderTarget;d.transform=c;this.bindRenderTarget(d);return this};g.prototype.bindRenderTarget=function(a){a!==this._activeRenderTarget&&(this._activeRenderTarget=a,a.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=a.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(a.stencilMaskStack));return this};g.prototype.bindShader=function(a){this._activeShader!==a&&(this._activeShader=
a,a.bind(),a.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0));return this};g.prototype.bindTexture=function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;a=a.baseTexture||a;var d=this.gl;this._activeTextureLocation!==c&&(this._activeTextureLocation=c,d.activeTexture(d.TEXTURE0+c));this._activeTexture=a;a._glTextures[this.CONTEXT_UID]?(a.touched=this.textureGC.count,a._glTextures[this.CONTEXT_UID].bind()):this.textureManager.updateTexture(a);return this};
g.prototype.createVao=function(){return new q["default"].VertexArrayObject(this.gl,this.state.attribState)};g.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer);this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;this._activeTextureLocation=999;this._activeTexture=null;this.rootRenderTarget.activate();this.state.resetToDefault();return this};g.prototype.handleContextLost=function(a){a.preventDefault()};g.prototype.handleContextRestored=function(){this._initContext();
this.textureManager.removeAll()};g.prototype.destroy=function(a){this.destroyPlugins();this.view.removeEventListener("webglcontextlost",this.handleContextLost);this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);this.textureManager.destroy();b.prototype.destroy.call(this,a);this.uid=0;this.maskManager.destroy();this.stencilManager.destroy();this.filterManager.destroy();this._contextOptions=this.handleContextRestored=this.handleContextLost=this.currentRenderer=this.textureManager=
this.filterManager=this.maskManager=null;this.gl.useProgram(null);this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext();this.gl=null};return g}(f["default"]);h["default"]=b;l.pluginTarget.mixin(b)},{"../../const":43,"../../utils":116,"../SystemRenderer":73,"./TextureGarbageCollector":79,"./TextureManager":80,"./WebGLState":82,"./managers/FilterManager":87,"./managers/MaskManager":88,"./managers/StencilManager":89,"./utils/ObjectRenderer":91,"./utils/RenderTarget":93,
"./utils/mapWebGLDrawModesToPixi":96,"./utils/validateContext":97,"pixi-gl-core":12}],82:[function(b,l,h){h.__esModule=!0;var g=(b=b("./utils/mapWebGLBlendModesToPixi"))&&b.__esModule?b:{"default":b};b=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.activeState=new Uint8Array(16);this.defaultState=new Uint8Array(16);this.defaultState[0]=1;this.stackIndex=0;this.stack=[];this.gl=f;this.maxAttribs=f.getParameter(f.MAX_VERTEX_ATTRIBS);this.attribState=
{tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)};this.blendModes=(0,g["default"])(f);this.nativeVaoExtension=f.getExtension("OES_vertex_array_object")||f.getExtension("MOZ_OES_vertex_array_object")||f.getExtension("WEBKIT_OES_vertex_array_object")}b.prototype.push=function(){var f=this.stack[++this.stackIndex];f||(f=this.stack[this.stackIndex]=new Uint8Array(16));for(var e=0;e<this.activeState.length;e++)this.activeState[e]=f[e]};b.prototype.pop=function(){var f=this.stack[--this.stackIndex];
this.setState(f)};b.prototype.setState=function(f){this.setBlend(f[0]);this.setDepthTest(f[1]);this.setFrontFace(f[2]);this.setCullFace(f[3]);this.setBlendMode(f[4])};b.prototype.setBlend=function(f){f=f?1:0;this.activeState[0]!==f&&(this.activeState[0]=f,this.gl[f?"enable":"disable"](this.gl.BLEND))};b.prototype.setBlendMode=function(f){f!==this.activeState[4]&&(this.activeState[4]=f,this.gl.blendFunc(this.blendModes[f][0],this.blendModes[f][1]))};b.prototype.setDepthTest=function(f){f=f?1:0;this.activeState[1]!==
f&&(this.activeState[1]=f,this.gl[f?"enable":"disable"](this.gl.DEPTH_TEST))};b.prototype.setCullFace=function(f){f=f?1:0;this.activeState[3]!==f&&(this.activeState[3]=f,this.gl[f?"enable":"disable"](this.gl.CULL_FACE))};b.prototype.setFrontFace=function(f){f=f?1:0;this.activeState[2]!==f&&(this.activeState[2]=f,this.gl.frontFace(this.gl[f?"CW":"CCW"]))};b.prototype.resetAttributes=function(){for(var f=0;f<this.attribState.tempAttribState.length;f++)this.attribState.tempAttribState[f]=0;for(f=0;f<
this.attribState.attribState.length;f++)this.attribState.attribState[f]=0;for(f=1;f<this.maxAttribs;f++)this.gl.disableVertexAttribArray(f)};b.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null);this.resetAttributes();for(var f=0;f<this.activeState.length;++f)this.activeState[f]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1);this.setState(this.defaultState)};return b}();h["default"]=b},{"./utils/mapWebGLBlendModesToPixi":95}],83:[function(b,
l,h){h.__esModule=!0;var g=function(){function a(a,d){for(var e=0;e<d.length;e++){var f=d[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(c,d,e){d&&a(c.prototype,d);e&&a(c,e);return c}}(),k=(l=b("./extractUniformsFromSrc"))&&l.__esModule?l:{"default":l},f=b("../../../utils"),e=b("../../../const"),d={};b=function(){function a(c,b,g){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.vertexSrc=
c||a.defaultVertexSrc;this.fragmentSrc=b||a.defaultFragmentSrc;this.blendMode=e.BLEND_MODES.NORMAL;this.uniformData=g||(0,k["default"])(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler");this.uniforms={};for(var n in this.uniformData)this.uniforms[n]=this.uniformData[n].value;this.glShaders={};d[this.vertexSrc+this.fragmentSrc]||(d[this.vertexSrc+this.fragmentSrc]=(0,f.uid)());this.glShaderKey=d[this.vertexSrc+this.fragmentSrc];this.padding=4;this.resolution=1;this.enabled=!0}a.prototype.apply=
function(a,d,e,f){a.applyFilter(this,d,e,f)};g(a,null,[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}"}},{key:"defaultFragmentSrc",
get:function(){return"varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}"}}]);
return a}();h["default"]=b},{"../../../const":43,"../../../utils":116,"./extractUniformsFromSrc":84}],84:[function(b,l,h){function g(f){var e=/^(projectionMatrix|uSampler|filterArea)$/,d={},a;f=f.replace(/\s+/g," ").split(/\s*;\s*/);for(var c=0;c<f.length;c++){var b=f[c].trim();if(-1<b.indexOf("uniform")){a=b.split(" ");var b=a[1],g=a[2],n=1;-1<g.indexOf("[")&&(a=g.split(/\[|]/),g=a[0],n*=Number(a[1]));g.match(e)||(d[g]={value:k(b,n),name:g,type:b})}}return d}h.__esModule=!0;h["default"]=function(f,
e,d){f=g(f,d);e=g(e,d);return Object.assign(f,e)};b=b("pixi-gl-core");var k=(b&&b.__esModule?b:{"default":b})["default"].shader.defaultValue},{"pixi-gl-core":12}],85:[function(b,l,h){h.__esModule=!0;h.calculateScreenSpaceMatrix=function(b,f,e){b=b.identity();b.translate(f.x/e.width,f.y/e.height);b.scale(e.width,e.height);return b};h.calculateNormalizedScreenSpaceMatrix=function(b,f,e){b=b.identity();b.translate(f.x/e.width,f.y/e.height);b.scale(e.width/f.width,e.height/f.height);return b};h.calculateSpriteMatrix=
function(b,f,e,d){var a=d.worldTransform.copy(g.Matrix.TEMP_MATRIX),c=d._texture.baseTexture;b=b.identity();var m=e.height/e.width;b.translate(f.x/e.width,f.y/e.height);b.scale(1,m);f=e.width/c.width;e=e.height/c.height;a.tx/=c.width*f;a.ty/=c.width*f;a.invert();b.prepend(a);b.scale(1,1/m);b.scale(f,e);b.translate(d.anchor.x,d.anchor.y);return b};var g=b("../../../math")},{"../../../math":67}],86:[function(b,l,h){function g(f,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+
typeof e);f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(f,e):f.__proto__=e)}h.__esModule=!0;l=(l=b("../Filter"))&&l.__esModule?l:{"default":l};var k=b("../../../../math");b=function(f){function e(d){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var a=new k.Matrix,c;c=f.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",
"#define GLSLIFY 1\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;d.renderable=!1;c.maskSprite=d;c.maskMatrix=a;return c}g(e,f);e.prototype.apply=function(d,a,c){var e=this.maskSprite;this.uniforms.mask=e._texture;this.uniforms.otherMatrix=d.calculateSpriteMatrix(this.maskMatrix,e);this.uniforms.alpha=e.worldAlpha;d.applyFilter(this,a,c)};return e}(l["default"]);h["default"]=b},{"../../../../math":67,"../Filter":83}],
87:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function f(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}h.__esModule=!0;l=
b("./WebGLManager");l=g(l);var e=b("../utils/RenderTarget"),d=g(e),e=b("../utils/Quad"),a=g(e),c=b("../../../math"),e=b("../../../Shader"),m=g(e),p=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}(b("../filters/filterTransforms"));b=b("bit-twiddle");var n=g(b),y=function w(){f(this,w);this.renderTarget=null;this.sourceFrame=new c.Rectangle;this.destinationFrame=new c.Rectangle;this.filters=[];
this.target=null;this.resolution=1};b=function(c){function e(d){f(this,e);var b;b=c.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.gl=b.renderer.gl;b.quad=new a["default"](b.gl,d.state.attribState);b.shaderCache={};b.pool={};b.filterData=null;return b}k(e,c);e.prototype.pushFilter=function(a,c){var d=this.renderer,e=this.filterData;if(!e){var f=new y;f.sourceFrame=f.destinationFrame=
this.renderer._activeRenderTarget.size;f.renderTarget=d._activeRenderTarget;this.filterData=this.renderer._activeRenderTarget.filterData=e={index:0,stack:[f]}}(f=e.stack[++e.index])||(f=e.stack[e.index]=new y);var b=c[0].resolution,n=c[0].padding|0,m=a.filterArea||a.getBounds(!0),g=f.sourceFrame,k=f.destinationFrame;g.x=(m.x*b|0)/b;g.y=(m.y*b|0)/b;g.width=(m.width*b|0)/b;g.height=(m.height*b|0)/b;e.stack[0].renderTarget.transform||g.fit(e.stack[0].destinationFrame);g.pad(n);k.width=g.width;k.height=
g.height;e=this.getPotRenderTarget(d.gl,g.width,g.height,b);f.target=a;f.filters=c;f.resolution=b;f.renderTarget=e;e.setFrame(k,g);d.bindRenderTarget(e);d.clear()};e.prototype.popFilter=function(){var a=this.filterData,c=a.stack[a.index-1],d=a.stack[a.index];this.quad.map(d.renderTarget.size,d.sourceFrame).upload();var e=d.filters;if(1===e.length)e[0].apply(this,d.renderTarget,c.renderTarget,!1),this.freePotRenderTarget(d.renderTarget);else{var f=d.renderTarget,b=this.getPotRenderTarget(this.renderer.gl,
d.sourceFrame.width,d.sourceFrame.height,d.resolution);b.setFrame(d.destinationFrame,d.sourceFrame);for(d=0;d<e.length-1;++d){e[d].apply(this,f,b,!0);var n=f,f=b,b=n}e[d].apply(this,f,c.renderTarget,!1);this.freePotRenderTarget(f);this.freePotRenderTarget(b)}a.index--;0===a.index&&(this.filterData=null)};e.prototype.applyFilter=function(a,c,d,e){var f=this.renderer,b=a.glShaders[f.CONTEXT_UID];b||(a.glShaderKey?(b=this.shaderCache[a.glShaderKey],b||(b=new m["default"](this.gl,a.vertexSrc,a.fragmentSrc),
a.glShaders[f.CONTEXT_UID]=this.shaderCache[a.glShaderKey]=b)):b=a.glShaders[f.CONTEXT_UID]=new m["default"](this.gl,a.vertexSrc,a.fragmentSrc),this.quad.initVao(b));f.bindRenderTarget(d);e&&(e=f.gl,e.disable(e.SCISSOR_TEST),f.clear(),e.enable(e.SCISSOR_TEST));d===f.maskManager.scissorRenderTarget&&f.maskManager.pushScissorMask(null,f.maskManager.scissorData);f.bindShader(b);this.syncUniforms(b,a);c.texture.bind(0);f._activeTextureLocation=0;f.state.setBlendMode(a.blendMode);this.quad.draw()};e.prototype.syncUniforms=
function(a,c){var d=c.uniformData,e=c.uniforms,f=1,b;if(a.uniforms.data.filterArea){b=this.filterData.stack[this.filterData.index];var n=a.uniforms.filterArea;n[0]=b.renderTarget.size.width;n[1]=b.renderTarget.size.height;n[2]=b.sourceFrame.x;n[3]=b.sourceFrame.y;a.uniforms.filterArea=n}a.uniforms.data.filterClamp&&(b=this.filterData.stack[this.filterData.index],n=a.uniforms.filterClamp,n[0]=0,n[1]=0,n[2]=(b.sourceFrame.width-1)/b.renderTarget.size.width,n[3]=(b.sourceFrame.height-1)/b.renderTarget.size.height,
a.uniforms.filterClamp=n);for(var m in d)"sampler2D"===d[m].type?(a.uniforms[m]=f,e[m].baseTexture?this.renderer.bindTexture(e[m].baseTexture,f):(b=this.renderer.gl,this.renderer._activeTextureLocation=b.TEXTURE0+f,b.activeTexture(b.TEXTURE0+f),e[m].texture.bind()),f++):"mat3"===d[m].type?a.uniforms[m]=void 0!==e[m].a?e[m].toArray(!0):e[m]:"vec2"===d[m].type?void 0!==e[m].x?(b=a.uniforms[m]||new Float32Array(2),b[0]=e[m].x,b[1]=e[m].y,a.uniforms[m]=b):a.uniforms[m]=e[m]:"float"===d[m].type?a.uniforms.data[m].value!==
d[m]&&(a.uniforms[m]=e[m]):a.uniforms[m]=e[m]};e.prototype.getRenderTarget=function(a,c){var d=this.filterData.stack[this.filterData.index],e=this.getPotRenderTarget(this.renderer.gl,d.sourceFrame.width,d.sourceFrame.height,c||d.resolution);e.setFrame(d.destinationFrame,d.sourceFrame);return e};e.prototype.returnRenderTarget=function(a){this.freePotRenderTarget(a)};e.prototype.calculateScreenSpaceMatrix=function(a){var c=this.filterData.stack[this.filterData.index];return p.calculateScreenSpaceMatrix(a,
c.sourceFrame,c.renderTarget.size)};e.prototype.calculateNormalizedScreenSpaceMatrix=function(a){var c=this.filterData.stack[this.filterData.index];return p.calculateNormalizedScreenSpaceMatrix(a,c.sourceFrame,c.renderTarget.size,c.destinationFrame)};e.prototype.calculateSpriteMatrix=function(a,c){var d=this.filterData.stack[this.filterData.index];return p.calculateSpriteMatrix(a,d.sourceFrame,d.renderTarget.size,c)};e.prototype.destroy=function(){this.shaderCache=[];this.emptyPool()};e.prototype.getPotRenderTarget=
function(a,c,e,f){c=n["default"].nextPow2(c*f);e=n["default"].nextPow2(e*f);var b=(c&65535)<<16|e&65535;this.pool[b]||(this.pool[b]=[]);a=this.pool[b].pop()||new d["default"](a,c,e,null,1);a.resolution=f;a.defaultFrame.width=a.size.width=c/f;a.defaultFrame.height=a.size.height=e/f;return a};e.prototype.emptyPool=function(){for(var a in this.pool){var c=this.pool[a];if(c)for(var d=0;d<c.length;d++)c[d].destroy(!0)}this.pool={}};e.prototype.freePotRenderTarget=function(a){this.pool[(a.size.width*a.resolution&
65535)<<16|a.size.height*a.resolution&65535].push(a)};return e}(l["default"]);h["default"]=b},{"../../../Shader":42,"../../../math":67,"../filters/filterTransforms":85,"../utils/Quad":92,"../utils/RenderTarget":93,"./WebGLManager":90,"bit-twiddle":1}],88:[function(b,l,h){function g(f,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,enumerable:!1,writable:!0,
configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(f,e):f.__proto__=e)}h.__esModule=!0;l=(l=b("./WebGLManager"))&&l.__esModule?l:{"default":l};var k=(b=b("../filters/spriteMask/SpriteMaskFilter"))&&b.__esModule?b:{"default":b};b=function(f){function e(d){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");d=f.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==
typeof d?this:d;d.scissor=!1;d.scissorData=null;d.scissorRenderTarget=null;d.enableScissor=!0;d.alphaMaskPool=[];d.alphaMaskIndex=0;return d}g(e,f);e.prototype.pushMask=function(d,a){if(a.texture)this.pushSpriteMask(d,a);else if(this.enableScissor&&!this.scissor&&!this.renderer.stencilManager.stencilMaskStack.length&&a.isFastRect()){var c=a.worldTransform,c=Math.atan2(c.b,c.a),c=Math.round(180/Math.PI*c);c%90?this.pushStencilMask(a):this.pushScissorMask(d,a)}else this.pushStencilMask(a)};e.prototype.popMask=
function(d,a){a.texture?this.popSpriteMask(d,a):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(d,a):this.popStencilMask(d,a)};e.prototype.pushSpriteMask=function(d,a){var c=this.alphaMaskPool[this.alphaMaskIndex];c||(c=this.alphaMaskPool[this.alphaMaskIndex]=[new k["default"](a)]);c[0].resolution=this.renderer.resolution;c[0].maskSprite=a;d.filterArea=a.getBounds(!0);this.renderer.filterManager.pushFilter(d,c);this.alphaMaskIndex++};e.prototype.popSpriteMask=
function(){this.renderer.filterManager.popFilter();this.alphaMaskIndex--};e.prototype.pushStencilMask=function(d){this.renderer.currentRenderer.stop();this.renderer.stencilManager.pushStencil(d)};e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop();this.renderer.stencilManager.popStencil()};e.prototype.pushScissorMask=function(d,a){a.renderable=!0;var c=this.renderer._activeRenderTarget,e=a.getBounds();e.fit(c.size);a.renderable=!1;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);
var f=this.renderer.resolution;this.renderer.gl.scissor(e.x*f,(c.root?c.size.height-e.y-e.height:e.y)*f,e.width*f,e.height*f);this.scissorRenderTarget=c;this.scissorData=a;this.scissor=!0};e.prototype.popScissorMask=function(){this.scissorData=this.scissorRenderTarget=null;this.scissor=!1;var d=this.renderer.gl;d.disable(d.SCISSOR_TEST)};return e}(l["default"]);h["default"]=b},{"../filters/spriteMask/SpriteMaskFilter":86,"./WebGLManager":90}],89:[function(b,l,h){function g(f,e){if("function"!==typeof e&&
null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(f,e):f.__proto__=e)}h.__esModule=!0;var k=(b=b("./WebGLManager"))&&b.__esModule?b:{"default":b};b=function(f){function e(d){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");d=f.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.stencilMaskStack=null;return d}g(e,f);e.prototype.setMaskStack=function(d){this.stencilMaskStack=d;var a=this.renderer.gl;0===d.length?a.disable(a.STENCIL_TEST):a.enable(a.STENCIL_TEST)};e.prototype.pushStencil=function(d){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();var a=this.renderer.gl,c=this.stencilMaskStack;0===c.length&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),
a.stencilFunc(a.ALWAYS,1,1));c.push(d);a.colorMask(!1,!1,!1,!1);a.stencilOp(a.KEEP,a.KEEP,a.INCR);this.renderer.plugins.graphics.render(d);a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.NOTEQUAL,0,c.length);a.stencilOp(a.KEEP,a.KEEP,a.KEEP)};e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var d=this.renderer.gl,a=this.stencilMaskStack,c=a.pop();0===a.length?d.disable(d.STENCIL_TEST):(d.colorMask(!1,!1,!1,!1),d.stencilOp(d.KEEP,d.KEEP,d.DECR),this.renderer.plugins.graphics.render(c),
d.colorMask(!0,!0,!0,!0),d.stencilFunc(d.NOTEQUAL,0,a.length),d.stencilOp(d.KEEP,d.KEEP,d.KEEP))};e.prototype.destroy=function(){k["default"].prototype.destroy.call(this);this.stencilMaskStack.stencilStack=null};return e}(k["default"]);h["default"]=b},{"./WebGLManager":90}],90:[function(b,l,h){h.__esModule=!0;b=function(){function b(k){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=k;this.renderer.on("context",this.onContextChange,this)}b.prototype.onContextChange=
function(){};b.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this);this.renderer=null};return b}();h["default"]=b},{}],91:[function(b,l,h){function g(b,f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}h.__esModule=!0;
b=b("../managers/WebGLManager");b=function(b){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var e=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?this:e}g(f,b);f.prototype.start=function(){};f.prototype.stop=function(){this.flush()};f.prototype.flush=function(){};f.prototype.render=function(e){};return f}((b&&b.__esModule?b:{"default":b})["default"]);
h["default"]=b},{"../managers/WebGLManager":90}],92:[function(b,l,h){h.__esModule=!0;var g=(l=b("pixi-gl-core"))&&l.__esModule?l:{"default":l},k=(b=b("../../../utils/createIndicesForQuads"))&&b.__esModule?b:{"default":b};b=function(){function f(e,d){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.gl=e;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=new Float32Array(16);for(var a=0;4>a;a++)this.interleaved[4*
a]=this.vertices[2*a],this.interleaved[4*a+1]=this.vertices[2*a+1],this.interleaved[4*a+2]=this.uvs[2*a],this.interleaved[4*a+3]=this.uvs[2*a+1];this.indices=(0,k["default"])(1);this.vertexBuffer=g["default"].GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW);this.indexBuffer=g["default"].GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW);this.vao=new g["default"].VertexArrayObject(e,d)}f.prototype.initVao=function(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,
e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)};f.prototype.map=function(e,d){var a=0,c=0;this.uvs[0]=a;this.uvs[1]=c;this.uvs[2]=a+d.width/e.width;this.uvs[3]=c;this.uvs[4]=a+d.width/e.width;this.uvs[5]=c+d.height/e.height;this.uvs[6]=a;this.uvs[7]=c+d.height/e.height;a=d.x;c=d.y;this.vertices[0]=a;this.vertices[1]=c;this.vertices[2]=a+d.width;this.vertices[3]=c;this.vertices[4]=a+d.width;this.vertices[5]=c+d.height;
this.vertices[6]=a;this.vertices[7]=c+d.height;return this};f.prototype.draw=function(){this.vao.bind().draw(this.gl.TRIANGLES,6,0).unbind();return this};f.prototype.upload=function(){for(var e=0;4>e;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];this.vertexBuffer.upload(this.interleaved);return this};f.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer);
e.deleteBuffer(this.indexBuffer)};return f}();h["default"]=b},{"../../../utils/createIndicesForQuads":114,"pixi-gl-core":12}],93:[function(b,l,h){h.__esModule=!0;var g=b("../../../math"),k=b("../../../const"),f=b("pixi-gl-core");b=function(){function e(d,a,c,b,h,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.gl=d;this.texture=this.frameBuffer=null;this.clearColor=[0,0,0,0];this.size=new g.Rectangle(0,0,1,1);this.resolution=h||k.RESOLUTION;this.projectionMatrix=
new g.Matrix;this.frame=this.transform=null;this.defaultFrame=new g.Rectangle;this.stencilBuffer=this.sourceFrame=this.destinationFrame=null;this.stencilMaskStack=[];this.filterData=null;this.scaleMode=b||k.SCALE_MODES.DEFAULT;(this.root=n)?(this.frameBuffer=new f.GLFramebuffer(d,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=f.GLFramebuffer.createRGBA(d,100,100),this.scaleMode===k.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),
this.texture=this.frameBuffer.texture);this.setFrame();this.resize(a,c)}e.prototype.clear=function(d){d=d||this.clearColor;this.frameBuffer.clear(d[0],d[1],d[2],d[3])};e.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()};e.prototype.setFrame=function(d,a){this.destinationFrame=d||this.destinationFrame||this.defaultFrame;this.sourceFrame=a||this.sourceFrame||d};e.prototype.activate=function(){var d=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,
this.sourceFrame);this.transform&&this.projectionMatrix.append(this.transform);this.destinationFrame!==this.sourceFrame?(d.enable(d.SCISSOR_TEST),d.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):d.disable(d.SCISSOR_TEST);d.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)};e.prototype.calculateProjection=
function(d,a){var c=this.projectionMatrix;a=a||d;c.identity();this.root?(c.a=1/d.width*2,c.d=-1/d.height*2,c.tx=-1-a.x*c.a,c.ty=1-a.y*c.d):(c.a=1/d.width*2,c.d=1/d.height*2,c.tx=-1-a.x*c.a,c.ty=-1-a.y*c.d)};e.prototype.resize=function(d,a){d|=0;a|=0;if(this.size.width!==d||this.size.height!==a)this.size.width=d,this.size.height=a,this.defaultFrame.width=d,this.defaultFrame.height=a,this.frameBuffer.resize(d*this.resolution,a*this.resolution),this.calculateProjection(this.frame||this.size)};e.prototype.destroy=
function(){this.frameBuffer.destroy();this.texture=this.frameBuffer=null};return e}();h["default"]=b},{"../../../const":43,"../../../math":67,"pixi-gl-core":12}],94:[function(b,l,h){function g(e){for(var d="",a=0;a<e;++a)0<a&&(d+="\nelse "),a<e-1&&(d+="if(test == "+a+".0){}");return d}h.__esModule=!0;h["default"]=function(e,d){var a=!d;if(0===e)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(a){var c=document.createElement("canvas");c.width=1;c.height=1;d=k["default"].createContext(c)}for(c=
d.createShader(d.FRAGMENT_SHADER);;){var b=f.replace(/%forloop%/gi,g(e));d.shaderSource(c,b);d.compileShader(c);if(d.getShaderParameter(c,d.COMPILE_STATUS))break;else e=e/2|0}a&&d.getExtension("WEBGL_lose_context")&&d.getExtension("WEBGL_lose_context").loseContext();return e};var k=(b=b("pixi-gl-core"))&&b.__esModule?b:{"default":b},f="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}"},{"pixi-gl-core":12}],95:[function(b,l,h){h.__esModule=!0;h["default"]=
function(b){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];f[g.BLEND_MODES.NORMAL]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];f[g.BLEND_MODES.ADD]=[b.ONE,b.DST_ALPHA];f[g.BLEND_MODES.MULTIPLY]=[b.DST_COLOR,b.ONE_MINUS_SRC_ALPHA];f[g.BLEND_MODES.SCREEN]=[b.ONE,b.ONE_MINUS_SRC_COLOR];f[g.BLEND_MODES.OVERLAY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];f[g.BLEND_MODES.DARKEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];f[g.BLEND_MODES.LIGHTEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];f[g.BLEND_MODES.COLOR_DODGE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];
f[g.BLEND_MODES.COLOR_BURN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];f[g.BLEND_MODES.HARD_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];f[g.BLEND_MODES.SOFT_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];f[g.BLEND_MODES.DIFFERENCE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];f[g.BLEND_MODES.EXCLUSION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];f[g.BLEND_MODES.HUE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];f[g.BLEND_MODES.SATURATION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];f[g.BLEND_MODES.COLOR]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];f[g.BLEND_MODES.LUMINOSITY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];
return f};var g=b("../../../const")},{"../../../const":43}],96:[function(b,l,h){h.__esModule=!0;h["default"]=function(b){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};f[g.DRAW_MODES.POINTS]=b.POINTS;f[g.DRAW_MODES.LINES]=b.LINES;f[g.DRAW_MODES.LINE_LOOP]=b.LINE_LOOP;f[g.DRAW_MODES.LINE_STRIP]=b.LINE_STRIP;f[g.DRAW_MODES.TRIANGLES]=b.TRIANGLES;f[g.DRAW_MODES.TRIANGLE_STRIP]=b.TRIANGLE_STRIP;f[g.DRAW_MODES.TRIANGLE_FAN]=b.TRIANGLE_FAN;return f};var g=b("../../../const")},{"../../../const":43}],
97:[function(b,l,h){h.__esModule=!0;h["default"]=function(b){b.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],98:[function(b,l,h){function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
c):a.__proto__=c)}h.__esModule=!0;var k=function(){function a(c,d){for(var e=0;e<d.length;e++){var b=d[e];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(c,b.key,b)}}return function(c,d,e){d&&a(c.prototype,d);e&&a(c,e);return c}}(),f=b("../math"),e=b("../utils"),d=b("../const"),a=(l=b("../textures/Texture"))&&l.__esModule?l:{"default":l};b=(b=b("../display/Container"))&&b.__esModule?b:{"default":b};var c=new f.Point;b=function(b){function h(c){if(!(this instanceof
h))throw new TypeError("Cannot call a class as a function");var e;e=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e._anchor=new f.ObservablePoint(e._onAnchorUpdate,e);e._texture=null;e._width=0;e._height=0;e._tint=null;e._tintRGB=null;e.tint=16777215;e.blendMode=d.BLEND_MODES.NORMAL;e.shader=null;e.cachedTint=16777215;e.texture=c||a["default"].EMPTY;e.vertexData=new Float32Array(8);
e.vertexTrimmedData=null;e._transformID=-1;e._textureID=-1;return e}g(h,b);h.prototype._onTextureUpdate=function(){this._textureID=-1;this._width&&(this.scale.x=(0,e.sign)(this.scale.x)*this._width/this.texture.orig.width);this._height&&(this.scale.y=(0,e.sign)(this.scale.y)*this._height/this.texture.orig.height)};h.prototype._onAnchorUpdate=function(){this._transformID=-1};h.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=
this.transform._worldID;this._textureID=this._texture._updateID;var a=this._texture,c=this.transform.worldTransform,d=c.a,e=c.b,b=c.c,f=c.d,m=c.tx,c=c.ty,g=this.vertexData,h=a.trim,k=a.orig,p=this._anchor,l;h?(l=h.x-p._x*k.width,a=l+h.width,k=h.y-p._y*k.height,h=k+h.height):(a=k.width*(1-p._x),l=k.width*-p._x,h=k.height*(1-p._y),k=k.height*-p._y);g[0]=d*l+b*k+m;g[1]=f*k+e*l+c;g[2]=d*a+b*k+m;g[3]=f*k+e*a+c;g[4]=d*a+b*h+m;g[5]=f*h+e*a+c;g[6]=d*l+b*h+m;g[7]=f*h+e*l+c}};h.prototype.calculateTrimmedVertices=
function(){this.vertexTrimmedData||(this.vertexTrimmedData=new Float32Array(8));var a=this.vertexTrimmedData,c=this._texture.orig,d=this._anchor,e=this.transform.worldTransform,b=e.a,f=e.b,m=e.c,g=e.d,h=e.tx,e=e.ty,k=c.width*(1-d._x),p=c.width*-d._x,l=c.height*(1-d._y),c=c.height*-d._y;a[0]=b*p+m*c+h;a[1]=g*c+f*p+e;a[2]=b*k+m*c+h;a[3]=g*c+f*k+e;a[4]=b*k+m*l+h;a[5]=g*l+f*k+e;a[6]=b*p+m*l+h;a[7]=g*l+f*p+e};h.prototype._renderWebGL=function(a){this.calculateVertices();a.setObjectRenderer(a.plugins.sprite);
a.plugins.sprite.render(this)};h.prototype._renderCanvas=function(a){a.plugins.sprite.render(this)};h.prototype._calculateBounds=function(){var a=this._texture.trim,c=this._texture.orig;!a||a.width===c.width&&a.height===c.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))};h.prototype.getLocalBounds=function(a){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,
this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),a||(this._localBoundsRect||(this._localBoundsRect=new f.Rectangle),a=this._localBoundsRect),this._bounds.getRectangle(a)):b.prototype.getLocalBounds.call(this,a)};h.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,c);var d=this._texture.orig.width;a=this._texture.orig.height;var e=-d*this.anchor.x;
return c.x>e&&c.x<e+d&&(d=-a*this.anchor.y,c.y>d&&c.y<d+a)?!0:!1};h.prototype.destroy=function(a){b.prototype.destroy.call(this,a);this._anchor=null;("boolean"===typeof a?a:a&&a.texture)&&this._texture.destroy(!!("boolean"===typeof a?a:a&&a.baseTexture));this.shader=this._texture=null};h.from=function(c){return new h(a["default"].from(c))};h.fromFrame=function(a){var c=e.TextureCache[a];if(!c)throw Error('The frameId "'+a+'" does not exist in the texture cache');return new h(c)};h.fromImage=function(c,
d,e){return new h(a["default"].fromImage(c,d,e))};k(h,[{key:"width",get:function(){return Math.abs(this.scale.x)*this.texture.orig.width},set:function(a){var c=(0,e.sign)(this.scale.x)||1;this.scale.x=c*a/this.texture.orig.width;this._width=a}},{key:"height",get:function(){return Math.abs(this.scale.y)*this.texture.orig.height},set:function(a){var c=(0,e.sign)(this.scale.y)||1;this.scale.y=c*a/this.texture.orig.height;this._height=a}},{key:"anchor",get:function(){return this._anchor},set:function(a){this._anchor.copy(a)}},
{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a;this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture!==a&&(this._texture=a,this.cachedTint=16777215,this._textureID=-1,a))if(a.baseTexture.hasLoaded)this._onTextureUpdate();else a.once("update",this._onTextureUpdate,this)}}]);return h}(b["default"]);h["default"]=b},{"../const":43,"../display/Container":45,"../math":67,"../textures/Texture":109,
"../utils":116}],99:[function(b,l,h){h.__esModule=!0;l=(l=b("../../renderers/canvas/CanvasRenderer"))&&l.__esModule?l:{"default":l};var g=b("../../const"),k=b("../../math"),f=(b=b("./CanvasTinter"))&&b.__esModule?b:{"default":b},e=new k.Matrix;b=function(){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.renderer=a}d.prototype.render=function(a){var c=a._texture,d=this.renderer,b=c._frame.width,n=c._frame.height,h=a.transform.worldTransform,l,w;0>=
c.orig.width||0>=c.orig.height||!c.baseTexture.source||(d.setBlendMode(a.blendMode),c.valid&&(d.context.globalAlpha=a.worldAlpha,l=c.baseTexture.scaleMode===g.SCALE_MODES.LINEAR,d.smoothProperty&&d.context[d.smoothProperty]!==l&&(d.context[d.smoothProperty]=l),c.trim?(l=c.trim.width/2+c.trim.x-a.anchor.x*c.orig.width,w=c.trim.height/2+c.trim.y-a.anchor.y*c.orig.height):(l=(.5-a.anchor.x)*c.orig.width,w=(.5-a.anchor.y)*c.orig.height),c.rotate&&(h.copy(e),h=e,k.GroupD8.matrixAppendRotationInv(h,c.rotate,
l,w),w=l=0),l-=b/2,w-=n/2,d.roundPixels?(d.context.setTransform(h.a,h.b,h.c,h.d,h.tx*d.resolution|0,h.ty*d.resolution|0),l|=0,w|=0):d.context.setTransform(h.a,h.b,h.c,h.d,h.tx*d.resolution,h.ty*d.resolution),h=c.baseTexture.resolution,16777215!==a.tint?(a.cachedTint!==a.tint&&(a.cachedTint=a.tint,a.tintedTexture=f["default"].getTintedTexture(a,a.tint)),d.context.drawImage(a.tintedTexture,0,0,b*h,n*h,l*d.resolution,w*d.resolution,b*d.resolution,n*d.resolution)):d.context.drawImage(c.baseTexture.source,
c._frame.x*h,c._frame.y*h,b*h,n*h,l*d.resolution,w*d.resolution,b*d.resolution,n*d.resolution)))};d.prototype.destroy=function(){this.renderer=null};return d}();h["default"]=b;l["default"].registerPlugin("sprite",b)},{"../../const":43,"../../math":67,"../../renderers/canvas/CanvasRenderer":74,"./CanvasTinter":100}],100:[function(b,l,h){h.__esModule=!0;var g=b("../../utils");b=(b=b("../../renderers/canvas/utils/canUseNewCanvasBlendModes"))&&b.__esModule?b:{"default":b};var k={getTintedTexture:function(b,
e){var d=b.texture;e=k.roundColor(e);var a="#"+("00000"+(e|0).toString(16)).substr(-6);d.tintCache=d.tintCache||{};if(d.tintCache[a])return d.tintCache[a];var c=k.canvas||document.createElement("canvas");k.tintMethod(d,e,c);if(k.convertTintToImage){var m=new Image;m.src=c.toDataURL();d.tintCache[a]=m}else d.tintCache[a]=c,k.canvas=null;return c},tintWithMultiply:function(b,e,d){var a=d.getContext("2d"),c=b._frame.clone(),m=b.baseTexture.resolution;c.x*=m;c.y*=m;c.width*=m;c.height*=m;d.width=c.width;
d.height=c.height;a.fillStyle="#"+("00000"+(e|0).toString(16)).substr(-6);a.fillRect(0,0,c.width,c.height);a.globalCompositeOperation="multiply";a.drawImage(b.baseTexture.source,c.x,c.y,c.width,c.height,0,0,c.width,c.height);a.globalCompositeOperation="destination-atop";a.drawImage(b.baseTexture.source,c.x,c.y,c.width,c.height,0,0,c.width,c.height)},tintWithOverlay:function(b,e,d){var a=d.getContext("2d"),c=b._frame.clone(),m=b.baseTexture.resolution;c.x*=m;c.y*=m;c.width*=m;c.height*=m;d.width=c.width;
d.height=c.height;a.globalCompositeOperation="copy";a.fillStyle="#"+("00000"+(e|0).toString(16)).substr(-6);a.fillRect(0,0,c.width,c.height);a.globalCompositeOperation="destination-atop";a.drawImage(b.baseTexture.source,c.x,c.y,c.width,c.height,0,0,c.width,c.height)},tintWithPerPixel:function(b,e,d){var a=d.getContext("2d"),c=b._frame.clone(),m=b.baseTexture.resolution;c.x*=m;c.y*=m;c.width*=m;c.height*=m;d.width=c.width;d.height=c.height;a.globalCompositeOperation="copy";a.drawImage(b.baseTexture.source,
c.x,c.y,c.width,c.height,0,0,c.width,c.height);d=(0,g.hex2rgb)(e);b=d[0];e=d[1];d=d[2];for(var c=a.getImageData(0,0,c.width,c.height),m=c.data,h=0;h<m.length;h+=4)m[h+0]*=b,m[h+1]*=e,m[h+2]*=d;a.putImageData(c,0,0)},roundColor:function(b){var e=k.cacheStepsPerColorChannel;b=(0,g.hex2rgb)(b);b[0]=Math.min(255,b[0]/e*e);b[1]=Math.min(255,b[1]/e*e);b[2]=Math.min(255,b[2]/e*e);return(0,g.rgb2hex)(b)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,b["default"])(),tintMethod:0};k.tintMethod=
k.canUseMultiply?k.tintWithMultiply:k.tintWithPerPixel;h["default"]=k},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":77,"../../utils":116}],101:[function(b,l,h){h.__esModule=!0;b=function(){function b(h){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.vertices=new ArrayBuffer(h);this.float32View=new Float32Array(this.vertices);this.uint32View=new Uint32Array(this.vertices)}b.prototype.destroy=function(){this.colors=this.uvs=this.positions=this.vertices=
null};return b}();h["default"]=b},{}],102:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;l=b("../../renderers/webgl/utils/ObjectRenderer");l=g(l);
var f=b("../../renderers/webgl/WebGLRenderer"),f=g(f),e=b("../../utils/createIndicesForQuads"),d=g(e),e=b("./generateMultiTextureShader"),a=g(e),e=b("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),c=g(e),e=b("./BatchBuffer"),m=g(e),p=b("../../const"),e=b("pixi-gl-core"),n=g(e);b=b("bit-twiddle");var y=g(b),z=0;b=function(e){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a=e.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.vertSize=5;a.vertByteSize=4*a.vertSize;a.size=p.SPRITE_BATCH_SIZE;a.buffers=[];for(var c=1;c<=y["default"].nextPow2(a.size);c*=2)a.buffers.push(new m["default"](4*c*a.vertByteSize));a.indices=(0,d["default"])(a.size);a.shaders=null;z=a.currentIndex=0;a.groups=[];for(c=0;c<a.size;c++)a.groups[c]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};a.sprites=[];a.vertexBuffers=[];a.vaos=[];a.vaoMax=2;a.vertexCount=0;a.renderer.on("prerender",
a.onPrerender,a);return a}k(b,e);b.prototype.onContextChange=function(){var d=this.renderer.gl;this.MAX_TEXTURES=Math.min(d.getParameter(d.MAX_TEXTURE_IMAGE_UNITS),p.SPRITE_MAX_TEXTURES);this.MAX_TEXTURES=(0,c["default"])(this.MAX_TEXTURES,d);this.shaders=Array(this.MAX_TEXTURES);this.shaders[0]=(0,a["default"])(d,1);this.shaders[1]=(0,a["default"])(d,2);this.indexBuffer=n["default"].GLBuffer.createIndexBuffer(d,this.indices,d.STATIC_DRAW);for(var e=this.shaders[1],b=0;b<this.vaoMax;b++)this.vertexBuffers[b]=
n["default"].GLBuffer.createVertexBuffer(d,null,d.STREAM_DRAW),this.vaos[b]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[b],e.attributes.aVertexPosition,d.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[b],e.attributes.aTextureCoord,d.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[b],e.attributes.aColor,d.UNSIGNED_BYTE,!0,this.vertByteSize,12).addAttribute(this.vertexBuffers[b],e.attributes.aTextureId,d.FLOAT,!1,this.vertByteSize,
16);this.vao=this.vaos[0];this.currentBlendMode=99999};b.prototype.onPrerender=function(){this.vertexCount=0};b.prototype.render=function(a){this.currentIndex>=this.size&&this.flush();a.texture._uvs&&(this.sprites[this.currentIndex++]=a)};b.prototype.flush=function(){if(0!==this.currentIndex){var c=this.renderer.gl,d=y["default"].nextPow2(this.currentIndex),d=y["default"].log2(d),e=this.buffers[d],b=this.sprites,d=this.groups,f=e.float32View,m=e.uint32View,g=0,h,k=void 0,p=1,l=0,u=d[0],w,O,N,A=b[0].blendMode;
u.textureCount=0;u.start=0;u.blend=A;z++;var E;for(E=0;E<this.currentIndex;E++){N=b[E];h=N._texture.baseTexture;A!==N.blendMode&&(A=N.blendMode,k=null,l=this.MAX_TEXTURES,z++);k!==h&&(k=h,h._enabled!==z&&(l===this.MAX_TEXTURES&&(z++,l=0,u.size=E-u.start,u=d[p++],u.textureCount=0,u.blend=A,u.start=E),h._enabled=z,h._id=l,u.textures[u.textureCount++]=h,l++));w=N.vertexData;O=N._tintRGB+(255*N.worldAlpha<<24);N=N._texture._uvs.uvsUint32;h=h._id;if(this.renderer.roundPixels){var D=this.renderer.resolution;
f[g]=(w[0]*D|0)/D;f[g+1]=(w[1]*D|0)/D;f[g+5]=(w[2]*D|0)/D;f[g+6]=(w[3]*D|0)/D;f[g+10]=(w[4]*D|0)/D;f[g+11]=(w[5]*D|0)/D;f[g+15]=(w[6]*D|0)/D;f[g+16]=(w[7]*D|0)/D}else f[g]=w[0],f[g+1]=w[1],f[g+5]=w[2],f[g+6]=w[3],f[g+10]=w[4],f[g+11]=w[5],f[g+15]=w[6],f[g+16]=w[7];m[g+2]=N[0];m[g+7]=N[1];m[g+12]=N[2];m[g+17]=N[3];m[g+3]=m[g+8]=m[g+13]=m[g+18]=O;f[g+4]=f[g+9]=f[g+14]=f[g+19]=h;g+=20}u.size=E-u.start;this.vertexCount++;this.vaoMax<=this.vertexCount&&(this.vaoMax++,b=this.shaders[1],this.vertexBuffers[this.vertexCount]=
n["default"].GLBuffer.createVertexBuffer(c,null,c.STREAM_DRAW),this.vaos[this.vertexCount]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[this.vertexCount],b.attributes.aVertexPosition,c.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[this.vertexCount],b.attributes.aTextureCoord,c.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[this.vertexCount],b.attributes.aColor,c.UNSIGNED_BYTE,!0,this.vertByteSize,12).addAttribute(this.vertexBuffers[this.vertexCount],
b.attributes.aTextureId,c.FLOAT,!1,this.vertByteSize,16));this.vertexBuffers[this.vertexCount].upload(e.vertices,0);this.vao=this.vaos[this.vertexCount].bind();for(E=0;E<p;E++){e=d[E];f=e.textureCount;(b=this.shaders[f-1])||(b=this.shaders[f-1]=(0,a["default"])(c,f));this.renderer.bindShader(b);for(b=0;b<f;b++)this.renderer.bindTexture(e.textures[b],b);this.renderer.state.setBlendMode(e.blend);c.drawElements(c.TRIANGLES,6*e.size,c.UNSIGNED_SHORT,12*e.start)}this.currentIndex=0}};b.prototype.start=
function(){};b.prototype.stop=function(){this.flush();this.vao.unbind()};b.prototype.destroy=function(){for(var a=0;a<this.vaoMax;a++)this.vertexBuffers[a].destroy(),this.vaos[a].destroy();this.indexBuffer.destroy();this.renderer.off("prerender",this.onPrerender,this);e.prototype.destroy.call(this);for(a=0;a<this.shaders.length;a++)this.shaders[a]&&this.shaders[a].destroy();this.sprites=this.indices=this.indexBuffer=this.vaos=this.vertexBuffers=null;for(a=0;a<this.buffers.length;a++)this.buffers[a].destroy()};
return b}(l["default"]);h["default"]=b;f["default"].registerPlugin("sprite",b)},{"../../const":43,"../../renderers/webgl/WebGLRenderer":81,"../../renderers/webgl/utils/ObjectRenderer":91,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":94,"../../utils/createIndicesForQuads":114,"./BatchBuffer":101,"./generateMultiTextureShader":103,"bit-twiddle":1,"pixi-gl-core":12}],103:[function(b,l,h){function g(e){var d;d="\n\n";for(var a=0;a<e;a++)0<a&&(d+="\nelse "),a<e-1&&(d+="if(textureId == "+a+
".0)"),d+="\n{",d+="\n\tcolor = texture2D(uSamplers["+a+"], vTextureCoord);",d+="\n}";return d+"\n\n"}h.__esModule=!0;h["default"]=function(e,d){for(var a=f,a=a.replace(/%count%/gi,d),a=a.replace(/%forloop%/gi,g(d)),a=new k["default"](e,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
a),c=[],b=0;b<d;b++)c[b]=b;a.bind();a.uniforms.uSamplers=c;return a};var k=(b=b("../../Shader"))&&b.__esModule?b:{"default":b},f="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}"},{"../../Shader":42}],104:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}function k(a,c){if("function"!==typeof c&&
null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;var f=function(){function a(c,d){for(var e=0;e<d.length;e++){var b=d[e];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(c,b.key,b)}}return function(c,d,e){d&&a(c.prototype,
d);e&&a(c,e);return c}}();l=b("../sprites/Sprite");l=g(l);var e=b("../textures/Texture"),d=g(e),a=b("../math"),c=b("../utils"),m=b("../const");b=b("./TextStyle");var p=g(b),n={texture:!0,children:!1,baseTexture:!0};b=function(e){function b(c,f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var g=document.createElement("canvas");g.width=3;g.height=3;var n=d["default"].fromCanvas(g);n.orig=new a.Rectangle;n.trim=new a.Rectangle;n=e.call(this,n);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
n=!n||"object"!==typeof n&&"function"!==typeof n?this:n;n.canvas=g;n.context=n.canvas.getContext("2d");n.resolution=m.RESOLUTION;n._text=null;n._style=null;n._styleListener=null;n._font="";n.text=c;n.style=f;n.localStyleID=-1;return n}k(b,e);b.prototype.updateText=function(a){var c=this._style;this.localStyleID!==c.styleID&&(this.dirty=!0,this.localStyleID=c.styleID);if(this.dirty||!a){this._font=c.fontStyle+" "+c.fontVariant+" "+c.fontWeight+" "+("number"===typeof c.fontSize?c.fontSize+"px":c.fontSize)+
" "+c.fontFamily;this.context.font=this._font;a=(c.wordWrap?this.wordWrap(this._text):this._text).split(/(?:\r\n|\r|\n)/);for(var d=Array(a.length),e=0,b=this.determineFontProperties(this._font),f=0;f<a.length;f++){var m=this.context.measureText(a[f]).width+(a[f].length-1)*c.letterSpacing;d[f]=m;e=Math.max(e,m)}f=e+c.strokeThickness;c.dropShadow&&(f+=c.dropShadowDistance);f+=2*c.padding;this.canvas.width=Math.ceil((f+this.context.lineWidth)*this.resolution);f=this.style.lineHeight||b.fontSize+c.strokeThickness;
m=Math.max(f,b.fontSize+c.strokeThickness)+(a.length-1)*f;c.dropShadow&&(m+=c.dropShadowDistance);this.canvas.height=Math.ceil((m+2*this._style.padding)*this.resolution);this.context.scale(this.resolution,this.resolution);this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.context.font=this._font;this.context.strokeStyle=c.stroke;this.context.lineWidth=c.strokeThickness;this.context.textBaseline=c.textBaseline;this.context.lineJoin=c.lineJoin;this.context.miterLimit=c.miterLimit;
var n;if(c.dropShadow){0<c.dropShadowBlur?(this.context.shadowColor=c.dropShadowColor,this.context.shadowBlur=c.dropShadowBlur):this.context.fillStyle=c.dropShadowColor;for(var g=Math.cos(c.dropShadowAngle)*c.dropShadowDistance,h=Math.sin(c.dropShadowAngle)*c.dropShadowDistance,k=0;k<a.length;k++)m=c.strokeThickness/2,n=c.strokeThickness/2+k*f+b.ascent,"right"===c.align?m+=e-d[k]:"center"===c.align&&(m+=(e-d[k])/2),c.fill&&(this.drawLetterSpacing(a[k],m+g+c.padding,n+h+c.padding),c.stroke&&c.strokeThickness&&
(this.context.strokeStyle=c.dropShadowColor,this.drawLetterSpacing(a[k],m+g+c.padding,n+h+c.padding,!0),this.context.strokeStyle=c.stroke))}this.context.fillStyle=this._generateFillStyle(c,a);for(g=0;g<a.length;g++)m=c.strokeThickness/2,n=c.strokeThickness/2+g*f+b.ascent,"right"===c.align?m+=e-d[g]:"center"===c.align&&(m+=(e-d[g])/2),c.stroke&&c.strokeThickness&&this.drawLetterSpacing(a[g],m+c.padding,n+c.padding,!0),c.fill&&this.drawLetterSpacing(a[g],m+c.padding,n+c.padding);this.updateTexture()}};
b.prototype.drawLetterSpacing=function(a,c,d){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,b=this._style.letterSpacing;if(0===b)e?this.context.strokeText(a,c,d):this.context.fillText(a,c,d);else for(var f=String.prototype.split.call(a,""),m=c,g=0,n;g<a.length;)n=f[g++],e?this.context.strokeText(n,m,d):this.context.fillText(n,m,d),m+=this.context.measureText(n).width+b};b.prototype.updateTexture=function(){var a=this._texture,c=this._style;a.baseTexture.hasLoaded=!0;a.baseTexture.resolution=
this.resolution;a.baseTexture.realWidth=this.canvas.width;a.baseTexture.realHeight=this.canvas.height;a.baseTexture.width=this.canvas.width/this.resolution;a.baseTexture.height=this.canvas.height/this.resolution;a.trim.width=a._frame.width=this.canvas.width/this.resolution;a.trim.height=a._frame.height=this.canvas.height/this.resolution;a.trim.x=-c.padding;a.trim.y=-c.padding;a.orig.width=a._frame.width-2*c.padding;a.orig.height=a._frame.height-2*c.padding;this._onTextureUpdate();a.baseTexture.emit("update",
a.baseTexture);this.dirty=!1};b.prototype.renderWebGL=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0);this.updateText(!0);e.prototype.renderWebGL.call(this,a)};b.prototype._renderCanvas=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0);this.updateText(!0);e.prototype._renderCanvas.call(this,a)};b.prototype.determineFontProperties=function(a){var c=b.fontPropertiesCache[a];if(!c){var c={},d=b.fontPropertiesCanvas,e=b.fontPropertiesContext;
e.font=a;var f=Math.ceil(e.measureText("|M\u00c9q").width),m=Math.ceil(e.measureText("M").width),n=2*m,m=1.4*m|0;d.width=f;d.height=n;e.fillStyle="#f00";e.fillRect(0,0,f,n);e.font=a;e.textBaseline="alphabetic";e.fillStyle="#000";e.fillText("|M\u00c9q",0,m);var d=e.getImageData(0,0,f,n).data,e=d.length,f=4*f,g,h=0,k=!1;for(g=0;g<m;++g){for(var p=0;p<f;p+=4)if(255!==d[h+p]){k=!0;break}if(k)break;else h+=f}c.ascent=m-g;h=e-f;k=!1;for(g=n;g>m;--g){for(n=0;n<f;n+=4)if(255!==d[h+n]){k=!0;break}if(k)break;
else h-=f}c.descent=g-m;c.fontSize=c.ascent+c.descent;b.fontPropertiesCache[a]=c}return c};b.prototype.wordWrap=function(a){var c="";a=a.split("\n");for(var d=this._style.wordWrapWidth,e=0;e<a.length;e++){for(var b=d,f=a[e].split(" "),m=0;m<f.length;m++){var n=this.context.measureText(f[m]).width;if(this._style.breakWords&&n>d)for(var n=f[m].split(""),g=0;g<n.length;g++){var h=this.context.measureText(n[g]).width;h>b?(c+="\n"+n[g],b=d-h):(0===g&&(c+=" "),c+=n[g],b-=h)}else g=n+this.context.measureText(" ").width,
0===m||g>b?(0<m&&(c+="\n"),c+=f[m],b=d-n):(b-=g,c+=" "+f[m])}e<a.length-1&&(c+="\n")}return c};b.prototype._calculateBounds=function(){this.updateText(!0);this.calculateVertices();this._bounds.addQuad(this.vertexData)};b.prototype._onStyleChange=function(){this.dirty=!0};b.prototype._generateFillStyle=function(a,c){if(!Array.isArray(a.fill))return a.fill;if(navigator.isCocoonJS)return a.fill[0];var d,e,b,f;d=this.canvas.width/this.resolution;e=this.canvas.height/this.resolution;if(a.fillGradientType===
m.TEXT_GRADIENT.LINEAR_VERTICAL){d=this.context.createLinearGradient(d/2,0,d/2,e);e=(a.fill.length+1)*c.length;for(var n=b=0;n<c.length;n++){b+=1;for(var g=0;g<a.fill.length;g++)f=b/e,d.addColorStop(f,a.fill[g]),b++}}else for(d=this.context.createLinearGradient(0,e/2,d,e/2),e=a.fill.length+1,b=1,n=0;n<a.fill.length;n++)f=b/e,d.addColorStop(f,a.fill[n]),b++;return d};b.prototype.destroy=function(a){"boolean"===typeof a&&(a={children:a});a=Object.assign({},n,a);e.prototype.destroy.call(this,a);this._style=
this.canvas=this.context=null};f(b,[{key:"width",get:function(){this.updateText(!0);return Math.abs(this.scale.x)*this.texture.orig.width},set:function(a){this.updateText(!0);var d=(0,c.sign)(this.scale.x)||1;this.scale.x=d*a/this.texture.orig.width;this._width=a}},{key:"height",get:function(){this.updateText(!0);return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){this.updateText(!0);var d=(0,c.sign)(this.scale.y)||1;this.scale.y=d*a/this.texture.orig.height;this._height=a}},
{key:"style",get:function(){return this._style},set:function(a){a=a||{};this._style=a instanceof p["default"]?a:new p["default"](a);this.localStyleID=-1;this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(a){a=(a||" ").toString();this._text!==a&&(this._text=a,this.dirty=!0)}}]);return b}(l["default"]);h["default"]=b;b.fontPropertiesCache={};b.fontPropertiesCanvas=document.createElement("canvas");b.fontPropertiesContext=b.fontPropertiesCanvas.getContext("2d")},{"../const":43,
"../math":67,"../sprites/Sprite":98,"../textures/Texture":109,"../utils":116,"./TextStyle":105}],105:[function(b,l,h){function g(d){if("number"===typeof d)return(0,f.hex2string)(d);if(Array.isArray(d))for(var a=0;a<d.length;++a)"number"===typeof d[a]&&(d[a]=(0,f.hex2string)(d[a]));return d}h.__esModule=!0;var k=function(){function d(a,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,
c,e){c&&d(a.prototype,c);e&&d(a,e);return a}}();l=b("../const");var f=b("../utils"),e={align:"left",breakWords:!1,dropShadow:!1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:l.TEXT_GRADIENT.LINEAR_VERTICAL,fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",wordWrap:!1,
wordWrapWidth:100};b=function(){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.styleID=0;Object.assign(this,e,a)}d.prototype.clone=function(){var a={},c;for(c in this._defaults)a[c]=this[c];return new d(a)};d.prototype.reset=function(){Object.assign(this,this._defaults)};k(d,[{key:"align",get:function(){return this._align},set:function(a){this._align!==a&&(this._align=a,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},
set:function(a){this._breakWords!==a&&(this._breakWords=a,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(a){this._dropShadow!==a&&(this._dropShadow=a,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(a){this._dropShadowAngle!==a&&(this._dropShadowAngle=a,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(a){this._dropShadowBlur!==a&&(this._dropShadowBlur=a,this.styleID++)}},
{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(a){a=g(a);this._dropShadowColor!==a&&(this._dropShadowColor=a,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(a){this._dropShadowDistance!==a&&(this._dropShadowDistance=a,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(a){a=g(a);this._fill!==a&&(this._fill=a,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},
set:function(a){this._fillGradientType!==a&&(this._fillGradientType=a,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(a){this.fontFamily!==a&&(this._fontFamily=a,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(a){this._fontSize!==a&&(this._fontSize=a,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(a){this._fontStyle!==a&&(this._fontStyle=a,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},
set:function(a){this._fontVariant!==a&&(this._fontVariant=a,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(a){this._fontWeight!==a&&(this._fontWeight=a,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(a){this._lineHeight!==a&&(this._lineHeight=a,this.styleID++)}},{key:"lineJoin",
get:function(){return this._lineJoin},set:function(a){this._lineJoin!==a&&(this._lineJoin=a,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(a){this._miterLimit!==a&&(this._miterLimit=a,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(a){this._padding!==a&&(this._padding=a,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(a){a=g(a);this._stroke!==a&&(this._stroke=a,this.styleID++)}},{key:"strokeThickness",
get:function(){return this._strokeThickness},set:function(a){this._strokeThickness!==a&&(this._strokeThickness=a,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(a){this._textBaseline!==a&&(this._textBaseline=a,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(a){this._wordWrap!==a&&(this._wordWrap=a,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(a){this._wordWrapWidth!==
a&&(this._wordWrapWidth=a,this.styleID++)}}]);return d}();h["default"]=b},{"../const":43,"../utils":116}],106:[function(b,l,h){function g(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}h.__esModule=!0;l=(l=b("./BaseTexture"))&&l.__esModule?l:{"default":l};
var k=b("../const");b=function(b){function e(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,c=arguments[2],m=arguments[3];if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var g;g=b.call(this,null,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.resolution=m||k.RESOLUTION;g.width=d;
g.height=a;g.realWidth=g.width*g.resolution;g.realHeight=g.height*g.resolution;g.scaleMode=c||k.SCALE_MODES.DEFAULT;g.hasLoaded=!0;g._glRenderTargets={};g._canvasRenderTarget=null;g.valid=!1;return g}g(e,b);e.prototype.resize=function(d,a){if(d!==this.width||a!==this.height)this.valid=0<d&&0<a,this.width=d,this.height=a,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this)};e.prototype.destroy=function(){b.prototype.destroy.call(this,
!0);this.renderer=null};return e}(l["default"]);h["default"]=b},{"../const":43,"./BaseTexture":107}],107:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=
!0;$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();var f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=b("../utils"),d=b("../const");l=b("eventemitter3");l=g(l);var a=b("../utils/determineCrossOrigin"),c=g(a);b=b("bit-twiddle");var m=g(b);b=function(a){function b(c,
f,g){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var m;m=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.uid=(0,e.uid)();m.touched=0;m.resolution=g||d.RESOLUTION;m.width=100;m.height=100;m.realWidth=100;m.realHeight=100;m.scaleMode=f||d.SCALE_MODES.DEFAULT;m.hasLoaded=!1;m.isLoading=!1;m.source=null;m.origSource=null;m.imageType=null;m.sourceScale=
1;m.premultipliedAlpha=!0;m.imageUrl=null;m.isPowerOfTwo=!1;m.mipmap=d.MIPMAP_TEXTURES;m.wrapMode=d.WRAP_MODES.DEFAULT;m._glTextures={};m._enabled=0;m._id=0;c&&m.loadSource(c);return m}k(b,a);b.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,
this.isPowerOfTwo=m["default"].isPow2(this.realWidth)&&m["default"].isPow2(this.realHeight));this.emit("update",this)};b.prototype.loadSource=function(a){var c=this,d=this.isLoading;this.isLoading=this.hasLoaded=!1;d&&this.source&&(this.source.onload=null,this.source.onerror=null);var e=!this.source;this.source=a;if((a.src&&a.complete||a.getContext)&&a.width&&a.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),e&&this.emit("loaded",this);else if(!a.getContext&&
(e=function(){c.isLoading=!0;a.onload=function(){c._updateImageType();a.onload=null;a.onerror=null;c.isLoading&&(c.isLoading=!1,c._sourceLoaded(),"svg"===c.imageType?c._loadSvgSource():c.emit("loaded",c))};a.onerror=function(){a.onload=null;a.onerror=null;c.isLoading&&(c.isLoading=!1,c.emit("error",c))};if(a.complete&&a.src){a.onload=null;a.onerror=null;if("svg"===c.imageType)return c._loadSvgSource(),{v:void 0};c.isLoading=!1;a.width&&a.height?(c._sourceLoaded(),d&&c.emit("loaded",c)):d&&c.emit("error",
c)}}(),"object"===("undefined"===typeof e?"undefined":f(e))))return e.v};b.prototype._updateImageType=function(){if(this.imageUrl){var a=(0,e.decomposeDataUri)(this.imageUrl);if(a&&"image"===a.mediaType){if(a=a.subType.split("+")[0],a=(0,e.getUrlFileExtension)("."+a),!a)throw Error("Invalid image type in data URI.");}else if(a=(0,e.getUrlFileExtension)(this.imageUrl),!a)throw Error("Invalid image type in URL.");this.imageType=a}};b.prototype._loadSvgSource=function(){if("svg"===this.imageType){var a=
(0,e.decomposeDataUri)(this.imageUrl);a?this._loadSvgSourceUsingDataUri(a):this._loadSvgSourceUsingXhr()}};b.prototype._loadSvgSourceUsingDataUri=function(a){if("base64"===a.encoding){if(!atob)throw Error("Your browser doesn't support base64 conversions.");a=atob(a.data)}else a=a.data;this._loadSvgSourceUsingString(a)};b.prototype._loadSvgSourceUsingXhr=function(){var a=this,c=new XMLHttpRequest;c.onload=function(){if(c.readyState!==c.DONE||200!==c.status)throw Error("Failed to load SVG using XHR.");
a._loadSvgSourceUsingString(c.response)};c.onerror=function(){return a.emit("error",a)};c.open("GET",this.imageUrl,!0);c.send()};b.prototype._loadSvgSourceUsingString=function(a){var c=(0,e.getSvgSize)(a);a=c.width;c=c.height;if(!a||!c)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(a*this.sourceScale);this.realHeight=Math.round(c*this.sourceScale);this.width=this.realWidth/this.resolution;this.height=this.realHeight/this.resolution;
this.isPowerOfTwo=m["default"].isPow2(this.realWidth)&&m["default"].isPow2(this.realHeight);var d=document.createElement("canvas");d.width=this.realWidth;d.height=this.realHeight;d._pixiId="canvas_"+(0,e.uid)();d.getContext("2d").drawImage(this.source,0,0,a,c,0,0,this.realWidth,this.realHeight);this.origSource=this.source;this.source=d;e.BaseTextureCache[d._pixiId]=this;this.isLoading=!1;this._sourceLoaded();this.emit("loaded",this)};b.prototype._sourceLoaded=function(){this.hasLoaded=!0;this.update()};
b.prototype.destroy=function(){this.imageUrl&&(delete e.BaseTextureCache[this.imageUrl],delete e.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src=""));this.source&&this.source._pixiId&&delete e.BaseTextureCache[this.source._pixiId];this.source=null;this.dispose()};b.prototype.dispose=function(){this.emit("dispose",this)};b.prototype.updateSourceImage=function(a){this.source.src=a;this.loadSource(this.source)};b.fromImage=function(a,d,f,m){var g=e.BaseTextureCache[a];
if(!g){var h=new Image;void 0===d&&0!==a.indexOf("data:")&&(h.crossOrigin=(0,c["default"])(a));g=new b(h,f);g.imageUrl=a;m&&(g.sourceScale=m);g.resolution=(0,e.getResolutionOfUrl)(a);h.src=a;e.BaseTextureCache[a]=g}return g};b.fromCanvas=function(a,c){a._pixiId||(a._pixiId="canvas_"+(0,e.uid)());var d=e.BaseTextureCache[a._pixiId];d||(d=new b(a,c),e.BaseTextureCache[a._pixiId]=d);return d};return b}(l["default"]);h["default"]=b},{"../const":43,"../utils":116,"../utils/determineCrossOrigin":115,"bit-twiddle":1,
eventemitter3:3}],108:[function(b,l,h){function g(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}h.__esModule=!0;var k=(l=b("./BaseRenderTexture"))&&l.__esModule?l:{"default":l};b=b("./Texture");b=function(b){function e(d,a,c,m,g){if(!(this instanceof
e))throw new TypeError("Cannot call a class as a function");var n=null;if(!(d instanceof k["default"])){var h=a;m=m||0;g=g||1;console.warn("Please use RenderTexture.create("+h+", "+c+") instead of the ctor directly.");n=d;a=null;d=new k["default"](h,c,m,g)}d=b.call(this,d,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.legacyRenderer=n;d.valid=!0;d._updateUvs();return d}g(e,b);e.prototype.resize=
function(d,a,c){this.valid=0<d&&0<a;this._frame.width=this.orig.width=d;this._frame.height=this.orig.height=a;c||this.baseTexture.resize(d,a);this._updateUvs()};e.create=function(d,a,c,b){return new e(new k["default"](d,a,c,b))};return e}((b&&b.__esModule?b:{"default":b})["default"]);h["default"]=b},{"./BaseRenderTexture":106,"./Texture":109}],109:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;var f=function(){function a(c,d){for(var e=0;e<d.length;e++){var b=d[e];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(c,b.key,b)}}return function(c,d,e){d&&a(c.prototype,d);e&&a(c,e);return c}}();l=b("./BaseTexture");var e=g(l);l=b("./VideoBaseTexture");
var d=g(l);l=b("./TextureUvs");var a=g(l);l=b("eventemitter3");l=g(l);var c=b("../math"),m=b("../utils");b=function(b){function g(a,d,e,f,m){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var h;h=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.noFrame=!1;d||(h.noFrame=!0,d=new c.Rectangle(0,0,1,1));a instanceof g&&(a=a.baseTexture);h.baseTexture=a;
h._frame=d;h.trim=f;h.valid=!1;h.requiresUpdate=!1;h._uvs=null;h.orig=e||d;h._rotate=Number(m||0);if(!0===m)h._rotate=2;else if(0!==h._rotate%2)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");if(a.hasLoaded)h.noFrame&&(d=new c.Rectangle(0,0,a.width,a.height),a.on("update",h.onBaseTextureUpdated,h)),h.frame=d;else a.once("loaded",h.onBaseTextureLoaded,h);h._updateID=0;h.transform=null;return h}k(g,b);g.prototype.update=function(){this.baseTexture.update()};
g.prototype.onBaseTextureLoaded=function(a){this._updateID++;this.frame=this.noFrame?new c.Rectangle(0,0,a.width,a.height):this._frame;this.baseTexture.on("update",this.onBaseTextureUpdated,this);this.emit("update",this)};g.prototype.onBaseTextureUpdated=function(a){this._updateID++;this._frame.width=a.width;this._frame.height=a.height;this.emit("update",this)};g.prototype.destroy=function(a){this.baseTexture&&(a&&(m.TextureCache[this.baseTexture.imageUrl]&&delete m.TextureCache[this.baseTexture.imageUrl],
this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null);this.orig=this.trim=this._uvs=this._frame=null;this.valid=!1;this.off("dispose",this.dispose,this);this.off("update",this.update,this)};g.prototype.clone=function(){return new g(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)};g.prototype._updateUvs=function(){this._uvs||(this._uvs=new a["default"]);this._uvs.set(this._frame,
this.baseTexture,this.rotate);this._updateID++};g.fromImage=function(a,c,d,b){var f=m.TextureCache[a];f||(f=new g(e["default"].fromImage(a,c,d,b)),m.TextureCache[a]=f);return f};g.fromFrame=function(a){var c=m.TextureCache[a];if(!c)throw Error('The frameId "'+a+'" does not exist in the texture cache');return c};g.fromCanvas=function(a,c){return new g(e["default"].fromCanvas(a,c))};g.fromVideo=function(a,c){return"string"===typeof a?g.fromVideoUrl(a,c):new g(d["default"].fromVideo(a,c))};g.fromVideoUrl=
function(a,c){return new g(d["default"].fromUrl(a,c))};g.from=function(a){if("string"===typeof a){var c=m.TextureCache[a];return c?c:null!==a.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?g.fromVideoUrl(a):g.fromImage(a)}return a instanceof HTMLImageElement?new g(new e["default"](a)):a instanceof HTMLCanvasElement?g.fromCanvas(a):a instanceof HTMLVideoElement?g.fromVideo(a):a instanceof e["default"]?new g(a):a};g.addTextureToCache=function(a,c){m.TextureCache[c]=a};g.removeTextureFromCache=function(a){var c=
m.TextureCache[a];delete m.TextureCache[a];delete m.BaseTextureCache[a];return c};f(g,[{key:"frame",get:function(){return this._frame},set:function(a){this._frame=a;this.noFrame=!1;if(a.x+a.width>this.baseTexture.width||a.y+a.height>this.baseTexture.height)throw Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=a&&a.width&&a.height&&this.baseTexture.hasLoaded;this.trim||this.rotate||(this.orig=a);this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},
set:function(a){this._rotate=a;this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig?this.orig.width:0}},{key:"height",get:function(){return this.orig?this.orig.height:0}}]);return g}(l["default"]);h["default"]=b;b.EMPTY=new b(new e["default"]);b.EMPTY.destroy=function(){};b.EMPTY.on=function(){};b.EMPTY.once=function(){};b.EMPTY.emit=function(){}},{"../math":67,"../utils":116,"./BaseTexture":107,"./TextureUvs":110,"./VideoBaseTexture":111,eventemitter3:3}],110:[function(b,
l,h){h.__esModule=!0;var g=(b=b("../math/GroupD8"))&&b.__esModule?b:{"default":b};b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.y0=this.x0=0;this.x1=1;this.y1=0;this.y2=this.x2=1;this.x3=0;this.y3=1;this.uvsUint32=new Uint32Array(4)}b.prototype.set=function(b,e,d){var a=e.width,c=e.height;if(d){e=b.width/2/a;var m=b.height/2/c,a=b.x/a+e;b=b.y/c+m;d=g["default"].add(d,g["default"].NW);this.x0=a+e*g["default"].uX(d);this.y0=b+m*g["default"].uY(d);
d=g["default"].add(d,2);this.x1=a+e*g["default"].uX(d);this.y1=b+m*g["default"].uY(d);d=g["default"].add(d,2);this.x2=a+e*g["default"].uX(d);this.y2=b+m*g["default"].uY(d);d=g["default"].add(d,2);this.x3=a+e*g["default"].uX(d);this.y3=b+m*g["default"].uY(d)}else this.x0=b.x/a,this.y0=b.y/c,this.x1=(b.x+b.width)/a,this.y1=b.y/c,this.x2=(b.x+b.width)/a,this.y2=(b.y+b.height)/c,this.x3=b.x/a,this.y3=(b.y+b.height)/c;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535;this.uvsUint32[1]=(65535*
this.y1&65535)<<16|65535*this.x1&65535;this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535;this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535};return b}();h["default"]=b},{"../math/GroupD8":63}],111:[function(b,l,h){function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?
Object.setPrototypeOf(a,c):a.__proto__=c)}function k(a,c){c||(c="video/"+a.substr(a.lastIndexOf(".")+1));var d=document.createElement("source");d.src=a;d.type=c;return d}h.__esModule=!0;var f=function(){function a(a,d){for(var b=0;b<d.length;b++){var e=d[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(c,d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}();l=(l=b("./BaseTexture"))&&l.__esModule?l:{"default":l};var e=b("../utils"),
d=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}(b("../ticker"));b=function(a){function c(d,b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");if(!d)throw Error("No video source element specified.");(d.readyState===d.HAVE_ENOUGH_DATA||d.readyState===d.HAVE_FUTURE_DATA)&&d.width&&d.height&&(d.complete=!0);var e;e=a.call(this,d,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.width=d.videoWidth;e.height=d.videoHeight;e._autoUpdate=!0;e._isAutoUpdating=!1;e.autoPlay=!0;e.update=e.update.bind(e);e._onCanPlay=e._onCanPlay.bind(e);d.addEventListener("play",e._onPlayStart.bind(e));d.addEventListener("pause",e._onPlayStop.bind(e));e.hasLoaded=!1;e.__loaded=!1;e._isSourceReady()?e._onCanPlay():(d.addEventListener("canplay",e._onCanPlay),d.addEventListener("canplaythrough",e._onCanPlay));return e}g(c,a);c.prototype._isSourcePlaying=
function(){var a=this.source;return 0<a.currentTime&&!1===a.paused&&!1===a.ended&&2<a.readyState};c.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState};c.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay();!this._isAutoUpdating&&this.autoUpdate&&(d.shared.add(this.update,this),this._isAutoUpdating=!0)};c.prototype._onPlayStop=function(){this._isAutoUpdating&&(d.shared.remove(this.update,this),this._isAutoUpdating=!1)};c.prototype._onCanPlay=
function(){this.hasLoaded=!0;this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())};c.prototype.destroy=function(){this._isAutoUpdating&&d.shared.remove(this.update,this);this.source&&this.source._pixiId&&(delete e.BaseTextureCache[this.source._pixiId],
delete this.source._pixiId);a.prototype.destroy.call(this)};c.fromVideo=function(a,d){a._pixiId||(a._pixiId="video_"+(0,e.uid)());var b=e.BaseTextureCache[a._pixiId];b||(b=new c(a,d),e.BaseTextureCache[a._pixiId]=b);return b};c.fromUrl=function(a,d){var e=document.createElement("video");e.setAttribute("webkit-playsinline","");e.setAttribute("playsinline","");if(Array.isArray(a))for(var b=0;b<a.length;++b)e.appendChild(k(a[b].src||a[b],a[b].mime));else e.appendChild(k(a.src||a,a.mime));e.load();return c.fromVideo(e,
d)};f(c,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(a){a!==this._autoUpdate&&(this._autoUpdate=a,!this._autoUpdate&&this._isAutoUpdating?(d.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(d.shared.add(this.update,this),this._isAutoUpdating=!0))}}]);return c}(l["default"]);h["default"]=b;b.fromUrls=b.fromUrl},{"../ticker":113,"../utils":116,"./BaseTexture":107}],112:[function(b,l,h){h.__esModule=!0;var g=function(){function e(d,
a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(d,e.key,e)}}return function(d,a,c){a&&e(d.prototype,a);c&&e(d,c);return d}}(),k=b("../const"),f=(b=b("eventemitter3"))&&b.__esModule?b:{"default":b};b=function(){function e(){var d=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._emitter=new f["default"];this._requestId=null;this._maxElapsedMS=100;this.autoStart=!1;
this.deltaTime=1;this.elapsedMS=1/k.TARGET_FPMS;this.lastTime=0;this.speed=1;this.started=!1;this._tick=function(a){d._requestId=null;d.started&&(d.update(a),d.started&&null===d._requestId&&d._emitter.listeners("tick",!0)&&(d._requestId=requestAnimationFrame(d._tick)))}}e.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners("tick",!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};e.prototype._cancelIfNeeded=function(){null!==
this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)};e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()};e.prototype.add=function(d,a){this._emitter.on("tick",d,a);this._startIfPossible();return this};e.prototype.addOnce=function(d,a){this._emitter.once("tick",d,a);this._startIfPossible();return this};e.prototype.remove=function(d,a){this._emitter.off("tick",d,a);this._emitter.listeners("tick",!0)||this._cancelIfNeeded();
return this};e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};e.prototype.update=function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),a;d>this.lastTime?(a=this.elapsedMS=d-this.lastTime,a>this._maxElapsedMS&&(a=this._maxElapsedMS),this.deltaTime=a*k.TARGET_FPMS*this.speed,this._emitter.emit("tick",this.deltaTime)):this.deltaTime=this.elapsedMS=
0;this.lastTime=d};g(e,[{key:"FPS",get:function(){return 1E3/this.elapsedMS}},{key:"minFPS",get:function(){return 1E3/this._maxElapsedMS},set:function(d){this._maxElapsedMS=1/Math.min(Math.max(0,d)/1E3,k.TARGET_FPMS)}}]);return e}();h["default"]=b},{"../const":43,eventemitter3:3}],113:[function(b,l,h){h.__esModule=!0;h.Ticker=h.shared=void 0;b=(b=b("./Ticker"))&&b.__esModule?b:{"default":b};l=new b["default"];l.autoStart=!0;h.shared=l;h.Ticker=b["default"]},{"./Ticker":112}],114:[function(b,l,h){h.__esModule=
!0;h["default"]=function(b){b*=6;for(var h=new Uint16Array(b),f=0,e=0;f<b;f+=6,e+=4)h[f+0]=e+0,h[f+1]=e+1,h[f+2]=e+2,h[f+3]=e+0,h[f+4]=e+2,h[f+5]=e+3;return h}},{}],115:[function(b,l,h){h.__esModule=!0;h["default"]=function(b){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===b.indexOf("data:"))return"";e=e||window.location;k||(k=document.createElement("a"));k.href=b;b=g["default"].parse(k.href);var d=!b.port&&""===e.port||b.port===e.port;return b.hostname===e.hostname&&
d&&b.protocol===e.protocol?"":"anonymous"};var g=(b=b("url"))&&b.__esModule?b:{"default":b},k=void 0},{url:28}],116:[function(b,l,h){h.__esModule=!0;h.BaseTextureCache=h.TextureCache=h.pluginTarget=h.EventEmitter=void 0;h.uid=function(){return++k};h.hex2rgb=function(e,d){d=d||[];d[0]=(e>>16&255)/255;d[1]=(e>>8&255)/255;d[2]=(e&255)/255;return d};h.hex2string=function(e){e=e.toString(16);e="000000".substr(0,6-e.length)+e;return"#"+e};h.rgb2hex=function(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]};
h.getResolutionOfUrl=function(e){return(e=g.RETINA_PREFIX.exec(e))?parseFloat(e[1]):1};h.decomposeDataUri=function(e){if(e=g.DATA_URI.exec(e))return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]}};h.getUrlFileExtension=function(e){if(e=g.URL_FILE_EXTENSION.exec(e))return e[1].toLowerCase()};h.getSvgSize=function(e){e=g.SVG_SIZE.exec(e);var d={};e&&(d[e[1]]=Math.round(parseFloat(e[2])),d[e[3]]=Math.round(parseFloat(e[4])));
return d};h.skipHello=function(){f=!0};h.sayHello=function(e){f||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?window.console.log.apply(console,["\n %c %c %c Pixi.js "+g.VERSION+" - \u2730 "+e+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;",
"color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("Pixi.js "+g.VERSION+" - "+e+" - http://www.pixijs.com/"),f=!0)};h.isWebGLSupported=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var d=document.createElement("canvas"),a=d.getContext("webgl",e)||d.getContext("experimental-webgl",e),c=!(!a||!a.getContextAttributes().stencil);
if(a){var b=a.getExtension("WEBGL_lose_context");b&&b.loseContext()}return c}catch(f){return!1}};h.sign=function(e){return 0===e?0:0>e?-1:1};h.removeItems=function(e,d,a){var c=e.length;if(!(d>=c||0===a)){a=d+a>c?c-d:a;for(c-=a;d<c;++d)e[d]=e[d+a];e.length=c}};var g=b("../const");l=(l=b("eventemitter3"))&&l.__esModule?l:{"default":l};b=(b=b("./pluginTarget"))&&b.__esModule?b:{"default":b};var k=0,f=!1;h.EventEmitter=l["default"];h.pluginTarget=b["default"];h.TextureCache={};h.BaseTextureCache={}},
{"../const":43,"./pluginTarget":118,eventemitter3:3}],117:[function(b,l,h){h.__esModule=!0;h["default"]=function(b){return g["default"].tablet||g["default"].phone?2:b};var g=(b=b("ismobilejs"))&&b.__esModule?b:{"default":b}},{ismobilejs:4}],118:[function(b,l,h){function g(b){b.__plugins={};b.registerPlugin=function(f,e){b.__plugins[f]=e};b.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var f in b.__plugins)this.plugins[f]=new b.__plugins[f](this)};b.prototype.destroyPlugins=function(){for(var b in this.plugins)this.plugins[b].destroy(),
this.plugins[b]=null;this.plugins=null}}h.__esModule=!0;h["default"]={mixin:function(b){g(b)}}},{}],119:[function(b,l,h){function g(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b]);d["default"]=a;return d}function k(a){var d=Error().stack;"undefined"===typeof d?console.warn("Deprecation Warning: ",a):(d=d.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6",
"font-weight:normal;color:#614108;background:#fffbe6",a),console.warn(d),console.groupEnd()):(console.warn("Deprecation Warning: ",a),console.warn(d)))}l=b("./core");var f=g(l);l=b("./mesh");var e=g(l);l=b("./particles");var d=g(l);l=b("./extras");var a=g(l);b=b("./filters");b=g(b);f.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.");};f.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.");
};Object.defineProperties(f,{Stage:{enumerable:!0,get:function(){k("You do not need to use a PIXI Stage any more, you can simply render any container.");return f.Container}},DisplayObjectContainer:{enumerable:!0,get:function(){k("DisplayObjectContainer has been shortened to Container, please use Container from now on.");return f.Container}},Strip:{enumerable:!0,get:function(){k("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");return e.Mesh}},Rope:{enumerable:!0,
get:function(){k("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");return e.Rope}},ParticleContainer:{enumerable:!0,get:function(){k("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.");return d.ParticleContainer}},MovieClip:{enumerable:!0,get:function(){k("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on.");return a.MovieClip}},TilingSprite:{enumerable:!0,
get:function(){k("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.");return a.TilingSprite}},BitmapText:{enumerable:!0,get:function(){k("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.");return a.BitmapText}},blendModes:{enumerable:!0,get:function(){k("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");return f.BLEND_MODES}},scaleModes:{enumerable:!0,get:function(){k("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");
return f.SCALE_MODES}},BaseTextureCache:{enumerable:!0,get:function(){k("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.");return f.utils.BaseTextureCache}},TextureCache:{enumerable:!0,get:function(){k("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.");return f.utils.TextureCache}},math:{enumerable:!0,get:function(){k("The math namespace is deprecated, please access members already accessible on PIXI.");
return f}},AbstractFilter:{enumerable:!0,get:function(){k("AstractFilter has been renamed to Filter, please use PIXI.Filter");return f.Filter}},TransformManual:{enumerable:!0,get:function(){k("TransformManual has been renamed to TransformBase, please update your pixi-spine");return f.TransformBase}}});f.DisplayObject.prototype.generateTexture=function(a,d,b){k("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");return a.generateTexture(this,d,b)};f.Graphics.prototype.generateTexture=
function(a,d){k("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture");return this.generateCanvasTexture(a,d)};f.RenderTexture.prototype.render=function(a,d,b,e){this.legacyRenderer.render(a,this,b,d,!e);k("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")};f.RenderTexture.prototype.getImage=function(a){k("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");
return this.legacyRenderer.extract.image(a)};f.RenderTexture.prototype.getBase64=function(a){k("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");return this.legacyRenderer.extract.base64(a)};f.RenderTexture.prototype.getCanvas=function(a){k("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");return this.legacyRenderer.extract.canvas(a)};f.RenderTexture.prototype.getPixels=function(a){k("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");
return this.legacyRenderer.pixels(a)};f.Sprite.prototype.setTexture=function(a){this.texture=a;k("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")};a.BitmapText.prototype.setText=function(a){this.text=a;k("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")};f.Text.prototype.setText=function(a){this.text=a;k("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")};f.Text.prototype.setStyle=
function(a){this.style=a;k("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")};Object.defineProperties(f.TextStyle.prototype,{font:{get:function(){k("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+("number"===typeof this._fontSize?this._fontSize+"px":this._fontSize)+" "+this._fontFamily},
set:function(a){k("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");1<a.indexOf("italic")?this._fontStyle="italic":-1<a.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal";-1<a.indexOf("small-caps")?this._fontVariant="small-caps":this._fontVariant="normal";a=a.split(" ");var d=-1;this._fontSize=26;for(var b=0;b<a.length;++b)if(a[b].match(/(px|pt|em|%)/)){d=b;this._fontSize=a[b];
break}this._fontWeight="normal";for(b=0;b<d;++b)if(a[b].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=a[b];break}if(-1<d&&d<a.length-1){this._fontFamily="";for(d+=1;d<a.length;++d)this._fontFamily+=a[d]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}});f.Texture.prototype.setFrame=function(a){this.frame=a;k("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")};Object.defineProperties(b,
{AbstractFilter:{get:function(){k("AstractFilter has been renamed to Filter, please use PIXI.Filter");return f.AbstractFilter}},SpriteMaskFilter:{get:function(){k("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");return f.SpriteMaskFilter}}});f.utils.uuid=function(){k("utils.uuid() is deprecated, please use utils.uid() from now on.");return f.utils.uid()};f.utils.canUseNewCanvasBlendModes=function(){k("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");
return f.CanvasTinter.canUseMultiply}},{"./core":62,"./extras":130,"./filters":141,"./mesh":159,"./particles":162}],120:[function(b,l,h){h.__esModule=!0;var g=function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d]);e["default"]=b;return e}(b("../../core")),k=new g.Rectangle;b=function(){function b(e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=e;e.extract=this}b.prototype.image=
function(b){var d=new Image;d.src=this.base64(b);return d};b.prototype.base64=function(b){return this.canvas(b).toDataURL()};b.prototype.canvas=function(b){var d=this.renderer,a=void 0,c=void 0;b&&(c=b instanceof g.RenderTexture?b:d.generateTexture(b));c?(b=c.baseTexture._canvasRenderTarget.context,a=c.baseTexture._canvasRenderTarget.resolution,d=c.frame):(b=d.rootContext,d=k,d.width=this.renderer.width,d.height=this.renderer.height);var f=d.width*a,h=d.height*a,c=new g.CanvasRenderTarget(f,h),a=
b.getImageData(d.x*a,d.y*a,f,h);c.context.putImageData(a,0,0);return c.canvas};b.prototype.pixels=function(b){var d=this.renderer,a=void 0,c;c=void 0;b&&(c=b instanceof g.RenderTexture?b:d.generateTexture(b));c?(b=c.baseTexture._canvasRenderTarget.context,a=c.baseTexture._canvasRenderTarget.resolution,c=c.frame):(b=d.rootContext,c=k,c.width=d.width,c.height=d.height);return b.getImageData(0,0,c.width*a,c.height*a).data};b.prototype.destroy=function(){this.renderer=this.renderer.extract=null};return b}();
h["default"]=b;g.CanvasRenderer.registerPlugin("extract",b)},{"../../core":62}],121:[function(b,l,h){h.__esModule=!0;var g=b("./webgl/WebGLExtract");Object.defineProperty(h,"webgl",{enumerable:!0,get:function(){return(g&&g.__esModule?g:{"default":g})["default"]}});var k=b("./canvas/CanvasExtract");Object.defineProperty(h,"canvas",{enumerable:!0,get:function(){return(k&&k.__esModule?k:{"default":k})["default"]}})},{"./canvas/CanvasExtract":120,"./webgl/WebGLExtract":122}],122:[function(b,l,h){h.__esModule=
!0;var g=function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d]);e["default"]=b;return e}(b("../../core")),k=new g.Rectangle;b=function(){function b(e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=e;e.extract=this}b.prototype.image=function(b){var d=new Image;d.src=this.base64(b);return d};b.prototype.base64=function(b){return this.canvas(b).toDataURL()};b.prototype.canvas=function(b){var d=
this.renderer,a,c,f;f=void 0;b&&(f=b instanceof g.RenderTexture?b:this.renderer.generateTexture(b));f?(a=f.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],b=a.resolution,c=f.frame,f=!1):(a=this.renderer.rootRenderTarget,b=a.resolution,f=!0,c=k,c.width=a.size.width,c.height=a.size.height);var h=c.width*b,n=c.height*b,l=new g.CanvasRenderTarget(h,n);a&&(d.bindRenderTarget(a),a=new Uint8Array(4*h*n),d=d.gl,d.readPixels(c.x*b,c.y*b,h,n,d.RGBA,d.UNSIGNED_BYTE,a),d=l.context.getImageData(0,0,h,
n),d.data.set(a),l.context.putImageData(d,0,0),f&&(l.context.scale(1,-1),l.context.drawImage(l.canvas,0,-n)));return l.canvas};b.prototype.pixels=function(b){var d=this.renderer,a,c;c=void 0;b&&(c=b instanceof g.RenderTexture?b:this.renderer.generateTexture(b));c?(a=c.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],b=a.resolution,c=c.frame):(a=this.renderer.rootRenderTarget,b=a.resolution,c=k,c.width=a.size.width,c.height=a.size.height);var f=c.width*b,h=c.height*b,n=new Uint8Array(4*f*h);
a&&(d.bindRenderTarget(a),d=d.gl,d.readPixels(c.x*b,c.y*b,f,h,d.RGBA,d.UNSIGNED_BYTE,n));return n};b.prototype.destroy=function(){this.renderer=this.renderer.extract=null};return b}();h["default"]=b;g.WebGLRenderer.registerPlugin("extract",b)},{"../../core":62}],123:[function(b,l,h){function g(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?a:c}function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;var f=function(){function a(a,d){for(var b=0;b<d.length;b++){var e=d[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(c,d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}(),e=function(a){if(a&&a.__esModule)return a;var c={};
if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}(b("../core")),d=(b=b("../core/math/ObservablePoint"))&&b.__esModule?b:{"default":b};b=function(a){function c(b){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var f=g(this,a.call(this));f.textWidth=0;f.textHeight=0;f._glyphs=[];f._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,
size:0};f.font=e.font;f._text=b;f.maxWidth=0;f.maxLineHeight=0;f._anchor=new d["default"](function(){f.dirty=!0},f,0,0);f.dirty=!1;f.updateText();return f}k(c,a);c.prototype.updateText=function(){for(var a=c.fonts[this._font.name],d=this._font.size/a.size,b=new e.Point,f=[],g=[],h=null,k=0,l=0,t=0,r=-1,v=0,B=0,H=0;H<this.text.length;H++){var K=this.text.charCodeAt(H);/(\s)/.test(this.text.charAt(H))&&(r=H,v=k);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(H)))g.push(k),l=Math.max(l,k),t++,b.x=0,b.y+=
a.lineHeight,h=null;else if(-1!==r&&0<this.maxWidth&&b.x*d>this.maxWidth)e.utils.removeItems(f,r,H-r),H=r,r=-1,g.push(v),l=Math.max(l,v),t++,b.x=0,b.y+=a.lineHeight,h=null;else{var C=a.chars[K];C&&(h&&C.kerning[h]&&(b.x+=C.kerning[h]),f.push({texture:C.texture,line:t,charCode:K,position:new e.Point(b.x+C.xOffset,b.y+C.yOffset)}),k=b.x+(C.texture.width+C.xOffset),b.x+=C.xAdvance,B=Math.max(B,C.yOffset+C.texture.height),h=K)}}g.push(k);l=Math.max(l,k);h=[];for(k=0;k<=t;k++)r=0,"right"===this._font.align?
r=l-g[k]:"center"===this._font.align&&(r=(l-g[k])/2),h.push(r);g=f.length;t=this.tint;for(k=0;k<g;k++)(r=this._glyphs[k])?r.texture=f[k].texture:(r=new e.Sprite(f[k].texture),this._glyphs.push(r)),r.position.x=(f[k].position.x+h[f[k].line])*d,r.position.y=f[k].position.y*d,r.scale.x=r.scale.y=d,r.tint=t,r.parent||this.addChild(r);for(f=g;f<this._glyphs.length;++f)this.removeChild(this._glyphs[f]);this.textWidth=l*d;this.textHeight=(b.y+a.lineHeight)*d;if(0!==this.anchor.x||0!==this.anchor.y)for(a=
0;a<g;a++)this._glyphs[a].x-=this.textWidth*this.anchor.x,this._glyphs[a].y-=this.textHeight*this.anchor.y;this.maxLineHeight=B*d};c.prototype.updateTransform=function(){this.validate();this.containerUpdateTransform()};c.prototype.getLocalBounds=function(){this.validate();return a.prototype.getLocalBounds.call(this)};c.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)};f(c,[{key:"tint",get:function(){return this._font.tint},set:function(a){this._font.tint="number"===typeof a&&
0<=a?a:16777215;this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(a){this._font.align=a||"left";this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(a){"number"===typeof a?this._anchor.set(a):this._anchor.copy(a)}},{key:"font",get:function(){return this._font},set:function(a){a&&("string"===typeof a?(a=a.split(" "),this._font.name=1===a.length?a[0]:a.slice(1).join(" "),this._font.size=2<=a.length?parseInt(a[0],10):c.fonts[this._font.name].size):
(this._font.name=a.name,this._font.size="number"===typeof a.size?a.size:parseInt(a.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(a){a=a.toString()||" ";this._text!==a&&(this._text=a,this.dirty=!0)}}]);return c}(e.Container);h["default"]=b;b.fonts={}},{"../core":62,"../core/math/ObservablePoint":65}],124:[function(b,l,h){function g(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);
b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}h.__esModule=!0;var k=function(){function b(d,a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(d,e.key,e)}}return function(d,a,c){a&&b(d.prototype,a);c&&b(d,c);return d}}(),f=function(b){if(b&&b.__esModule)return b;var d={};if(null!=
b)for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(d[a]=b[a]);d["default"]=b;return d}(b("../core"));b=function(b){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var c;c=b.call(this,a[0]instanceof f.Texture?a[0]:a[0].texture);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c._textures=null;c._durations=null;c.textures=a;c.animationSpeed=1;
c.loop=!0;c.onComplete=null;c.onFrameChange=null;c._currentTime=0;c.playing=!1;return c}g(d,b);d.prototype.stop=function(){this.playing&&(this.playing=!1,f.ticker.shared.remove(this.update,this))};d.prototype.play=function(){this.playing||(this.playing=!0,f.ticker.shared.add(this.update,this))};d.prototype.gotoAndStop=function(a){this.stop();var c=this.currentFrame;this._currentTime=a;if(c!==this.currentFrame&&(this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange))this.onFrameChange(this.currentFrame)};
d.prototype.gotoAndPlay=function(a){this._currentTime=a;this.play()};d.prototype.update=function(a){var c=this.animationSpeed*a,d=this.currentFrame;if(null!==this._durations){for(var b=this._currentTime%1*this._durations[this.currentFrame],b=b+c/60*1E3;0>b;)this._currentTime--,b+=this._durations[this.currentFrame];a=Math.sign(this.animationSpeed*a);for(this._currentTime=Math.floor(this._currentTime);b>=this._durations[this.currentFrame];)b-=this._durations[this.currentFrame]*a,this._currentTime+=
a;this._currentTime+=b/this._durations[this.currentFrame]}else this._currentTime+=c;if(0>this._currentTime&&!this.loop){if(this.gotoAndStop(0),this.onComplete)this.onComplete()}else if(this._currentTime>=this._textures.length&&!this.loop){if(this.gotoAndStop(this._textures.length-1),this.onComplete)this.onComplete()}else if(d!==this.currentFrame&&(this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange))this.onFrameChange(this.currentFrame)};d.prototype.destroy=function(){this.stop();
b.prototype.destroy.call(this)};d.fromFrames=function(a){for(var c=[],b=0;b<a.length;++b)c.push(f.Texture.fromFrame(a[b]));return new d(c)};d.fromImages=function(a){for(var c=[],b=0;b<a.length;++b)c.push(f.Texture.fromImage(a[b]));return new d(c)};k(d,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(a){if(a[0]instanceof f.Texture)this._textures=a,this._durations=null;else{this._textures=[];this._durations=[];for(var c=
0;c<a.length;c++)this._textures.push(a[c].texture),this._durations.push(a[c].time)}}},{key:"currentFrame",get:function(){var a=Math.floor(this._currentTime)%this._textures.length;0>a&&(a+=this._textures.length);return a}}]);return d}(f.Sprite);h["default"]=b},{"../core":62}],125:[function(b,l,h){h.__esModule=!0;var g=function(){function b(d,a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(d,e.key,e)}}return function(d,
a,c){a&&b(d.prototype,a);c&&b(d,c);return d}}(),k=(b=b("../core/math/Matrix"))&&b.__esModule?b:{"default":b},f=new k["default"];b=function(){function b(d,a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._texture=d;this.mapCoord=new k["default"];this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._lastTextureID=-1;this.clampOffset=0;this.clampMargin="undefined"===typeof a?.5:a}b.prototype.update=function(d){var a=this.texture;if(a&&
a.valid&&(d||this._lastTextureID!==this.texture._updateID)){this._lastTextureID=this.texture._updateID;d=this.texture._uvs;this.mapCoord.set(d.x1-d.x0,d.y1-d.y0,d.x3-d.x0,d.y3-d.y0,d.x0,d.y0);d=a.orig;var c=a.trim;c&&(f.set(d.width/c.width,0,0,d.height/c.height,-c.x/c.width,-c.y/c.height),this.mapCoord.append(f));d=a.baseTexture;var c=this.uClampFrame,b=this.clampMargin/d.resolution,e=this.clampOffset;c[0]=(a._frame.x+b+e)/d.width;c[1]=(a._frame.y+b+e)/d.height;c[2]=(a._frame.x+a._frame.width-b+e)/
d.width;c[3]=(a._frame.y+a._frame.height-b+e)/d.height;this.uClampOffset[0]=e/d.realWidth;this.uClampOffset[1]=e/d.realHeight}};g(b,[{key:"texture",get:function(){return this._texture},set:function(d){this._texture=d;this._lastTextureID=-1}}]);return b}();h["default"]=b},{"../core/math/Matrix":64}],126:[function(b,l,h){function g(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,
{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}h.__esModule=!0;var k=function(){function a(c,d){for(var b=0;b<d.length;b++){var e=d[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(d,b,e){b&&a(d.prototype,b);e&&a(d,e);return d}}(),f=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,
b)&&(d[b]=a[b]);d["default"]=a;return d}(b("../core")),e=(l=b("../core/sprites/canvas/CanvasTinter"))&&l.__esModule?l:{"default":l},d=(b=b("./TextureTransform"))&&b.__esModule?b:{"default":b},a=new f.Point;b=function(c){function b(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var h;h=c.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.tileTransform=new f.TransformStatic;h._width=e;h._height=g;h._canvasPattern=null;h.uvTransform=a.transform||new d["default"](a);return h}g(b,c);b.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)};b.prototype._renderWebGL=function(a){var c=this._texture;c&&c.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),a.setObjectRenderer(a.plugins.tilingSprite),a.plugins.tilingSprite.render(this))};
b.prototype._renderCanvas=function(a){var c=this._texture;if(c.baseTexture.hasLoaded){var d=a.context,b=this.worldTransform,g=a.resolution,h=c.baseTexture,k=c.baseTexture.resolution,m=this.tilePosition.x/this.tileScale.x%c._frame.width,l=this.tilePosition.y/this.tileScale.y%c._frame.height;if(!this._canvasPattern){var v=new f.CanvasRenderTarget(c._frame.width,c._frame.height,k);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=e["default"].getTintedTexture(this,
this.tint)),v.context.drawImage(this.tintedTexture,0,0)):v.context.drawImage(h.source,-c._frame.x,-c._frame.y);this._canvasPattern=v.context.createPattern(v.canvas,"repeat")}d.globalAlpha=this.worldAlpha;d.setTransform(b.a*g,b.b*g,b.c*g,b.d*g,b.tx*g,b.ty*g);d.scale(this.tileScale.x/k,this.tileScale.y/k);d.translate(m+this.anchor.x*-this._width,l+this.anchor.y*-this._height);c=a.blendModes[this.blendMode];c!==a.context.globalCompositeOperation&&(d.globalCompositeOperation=c);d.fillStyle=this._canvasPattern;
d.fillRect(-m,-l,this._width/this.tileScale.x*k,this._height/this.tileScale.y*k)}};b.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))};b.prototype.getLocalBounds=function(a){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),
this._bounds.maxY=this._height*(1-this._anchor._x),a||(this._localBoundsRect||(this._localBoundsRect=new f.Rectangle),a=this._localBoundsRect),this._bounds.getRectangle(a)):c.prototype.getLocalBounds.call(this,a)};b.prototype.containsPoint=function(c){this.worldTransform.applyInverse(c,a);var d=this._width;c=this._height;var b=-d*this.anchor._x;return a.x>b&&a.x<b+d&&(d=-c*this.anchor._y,a.y>d&&a.y<d+c)?!0:!1};b.prototype.destroy=function(){c.prototype.destroy.call(this);this.uvTransform=this.tileTransform=
null};b.from=function(a,c,d){return new b(f.Texture.from(a),c,d)};b.fromFrame=function(a,c,d){var e=f.utils.TextureCache[a];if(!e)throw Error('The frameId "'+a+'" does not exist in the texture cache '+this);return new b(e,c,d)};b.fromImage=function(a,c,d,e,g){return new b(f.Texture.fromImage(a,e,g),c,d)};k(b,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(a){this.uvTransform.clampMargin=a;this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},
set:function(a){this.tileTransform.scale.copy(a)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(a){this.tileTransform.position.copy(a)}},{key:"width",get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}}]);return b}(f.Sprite);h["default"]=b},{"../core":62,"../core/sprites/canvas/CanvasTinter":100,"./TextureTransform":125}],127:[function(b,l,h){var g=function(b){if(b&&
b.__esModule)return b;var d={};if(null!=b)for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(d[a]=b[a]);d["default"]=b;return d}(b("../core"));b=g.DisplayObject;var k=new g.Matrix;b.prototype._cacheAsBitmap=!1;b.prototype._cacheData=!1;var f=function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.sprite=this.originalFilterArea=this.originalMask=this.originalDestroy=this.originalHitTest=this.originalUpdateTransform=this.originalGetLocalBounds=this.originalCalculateBounds=
this.originalRenderCanvas=this.originalRenderWebGL=null};Object.defineProperties(b.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(d){this._cacheAsBitmap!==d&&((this._cacheAsBitmap=d)?(this._cacheData||(this._cacheData=new f),d=this._cacheData,d.originalRenderWebGL=this.renderWebGL,d.originalRenderCanvas=this.renderCanvas,d.originalUpdateTransform=this.updateTransform,d.originalCalculateBounds=this._calculateBounds,d.originalGetLocalBounds=this.getLocalBounds,d.originalDestroy=
this.destroy,d.originalContainsPoint=this.containsPoint,d.originalMask=this._mask,d.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(d=this._cacheData,d.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=d.originalRenderWebGL,this.renderCanvas=d.originalRenderCanvas,this._calculateBounds=d.originalCalculateBounds,this.getLocalBounds=d.originalGetLocalBounds,this.destroy=d.originalDestroy,
this.updateTransform=d.originalUpdateTransform,this.containsPoint=d.originalContainsPoint,this._mask=d.originalMask,this.filterArea=d.originalFilterArea))}}});b.prototype._renderCachedWebGL=function(d){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObject(d),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(d))};b.prototype._initCachedDisplayObject=function(d){if(!this._cacheData||!this._cacheData.sprite){var a=
this.alpha;this.alpha=1;d.currentRenderer.flush();var c=this.getLocalBounds().clone();this._filters&&c.pad(this._filters[0].padding);var b=d._activeRenderTarget,f=d.filterManager.filterStack,h=g.RenderTexture.create(c.width|0,c.height|0);k.tx=-c.x;k.ty=-c.y;this.transform.worldTransform.identity();this.renderWebGL=this._cacheData.originalRenderWebGL;d.render(this,h,!0,k,!0);d.bindRenderTarget(b);d.filterManager.filterStack=f;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;
this.filterArea=this._mask=null;d=new g.Sprite(h);d.transform.worldTransform=this.transform.worldTransform;d.anchor.x=-(c.x/c.width);d.anchor.y=-(c.y/c.height);d.alpha=a;d._bounds=this._bounds;this._calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=d;this.transform._parentID=-1;this.updateTransform();this.containsPoint=d.containsPoint.bind(d)}};b.prototype._renderCachedCanvas=function(d){!this.visible||0>=this.worldAlpha||!this.renderable||
(this._initCachedDisplayObjectCanvas(d),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(d))};b.prototype._initCachedDisplayObjectCanvas=function(d){if(!this._cacheData||!this._cacheData.sprite){var a=this.getLocalBounds(),c=this.alpha;this.alpha=1;var b=d.context,f=g.RenderTexture.create(a.width|0,a.height|0);this.transform.worldTransform.copy(k);k.invert();k.tx-=a.x;k.ty-=a.y;this.renderCanvas=this._cacheData.originalRenderCanvas;d.render(this,f,!0,k,!1);d.context=
b;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this.filterArea=this._mask=null;d=new g.Sprite(f);d.transform.worldTransform=this.transform.worldTransform;d.anchor.x=-(a.x/a.width);d.anchor.y=-(a.y/a.height);d._bounds=this._bounds;d.alpha=c;this.updateTransform();this.updateTransform=this.displayObjectUpdateTransform;this._cacheData.sprite=d;this.containsPoint=d.containsPoint.bind(d)}};b.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()};
b.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()};b.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0);this._cacheData.sprite=null};b.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1;this.destroy()}},{"../core":62}],128:[function(b,l,h){b=function(b){if(b&&b.__esModule)return b;var h={};if(null!=b)for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&(h[f]=b[f]);h["default"]=b;return h}(b("../core"));
b.DisplayObject.prototype.name=null;b.Container.prototype.getChildByName=function(b){for(var h=0;h<this.children.length;h++)if(this.children[h].name===b)return this.children[h];return null}},{"../core":62}],129:[function(b,l,h){var g=function(b){if(b&&b.__esModule)return b;var f={};if(null!=b)for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f[e]=b[e]);f["default"]=b;return f}(b("../core"));g.DisplayObject.prototype.getGlobalPosition=function(){var b=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:new g.Point,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.parent?this.parent.toGlobal(this.position,b,f):(b.x=this.position.x,b.y=this.position.y);return b}},{"../core":62}],130:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}h.__esModule=!0;var k=b("./TextureTransform");Object.defineProperty(h,"TextureTransform",{enumerable:!0,get:function(){return g(k)["default"]}});var f=b("./MovieClip");Object.defineProperty(h,"MovieClip",{enumerable:!0,get:function(){return g(f)["default"]}});
var e=b("./TilingSprite");Object.defineProperty(h,"TilingSprite",{enumerable:!0,get:function(){return g(e)["default"]}});var d=b("./webgl/TilingSpriteRenderer");Object.defineProperty(h,"TilingSpriteRenderer",{enumerable:!0,get:function(){return g(d)["default"]}});var a=b("./BitmapText");Object.defineProperty(h,"BitmapText",{enumerable:!0,get:function(){return g(a)["default"]}});var c=b("./cacheAsBitmap");Object.defineProperty(h,"cacheAsBitmap",{enumerable:!0,get:function(){return g(c)["default"]}});
var m=b("./getChildByName");Object.defineProperty(h,"getChildByName",{enumerable:!0,get:function(){return g(m)["default"]}});var p=b("./getGlobalPosition");Object.defineProperty(h,"getGlobalPosition",{enumerable:!0,get:function(){return g(p)["default"]}})},{"./BitmapText":123,"./MovieClip":124,"./TextureTransform":125,"./TilingSprite":126,"./cacheAsBitmap":127,"./getChildByName":128,"./getGlobalPosition":129,"./webgl/TilingSpriteRenderer":131}],131:[function(b,l,h){function g(a,c){if("function"!==
typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;h.TilingSpriteRenderer=void 0;var k=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}(b("../../core")),
f=b("../../core/const"),e=new k.Matrix,d=new Float32Array(4);b=h.TilingSpriteRenderer=function(a){function c(d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");d=a.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.shader=null;d.simpleShader=null;d.quad=null;return d}g(c,a);c.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=new k.Shader(a,
"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n");
this.simpleShader=new k.Shader(a,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n");
this.quad=new k.Quad(a);this.quad.initVao(this.shader)};c.prototype.render=function(a){var c=this.quad,b=c.vertices;b[0]=b[6]=a._width*-a.anchor.x;b[1]=b[3]=a._height*-a.anchor.y;b[2]=b[4]=a._width*(1-a.anchor.x);b[5]=b[7]=a._height*(1-a.anchor.y);b=c.uvs;b[0]=b[6]=-a.anchor.x;b[1]=b[3]=-a.anchor.y;b[2]=b[4]=1-a.anchor.x;b[5]=b[7]=1-a.anchor.y;c.upload();var b=this.renderer,g=a._texture,h=g.baseTexture,l=a.tileTransform.localTransform,u=a.uvTransform,q=h.isPowerOfTwo&&g.frame.width===h.width&&g.frame.height===
h.height;q&&(h._glTextures[b.CONTEXT_UID]?q=h.wrapMode!==f.WRAP_MODES.CLAMP:h.wrapMode===f.WRAP_MODES.CLAMP&&(h.wrapMode=f.WRAP_MODES.REPEAT));h=q?this.simpleShader:this.shader;b.bindShader(h);var t=g.width,r=g.height,v=a._width,B=a._height;e.set(l.a*t/v,l.b*t/B,l.c*r/v,l.d*r/B,l.tx/v,l.ty/B);e.invert();q?e.append(u.mapCoord):(h.uniforms.uMapCoord=u.mapCoord.toArray(!0),h.uniforms.uClampFrame=u.uClampFrame,h.uniforms.uClampOffset=u.uClampOffset);h.uniforms.uTransform=e.toArray(!0);k.utils.hex2rgb(a.tint,
d);d[3]=a.worldAlpha;h.uniforms.uColor=d;h.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);b.bindTexture(g);b.setBlendMode(a.blendMode);c.draw()};return c}(k.ObjectRenderer);k.WebGLRenderer.registerPlugin("tilingSprite",b)},{"../../core":62,"../../core/const":43}],132:[function(b,l,h){function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;var k=function(){function a(a,d){for(var b=0;b<d.length;b++){var e=d[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(c,d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}();l=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=
a[d]);c["default"]=a;return c}(b("../../core"));var f=b("./BlurXFilter"),e=f&&f.__esModule?f:{"default":f},d=(b=b("./BlurYFilter"))&&b.__esModule?b:{"default":b};b=function(a){function c(b,f,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var h;h=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.blurXFilter=new e["default"];h.blurYFilter=new d["default"];
h.resolution=1;h.padding=0;h.resolution=g||1;h.quality=f||4;h.blur=b||8;return h}g(c,a);c.prototype.apply=function(a,c,d){var b=a.getRenderTarget(!0);this.blurXFilter.apply(a,c,b,!0);this.blurYFilter.apply(a,b,d,!1);a.returnRenderTarget(b)};k(c,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},
set:function(a){this.blurXFilter.quality=this.blurYFilter.quality=a}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}}]);return c}(l.Filter);h["default"]=b},
{"../../core":62,"./BlurXFilter":133,"./BlurYFilter":134}],133:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;var f=function(){function a(c,d){for(var b=
0;b<d.length;b++){var e=d[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}();l=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}(b("../../core"));var e=b("./generateBlurVertSource"),d=g(e),e=b("./generateBlurFragSource"),a=g(e);b=b("./getMaxBlurKernelSize");var c=g(b);
b=function(b){function e(c,f,g){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var h=(0,d["default"])(5,!0),k=(0,a["default"])(5),h=b.call(this,h,k);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.resolution=g||1;h._quality=0;h.quality=f||4;h.strength=c||8;h.firstRun=!0;return h}k(e,b);e.prototype.apply=function(b,e,f,g){if(this.firstRun){var h=b.renderer.gl,h=
(0,c["default"])(h);this.vertexSrc=(0,d["default"])(h,!0);this.fragmentSrc=(0,a["default"])(h);this.firstRun=!1}this.uniforms.strength=1/f.size.width*(f.size.width/e.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)b.applyFilter(this,e,f,g);else{for(var k=h=b.getRenderTarget(!0),m=0;m<this.passes-1;m++){b.applyFilter(this,e,k,!0);var l=k,k=e;e=l}b.applyFilter(this,e,f,g);b.returnRenderTarget(h)}};f(e,[{key:"blur",get:function(){return this.strength},
set:function(a){this.padding=2*Math.abs(a);this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this.passes=this._quality=a}}]);return e}(l.Filter);h["default"]=b},{"../../core":62,"./generateBlurFragSource":135,"./generateBlurVertSource":136,"./getMaxBlurKernelSize":137}],134:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}h.__esModule=!0;var f=function(){function a(c,d){for(var b=0;b<d.length;b++){var e=d[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}();l=function(a){if(a&&a.__esModule)return a;var c={};
if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}(b("../../core"));var e=b("./generateBlurVertSource"),d=g(e),e=b("./generateBlurFragSource"),a=g(e);b=b("./getMaxBlurKernelSize");var c=g(b);b=function(b){function e(c,f,g){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var h=(0,d["default"])(5,!1),k=(0,a["default"])(5),h=b.call(this,h,k);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.resolution=g||1;h._quality=0;h.quality=f||4;h.strength=c||8;h.firstRun=!0;return h}k(e,b);e.prototype.apply=function(b,e,f,g){if(this.firstRun){var h=b.renderer.gl,h=(0,c["default"])(h);this.vertexSrc=(0,d["default"])(h,!1);this.fragmentSrc=(0,a["default"])(h);this.firstRun=!1}this.uniforms.strength=1/f.size.height*(f.size.height/e.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)b.applyFilter(this,
e,f,g);else{for(var k=h=b.getRenderTarget(!0),l=0;l<this.passes-1;l++){b.applyFilter(this,e,k,!0);var m=k,k=e;e=m}b.applyFilter(this,e,f,g);b.returnRenderTarget(h)}};f(e,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=2*Math.abs(a);this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this.passes=this._quality=a}}]);return e}(l.Filter);h["default"]=b},{"../../core":62,"./generateBlurFragSource":135,"./generateBlurVertSource":136,"./getMaxBlurKernelSize":137}],
135:[function(b,l,h){h.__esModule=!0;h["default"]=function(b){for(var e=g[b],d=e.length,a=k,c="",h,l=0;l<b;l++){var n="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",l);h=l;l>=d&&(h=b-l-1);n=n.replace("%value%",e[h]);c+=n;c+="\n"}a=a.replace("%blur%",c);return a=a.replace("%size%",b)};var g={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,
.009255,.027867,.065666,.121117,.174868,.197641],15:[4.89E-4,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},k="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}"},{}],136:[function(b,l,h){h.__esModule=!0;h["default"]=function(b,f){var e=Math.ceil(b/2),d=g,a="",c;c=f?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";
for(var h=0;h<b;h++)var l=c.replace("%index%",h),l=l.replace("%sampleIndex%",h-(e-1)+".0"),a=a+l,a=a+"\n";d=d.replace("%blur%",a);return d=d.replace("%size%",b)};var g="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}"},{}],137:[function(b,l,h){h.__esModule=!0;h["default"]=function(b){b=
b.getParameter(b.MAX_VARYING_VECTORS);for(var h=15;h>b;)h-=2;return h}},{}],138:[function(b,l,h){function g(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}h.__esModule=!0;var k=function(){function b(e,d){for(var a=0;a<d.length;a++){var c=d[a];
c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(e,c.key,c)}}return function(e,d,a){d&&b(e.prototype,d);a&&b(e,a);return e}}();b=function(b){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var d;d=b.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4] * c.a;\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9] * c.a;\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14] * c.a;\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19] * c.a;\n\n//    gl_FragColor = vec4(m[0]);\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];return d}g(e,b);e.prototype._loadMatrix=function(d){var a=d;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(a,this.uniforms.m,d),a=this._colorMatrix(a));this.uniforms.m=a};e.prototype._multiply=function(d,a,c){d[0]=a[0]*c[0]+a[1]*c[5]+a[2]*c[10]+a[3]*c[15];d[1]=a[0]*c[1]+
a[1]*c[6]+a[2]*c[11]+a[3]*c[16];d[2]=a[0]*c[2]+a[1]*c[7]+a[2]*c[12]+a[3]*c[17];d[3]=a[0]*c[3]+a[1]*c[8]+a[2]*c[13]+a[3]*c[18];d[4]=a[0]*c[4]+a[1]*c[9]+a[2]*c[14]+a[3]*c[19];d[5]=a[5]*c[0]+a[6]*c[5]+a[7]*c[10]+a[8]*c[15];d[6]=a[5]*c[1]+a[6]*c[6]+a[7]*c[11]+a[8]*c[16];d[7]=a[5]*c[2]+a[6]*c[7]+a[7]*c[12]+a[8]*c[17];d[8]=a[5]*c[3]+a[6]*c[8]+a[7]*c[13]+a[8]*c[18];d[9]=a[5]*c[4]+a[6]*c[9]+a[7]*c[14]+a[8]*c[19];d[10]=a[10]*c[0]+a[11]*c[5]+a[12]*c[10]+a[13]*c[15];d[11]=a[10]*c[1]+a[11]*c[6]+a[12]*c[11]+a[13]*
c[16];d[12]=a[10]*c[2]+a[11]*c[7]+a[12]*c[12]+a[13]*c[17];d[13]=a[10]*c[3]+a[11]*c[8]+a[12]*c[13]+a[13]*c[18];d[14]=a[10]*c[4]+a[11]*c[9]+a[12]*c[14]+a[13]*c[19];d[15]=a[15]*c[0]+a[16]*c[5]+a[17]*c[10]+a[18]*c[15];d[16]=a[15]*c[1]+a[16]*c[6]+a[17]*c[11]+a[18]*c[16];d[17]=a[15]*c[2]+a[16]*c[7]+a[17]*c[12]+a[18]*c[17];d[18]=a[15]*c[3]+a[16]*c[8]+a[17]*c[13]+a[18]*c[18];d[19]=a[15]*c[4]+a[16]*c[9]+a[17]*c[14]+a[18]*c[19];return d};e.prototype._colorMatrix=function(d){d=new Float32Array(d);d[4]/=255;
d[9]/=255;d[14]/=255;d[19]/=255;return d};e.prototype.brightness=function(d,a){this._loadMatrix([d,0,0,0,0,0,d,0,0,0,0,0,d,0,0,0,0,0,1,0],a)};e.prototype.greyscale=function(d,a){this._loadMatrix([d,d,d,0,0,d,d,d,0,0,d,d,d,0,0,0,0,0,1,0],a)};e.prototype.blackAndWhite=function(d){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],d)};e.prototype.hue=function(d,a){d=(d||0)/180*Math.PI;var c=Math.cos(d),b=Math.sin(d),e=Math.sqrt,f=1/3,e=e(f);this._loadMatrix([c+(1-c)*f,f*(1-c)-e*b,f*
(1-c)+e*b,0,0,f*(1-c)+e*b,c+f*(1-c),f*(1-c)-e*b,0,0,f*(1-c)-e*b,f*(1-c)+e*b,c+f*(1-c),0,0,0,0,0,1,0],a)};e.prototype.contrast=function(b,a){var c=(b||0)+1,e=-128*(c-1);this._loadMatrix([c,0,0,0,e,0,c,0,0,e,0,0,c,0,e,0,0,0,1,0],a)};e.prototype.saturate=function(){var b=2*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)/3+1,a=-.5*(b-1);this._loadMatrix([b,a,a,0,0,a,b,a,0,0,a,a,b,0,0,0,0,0,1,0],arguments[1])};e.prototype.desaturate=function(){this.saturate(-1)};e.prototype.negative=function(b){this._loadMatrix([0,
1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],b)};e.prototype.sepia=function(b){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],b)};e.prototype.technicolor=function(b){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],b)};e.prototype.polaroid=
function(b){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],b)};e.prototype.toBGR=function(b){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],b)};e.prototype.kodachrome=function(b){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,
0],b)};e.prototype.browni=function(b){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],b)};e.prototype.vintage=function(b){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,
.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],b)};e.prototype.colorTone=function(b,a,c,e,f){c=c||16770432;e=e||3375104;var h=(c>>16&255)/255,g=(c>>8&255)/255;c=(c&255)/255;var k=(e>>16&255)/255,l=(e>>8&255)/255;e=(e&255)/255;this._loadMatrix([.3,.59,.11,0,0,h,g,c,b||.2,0,k,l,e,a||.15,0,h-k,g-l,c-e,0,0],f)};e.prototype.night=function(b,a){b=b||.1;this._loadMatrix([-2*b,-b,0,0,0,-b,0,b,0,0,0,b,2*b,0,0,0,0,0,1,0],a)};e.prototype.predator=function(b,a){this._loadMatrix([11.224130630493164*
b,-4.794486999511719*b,-2.8746118545532227*b,0*b,.40342438220977783*b,-3.6330697536468506*b,9.193157196044922*b,-2.951810836791992*b,0*b,-1.316135048866272*b,-3.2184197902679443*b,-4.2375030517578125*b,7.476448059082031*b,0*b,.8044459223747253*b,0,0,0,1,0],a)};e.prototype.lsd=function(b){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],b)};e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)};k(e,[{key:"matrix",get:function(){return this.uniforms.m},
set:function(b){this.uniforms.m=b}}]);return e}(function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d]);e["default"]=b;return e}(b("../../core")).Filter);h["default"]=b;b.prototype.grayscale=b.prototype.greyscale},{"../../core":62}],139:[function(b,l,h){function g(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,
{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}h.__esModule=!0;var k=function(){function b(d,a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(d,e.key,e)}}return function(d,a,c){a&&b(d.prototype,a);c&&b(d,c);return d}}(),f=function(b){if(b&&b.__esModule)return b;var d={};if(null!=b)for(var a in b)Object.prototype.hasOwnProperty.call(b,
a)&&(d[a]=b[a]);d["default"]=b;return d}(b("../../core"));b=function(b){function d(a,c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var h=new f.Matrix;a.renderable=!1;var g;g=b.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}",
"#define GLSLIFY 1\nvarying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.maskSprite=a;g.maskMatrix=h;g.uniforms.mapSampler=a.texture;g.uniforms.filterMatrix=h.toArray(!0);g.uniforms.scale={x:1,y:1};if(null===c||void 0===c)c=20;g.scale=new f.Point(c,c);return g}g(d,b);d.prototype.apply=function(a,b,d){var e=1/d.destinationFrame.width*(d.size.width/b.size.width);this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x*e;this.uniforms.scale.y=this.scale.y*
e;a.applyFilter(this,b,d)};k(d,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(a){this.uniforms.mapSampler=a}}]);return d}(f.Filter);h["default"]=b},{"../../core":62}],140:[function(b,l,h){function g(b,f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,
f):b.__proto__=f)}h.__esModule=!0;b=function(b){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var e=b.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",
'#define GLSLIFY 1\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n');
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?this:e}g(f,b);return f}(function(b){if(b&&b.__esModule)return b;var f={};if(null!=b)for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f[e]=b[e]);f["default"]=b;return f}(b("../../core")).Filter);h["default"]=b},{"../../core":62}],141:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}h.__esModule=!0;var k=b("./fxaa/FXAAFilter");
Object.defineProperty(h,"FXAAFilter",{enumerable:!0,get:function(){return g(k)["default"]}});var f=b("./noise/NoiseFilter");Object.defineProperty(h,"NoiseFilter",{enumerable:!0,get:function(){return g(f)["default"]}});var e=b("./displacement/DisplacementFilter");Object.defineProperty(h,"DisplacementFilter",{enumerable:!0,get:function(){return g(e)["default"]}});var d=b("./blur/BlurFilter");Object.defineProperty(h,"BlurFilter",{enumerable:!0,get:function(){return g(d)["default"]}});var a=b("./blur/BlurXFilter");
Object.defineProperty(h,"BlurXFilter",{enumerable:!0,get:function(){return g(a)["default"]}});var c=b("./blur/BlurYFilter");Object.defineProperty(h,"BlurYFilter",{enumerable:!0,get:function(){return g(c)["default"]}});var m=b("./colormatrix/ColorMatrixFilter");Object.defineProperty(h,"ColorMatrixFilter",{enumerable:!0,get:function(){return g(m)["default"]}});var p=b("./void/VoidFilter");Object.defineProperty(h,"VoidFilter",{enumerable:!0,get:function(){return g(p)["default"]}})},{"./blur/BlurFilter":132,
"./blur/BlurXFilter":133,"./blur/BlurYFilter":134,"./colormatrix/ColorMatrixFilter":138,"./displacement/DisplacementFilter":139,"./fxaa/FXAAFilter":140,"./noise/NoiseFilter":142,"./void/VoidFilter":143}],142:[function(b,l,h){function g(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,
e):b.__proto__=e)}h.__esModule=!0;var k=function(){function b(e,d){for(var a=0;a<d.length;a++){var c=d[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(e,c.key,c)}}return function(e,d,a){d&&b(e.prototype,d);a&&b(e,a);return e}}();b=function(b){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var d;d=b.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"precision highp float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(gl_FragCoord.xy) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.noise=.5;return d}g(e,b);k(e,[{key:"noise",get:function(){return this.uniforms.noise},set:function(b){this.uniforms.noise=b}}]);return e}(function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d]);e["default"]=b;return e}(b("../../core")).Filter);h["default"]=b},{"../../core":62}],143:[function(b,l,h){function g(b,f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+
typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}h.__esModule=!0;b=function(b){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var e;e=b.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.glShaderKey="void";return e}g(f,b);return f}(function(b){if(b&&b.__esModule)return b;var f={};if(null!=b)for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f[e]=b[e]);f["default"]=
b;return f}(b("../../core")).Filter);h["default"]=b},{"../../core":62}],144:[function(b,l,h){h.__esModule=!0;var g=function(b){if(b&&b.__esModule)return b;var f={};if(null!=b)for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f[e]=b[e]);f["default"]=b;return f}(b("../core"));b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.global=new g.Point;this.originalEvent=this.target=null}b.prototype.getLocalPosition=function(b,e,d){return b.worldTransform.applyInverse(d||
this.global,e)};return b}();h["default"]=b},{"../core":62}],145:[function(b,l,h){h.__esModule=!0;b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.stopped=!1;this.data=this.type=this.currentTarget=this.target=null}b.prototype.stopPropagation=function(){this.stopped=!0};b.prototype._reset=function(){this.stopped=!1;this.target=this.currentTarget=null};return b}();h["default"]=b},{}],146:[function(b,l,h){function g(a){return a&&a.__esModule?
a:{"default":a}}function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(b("../core"));
l=b("./InteractionData");var e=g(l);l=b("./InteractionEvent");var d=g(l);l=b("eventemitter3");l=g(l);var a=b("./interactiveTarget"),a=g(a);b=b("ismobilejs");var c=g(b);Object.assign(f.DisplayObject.prototype,a["default"]);b=function(a){function b(h,g){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var k;k=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");k=!k||"object"!==typeof k&&"function"!==typeof k?this:
k;g=g||{};k.renderer=h;k.autoPreventDefault=void 0!==g.autoPreventDefault?g.autoPreventDefault:!0;k.interactionFrequency=g.interactionFrequency||10;k.mouse=new e["default"];k.mouse.global.set(-999999);k.pointer=new e["default"];k.pointer.global.set(-999999);k.eventData=new d["default"];k.interactiveDataPool=[];k.interactionDOMElement=null;k.moveWhenInside=!1;k.eventsAdded=!1;k.mouseOverRenderer=!1;k.supportsTouchEvents="ontouchstart"in window;k.supportsPointerEvents=!!window.PointerEvent;k.normalizeTouchEvents=
!k.supportsPointerEvents&&k.supportsTouchEvents;k.normalizeMouseEvents=!k.supportsPointerEvents&&!c["default"].any;k.onMouseUp=k.onMouseUp.bind(k);k.processMouseUp=k.processMouseUp.bind(k);k.onMouseDown=k.onMouseDown.bind(k);k.processMouseDown=k.processMouseDown.bind(k);k.onMouseMove=k.onMouseMove.bind(k);k.processMouseMove=k.processMouseMove.bind(k);k.onMouseOut=k.onMouseOut.bind(k);k.processMouseOverOut=k.processMouseOverOut.bind(k);k.onMouseOver=k.onMouseOver.bind(k);k.onPointerUp=k.onPointerUp.bind(k);
k.processPointerUp=k.processPointerUp.bind(k);k.onPointerDown=k.onPointerDown.bind(k);k.processPointerDown=k.processPointerDown.bind(k);k.onPointerMove=k.onPointerMove.bind(k);k.processPointerMove=k.processPointerMove.bind(k);k.onPointerOut=k.onPointerOut.bind(k);k.processPointerOverOut=k.processPointerOverOut.bind(k);k.onPointerOver=k.onPointerOver.bind(k);k.onTouchStart=k.onTouchStart.bind(k);k.processTouchStart=k.processTouchStart.bind(k);k.onTouchEnd=k.onTouchEnd.bind(k);k.processTouchEnd=k.processTouchEnd.bind(k);
k.onTouchMove=k.onTouchMove.bind(k);k.processTouchMove=k.processTouchMove.bind(k);k.defaultCursorStyle="inherit";k.currentCursorStyle="inherit";k._tempPoint=new f.Point;k.resolution=1;k.setTargetElement(k.renderer.view,k.renderer.resolution);return k}k(b,a);b.prototype.setTargetElement=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents();this.interactionDOMElement=a;this.resolution=b;this.addEvents()};b.prototype.addEvents=function(){this.interactionDOMElement&&
(f.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),
this.interactionDOMElement.addEventListener("mouseover",this.onMouseOver,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0)),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",
this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(this.normalizeTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,
!0)),this.normalizeMouseEvents&&(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0))),this.eventsAdded=!0)};b.prototype.removeEvents=function(){this.interactionDOMElement&&(f.ticker.shared.remove(this.update,
this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("mouseover",
this.onMouseOver,!0),window.removeEventListener("mouseup",this.onMouseUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0)),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",
this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(this.normalizeTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,
!0)),this.normalizeMouseEvents&&(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0))),this.interactionDOMElement=null,this.eventsAdded=!1)};b.prototype.update=function(a){this._deltaTime+=
a;this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.interactionDOMElement&&(this.didMove?this.didMove=!1:(this.cursor=this.defaultCursorStyle,this.eventData._reset(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor))))};b.prototype.dispatchEvent=function(a,b,c){if(!c.stopped&&(c.currentTarget=a,c.type=
b,a.emit(b,c),a[b]))a[b](c)};b.prototype.mapPositionToPoint=function(a,b,c){var d;d=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};a.x=this.interactionDOMElement.width/d.width*(b-d.left)/this.resolution;a.y=this.interactionDOMElement.height/d.height*(c-d.top)/this.resolution};b.prototype.processInteractive=function(a,b,c,d,e){if(!b||!b.visible)return!1;e=b.interactive||e;var f=!1,h=e;b.hitArea&&(h=!1);d&&b._mask&&(b._mask.containsPoint(a)||
(d=!1));d&&b.filterArea&&(b.filterArea.contains(a.x,a.y)||(d=!1));if(b.interactiveChildren&&b.children)for(var g=b.children,k=g.length-1;0<=k;k--){var l=g[k];this.processInteractive(a,l,c,d,h)&&l.parent&&(f=!0,d=h=!1)}e&&(d&&!f&&(b.hitArea?(b.worldTransform.applyInverse(a,this._tempPoint),f=b.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):b.containsPoint&&(f=b.containsPoint(a))),b.interactive&&(f&&!this.eventData.target&&(this.eventData.target=b,this.mouse.target=b,this.pointer.target=b),
c(b,f)));return f};b.prototype.onMouseDown=function(a){this.mouse.originalEvent=a;this.eventData.data=this.mouse;this.eventData._reset();this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY);this.autoPreventDefault&&this.mouse.originalEvent.preventDefault();this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0);this.emit(2===a.button||3===a.which?"rightdown":"mousedown",this.eventData)};b.prototype.processMouseDown=function(a,b){var c=this.mouse.originalEvent,
c=2===c.button||3===c.which;b&&(a[c?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(a,c?"rightdown":"mousedown",this.eventData))};b.prototype.onMouseUp=function(a){this.mouse.originalEvent=a;this.eventData.data=this.mouse;this.eventData._reset();this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY);this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0);this.emit(2===a.button||3===a.which?"rightup":"mouseup",this.eventData)};b.prototype.processMouseUp=
function(a,b){var c=this.mouse.originalEvent,d=(c=2===c.button||3===c.which)?"_isRightDown":"_isLeftDown";b?(this.dispatchEvent(a,c?"rightup":"mouseup",this.eventData),a[d]&&(a[d]=!1,this.dispatchEvent(a,c?"rightclick":"click",this.eventData))):a[d]&&(a[d]=!1,this.dispatchEvent(a,c?"rightupoutside":"mouseupoutside",this.eventData))};b.prototype.onMouseMove=function(a){this.mouse.originalEvent=a;this.eventData.data=this.mouse;this.eventData._reset();this.mapPositionToPoint(this.mouse.global,a.clientX,
a.clientY);this.didMove=!0;this.cursor=this.defaultCursorStyle;this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0);this.emit("mousemove",this.eventData);this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)};b.prototype.processMouseMove=function(a,b){this.processMouseOverOut(a,b);this.moveWhenInside&&!b||this.dispatchEvent(a,"mousemove",this.eventData)};b.prototype.onMouseOut=
function(a){this.mouseOverRenderer=!1;this.mouse.originalEvent=a;this.eventData.data=this.mouse;this.eventData._reset();this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY);this.interactionDOMElement.style.cursor=this.defaultCursorStyle;this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY);this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1);this.emit("mouseout",this.eventData)};b.prototype.processMouseOverOut=function(a,b){b&&
this.mouseOverRenderer?(a._mouseOver||(a._mouseOver=!0,this.dispatchEvent(a,"mouseover",this.eventData)),a.buttonMode&&(this.cursor=a.defaultCursor)):a._mouseOver&&(a._mouseOver=!1,this.dispatchEvent(a,"mouseout",this.eventData))};b.prototype.onMouseOver=function(a){this.mouseOverRenderer=!0;this.mouse.originalEvent=a;this.eventData.data=this.mouse;this.eventData._reset();this.emit("mouseover",this.eventData)};b.prototype.onPointerDown=function(a){this.normalizeToPointerData(a);this.pointer.originalEvent=
a;this.eventData.data=this.pointer;this.eventData._reset();this.mapPositionToPoint(this.pointer.global,a.clientX,a.clientY);this.autoPreventDefault&&this.pointer.originalEvent.preventDefault();this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerDown,!0);this.emit("pointerdown",this.eventData)};b.prototype.processPointerDown=function(a,b){b&&(a._pointerDown=!0,this.dispatchEvent(a,"pointerdown",this.eventData))};b.prototype.onPointerUp=function(a){this.normalizeToPointerData(a);
this.pointer.originalEvent=a;this.eventData.data=this.pointer;this.eventData._reset();this.mapPositionToPoint(this.pointer.global,a.clientX,a.clientY);this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerUp,!0);this.emit("pointerup",this.eventData)};b.prototype.processPointerUp=function(a,b){b?(this.dispatchEvent(a,"pointerup",this.eventData),a._pointerDown&&(a._pointerDown=!1,this.dispatchEvent(a,"pointertap",this.eventData))):a._pointerDown&&(a._pointerDown=
!1,this.dispatchEvent(a,"pointerupoutside",this.eventData))};b.prototype.onPointerMove=function(a){this.normalizeToPointerData(a);this.pointer.originalEvent=a;this.eventData.data=this.pointer;this.eventData._reset();this.mapPositionToPoint(this.pointer.global,a.clientX,a.clientY);this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerMove,!0);this.emit("pointermove",this.eventData)};b.prototype.processPointerMove=function(a,b){this.pointer.originalEvent.changedTouches||
this.processPointerOverOut(a,b);this.moveWhenInside&&!b||this.dispatchEvent(a,"pointermove",this.eventData)};b.prototype.onPointerOut=function(a){this.normalizeToPointerData(a);this.pointer.originalEvent=a;this.eventData.data=this.pointer;this.eventData._reset();this.mapPositionToPoint(this.pointer.global,a.clientX,a.clientY);this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerOverOut,!1);this.emit("pointerout",this.eventData)};b.prototype.processPointerOverOut=
function(a,b){b&&this.mouseOverRenderer?a._pointerOver||(a._pointerOver=!0,this.dispatchEvent(a,"pointerover",this.eventData)):a._pointerOver&&(a._pointerOver=!1,this.dispatchEvent(a,"pointerout",this.eventData))};b.prototype.onPointerOver=function(a){this.pointer.originalEvent=a;this.eventData.data=this.pointer;this.eventData._reset();this.emit("pointerover",this.eventData)};b.prototype.onTouchStart=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;d<
c;d++){var e=this.getTouchData(b[d]);e.originalEvent=a;this.eventData.data=e;this.eventData._reset();this.processInteractive(e.global,this.renderer._lastObjectRendered,this.processTouchStart,!0);this.emit("touchstart",this.eventData);this.returnTouchData(e)}};b.prototype.processTouchStart=function(a,b){b&&(a._touchDown=!0,this.dispatchEvent(a,"touchstart",this.eventData))};b.prototype.onTouchEnd=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;d<c;d++){var e=
this.getTouchData(b[d]);e.originalEvent=a;this.eventData.data=e;this.eventData._reset();this.processInteractive(e.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0);this.emit("touchend",this.eventData);this.returnTouchData(e)}};b.prototype.processTouchEnd=function(a,b){b?(this.dispatchEvent(a,"touchend",this.eventData),a._touchDown&&(a._touchDown=!1,this.dispatchEvent(a,"tap",this.eventData))):a._touchDown&&(a._touchDown=!1,this.dispatchEvent(a,"touchendoutside",this.eventData))};b.prototype.onTouchMove=
function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;d<c;d++){var e=this.getTouchData(b[d]);e.originalEvent=a;this.eventData.data=e;this.eventData._reset();this.processInteractive(e.global,this.renderer._lastObjectRendered,this.processTouchMove,this.moveWhenInside);this.emit("touchmove",this.eventData);this.returnTouchData(e)}};b.prototype.processTouchMove=function(a,b){this.moveWhenInside&&!b||this.dispatchEvent(a,"touchmove",this.eventData)};b.prototype.getTouchData=
function(a){var b=this.interactiveDataPool.pop()||new e["default"];b.identifier=a.identifier;this.mapPositionToPoint(b.global,a.clientX,a.clientY);navigator.isCocoonJS&&(b.global.x/=this.resolution,b.global.y/=this.resolution);a.globalX=b.global.x;a.globalY=b.global.y;return b};b.prototype.returnTouchData=function(a){this.interactiveDataPool.push(a)};b.prototype.normalizeToPointerData=function(a){this.normalizeTouchEvents&&a.changedTouches?("undefined"===typeof a.button&&(a.button=a.touches.length?
1:0),"undefined"===typeof a.buttons&&(a.buttons=a.touches.length?1:0),"undefined"===typeof a.isPrimary&&(a.isPrimary=1===a.touches.length),"undefined"===typeof a.width&&(a.width=a.changedTouches[0].radiusX||1),"undefined"===typeof a.height&&(a.height=a.changedTouches[0].radiusY||1),"undefined"===typeof a.tiltX&&(a.tiltX=0),"undefined"===typeof a.tiltY&&(a.tiltY=0),"undefined"===typeof a.pointerType&&(a.pointerType="touch"),"undefined"===typeof a.pointerId&&(a.pointerId=a.changedTouches[0].identifier||
0),"undefined"===typeof a.pressure&&(a.pressure=a.changedTouches[0].force||.5),"undefined"===typeof a.rotation&&(a.rotation=a.changedTouches[0].rotationAngle||0),"undefined"===typeof a.clientX&&(a.clientX=a.changedTouches[0].clientX),"undefined"===typeof a.clientY&&(a.clientY=a.changedTouches[0].clientY),"undefined"===typeof a.pageX&&(a.pageX=a.changedTouches[0].pageX),"undefined"===typeof a.pageY&&(a.pageY=a.changedTouches[0].pageY),"undefined"===typeof a.screenX&&(a.screenX=a.changedTouches[0].screenX),
"undefined"===typeof a.screenY&&(a.screenY=a.changedTouches[0].screenY),"undefined"===typeof a.layerX&&(a.layerX=a.offsetX=a.clientX),"undefined"===typeof a.layerY&&(a.layerY=a.offsetY=a.clientY)):this.normalizeMouseEvents&&("undefined"===typeof a.isPrimary&&(a.isPrimary=!0),"undefined"===typeof a.width&&(a.width=1),"undefined"===typeof a.height&&(a.height=1),"undefined"===typeof a.tiltX&&(a.tiltX=0),"undefined"===typeof a.tiltY&&(a.tiltY=0),"undefined"===typeof a.pointerType&&(a.pointerType="mouse"),
"undefined"===typeof a.pointerId&&(a.pointerId=1),"undefined"===typeof a.pressure&&(a.pressure=.5),"undefined"===typeof a.rotation&&(a.rotation=0))};b.prototype.destroy=function(){this.removeEvents();this.removeAllListeners();this._tempPoint=this.processTouchMove=this.onTouchMove=this.processTouchEnd=this.onTouchEnd=this.processTouchStart=this.onTouchStart=this.onPointerOver=this.processPointerOverOut=this.onPointerOut=this.processPointerMove=this.onPointerMove=this.processPointerUp=this.onPointerUp=
this.processPointerDown=this.onPointerDown=this.onMouseOver=this.processMouseOverOut=this.onMouseOut=this.processMouseMove=this.onMouseMove=this.processMouseUp=this.onMouseUp=this.processMouseDown=this.onMouseDown=this.interactionDOMElement=this.interactiveDataPool=this.eventData=this.mouse=this.renderer=null};return b}(l["default"]);h["default"]=b;f.WebGLRenderer.registerPlugin("interaction",b);f.CanvasRenderer.registerPlugin("interaction",b)},{"../core":62,"./InteractionData":144,"./InteractionEvent":145,
"./interactiveTarget":148,eventemitter3:3,ismobilejs:4}],147:[function(b,l,h){function g(b){return b&&b.__esModule?b:{"default":b}}h.__esModule=!0;var k=b("./InteractionData");Object.defineProperty(h,"InteractionData",{enumerable:!0,get:function(){return g(k)["default"]}});var f=b("./InteractionManager");Object.defineProperty(h,"InteractionManager",{enumerable:!0,get:function(){return g(f)["default"]}});var e=b("./interactiveTarget");Object.defineProperty(h,"interactiveTarget",{enumerable:!0,get:function(){return g(e)["default"]}})},
{"./InteractionData":144,"./InteractionManager":146,"./interactiveTarget":148}],148:[function(b,l,h){h.__esModule=!0;h["default"]={interactive:!1,interactiveChildren:!0,hitArea:null,buttonMode:!1,defaultCursor:"pointer",_over:!1,_isLeftDown:!1,_isRightDown:!1,_pointerOver:!1,_pointerDown:!1,_touchDown:!1}},{}],149:[function(b,l,h){function g(a,b){var e={},h=a.data.getElementsByTagName("info")[0],g=a.data.getElementsByTagName("common")[0];e.font=h.getAttribute("face");e.size=parseInt(h.getAttribute("size"),
10);e.lineHeight=parseInt(g.getAttribute("lineHeight"),10);e.chars={};h=a.data.getElementsByTagName("char");for(g=0;g<h.length;g++){var k=parseInt(h[g].getAttribute("id"),10),l=new f.Rectangle(parseInt(h[g].getAttribute("x"),10)+b.frame.x,parseInt(h[g].getAttribute("y"),10)+b.frame.y,parseInt(h[g].getAttribute("width"),10),parseInt(h[g].getAttribute("height"),10));e.chars[k]={xOffset:parseInt(h[g].getAttribute("xoffset"),10),yOffset:parseInt(h[g].getAttribute("yoffset"),10),xAdvance:parseInt(h[g].getAttribute("xadvance"),
10),kerning:{},texture:new f.Texture(b.baseTexture,l)}}h=a.data.getElementsByTagName("kerning");for(g=0;g<h.length;g++){var k=parseInt(h[g].getAttribute("first"),10),l=parseInt(h[g].getAttribute("second"),10),w=parseInt(h[g].getAttribute("amount"),10);e.chars[l]&&(e.chars[l].kerning[k]=w)}a.bitmapFont=e;d.BitmapText.fonts[e.font]=e}h.__esModule=!0;h.parse=g;h["default"]=function(){return function(a,b){if(a.data&&a.isXml)if(0===a.data.getElementsByTagName("page").length||0===a.data.getElementsByTagName("info").length||
null===a.data.getElementsByTagName("info")[0].getAttribute("face"))b();else{var d=a.isDataUrl?"":k.dirname(a.url);a.isDataUrl&&("."===d&&(d=""),this.baseUrl&&d&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(d+="/"),d=d.replace(this.baseUrl,"")));d&&"/"!==d.charAt(d.length-1)&&(d+="/");d+=a.data.getElementsByTagName("page")[0].getAttribute("file");f.utils.TextureCache[d]?(g(a,f.utils.TextureCache[d]),b()):this.add(a.name+"_image",d,{crossOrigin:a.crossOrigin,loadType:e.Resource.LOAD_TYPE.IMAGE,
metadata:a.metadata.imageMetadata},function(d){g(a,d.texture);b()})}else b()}};var k=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b["default"]=a;return b}(b("path")),f=b("../core"),e=b("resource-loader"),d=b("../extras")},{"../core":62,"../extras":130,path:22,"resource-loader":36}],150:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}h.__esModule=!0;var k=b("./loader");Object.defineProperty(h,
"Loader",{enumerable:!0,get:function(){return g(k)["default"]}});var f=b("./bitmapFontParser");Object.defineProperty(h,"bitmapFontParser",{enumerable:!0,get:function(){return g(f)["default"]}});Object.defineProperty(h,"parseBitmapFontData",{enumerable:!0,get:function(){return f.parse}});var e=b("./spritesheetParser");Object.defineProperty(h,"spritesheetParser",{enumerable:!0,get:function(){return g(e)["default"]}});var d=b("./textureParser");Object.defineProperty(h,"textureParser",{enumerable:!0,
get:function(){return g(d)["default"]}});var a=b("resource-loader");Object.defineProperty(h,"Resource",{enumerable:!0,get:function(){return a.Resource}})},{"./bitmapFontParser":149,"./loader":151,"./spritesheetParser":152,"./textureParser":153,"resource-loader":36}],151:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&
b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;l=b("resource-loader");l=g(l);var f=b("./textureParser"),f=g(f),e=b("./spritesheetParser"),e=g(e);b=b("./bitmapFontParser");b=g(b);var d=function(a){function b(d,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var f;f=a.call(this,d,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;for(var h=0;h<b._pixiMiddleware.length;++h)f.use(b._pixiMiddleware[h]());return f}k(b,a);b.addPixiMiddleware=function(a){b._pixiMiddleware.push(a)};return b}(l["default"]);h["default"]=d;d._pixiMiddleware=[l["default"].middleware.parsing.blob,f["default"],e["default"],b["default"]];h=l["default"].Resource;h.setExtensionXhrType("fnt",h.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":149,"./spritesheetParser":152,"./textureParser":153,"resource-loader":36}],
152:[function(b,l,h){h.__esModule=!0;h["default"]=function(){return function(b,a){var c=void 0,h=b.name+"_image";if(b.data&&b.isJson&&b.data.frames&&!this.resources[h]){var l={crossOrigin:b.crossOrigin,loadType:g.Resource.LOAD_TYPE.IMAGE,metadata:b.metadata.imageMetadata},c=b.isDataUrl?b.data.meta.image:k["default"].dirname(b.url.replace(this.baseUrl,""))+"/"+b.data.meta.image;this.add(h,c,l,function(c){function h(a,e){for(var g=a;g-a<e&&g<m.length;){var k=m[g],y=l[k].frame;if(y){var w=null,z=new f.Rectangle(0,
0,l[k].sourceSize.w/p,l[k].sourceSize.h/p),y=l[k].rotated?new f.Rectangle(y.x/p,y.y/p,y.h/p,y.w/p):new f.Rectangle(y.x/p,y.y/p,y.w/p,y.h/p);l[k].trimmed&&(w=new f.Rectangle(l[k].spriteSourceSize.x/p,l[k].spriteSourceSize.y/p,l[k].spriteSourceSize.w/p,l[k].spriteSourceSize.h/p));b.textures[k]=new f.Texture(c.texture.baseTexture,y,z,w,l[k].rotated?2:0);f.utils.TextureCache[k]=b.textures[k]}g++}}function g(a){h(r*e,e);r++;setTimeout(a,0)}function k(){g(function(){r*e<m.length?k():a()})}b.textures={};
var l=b.data.frames,m=Object.keys(l),p=f.utils.getResolutionOfUrl(b.url),r=0;m.length<=e?(h(0,e),a()):k()})}else a()}};var g=b("resource-loader"),k=(l=b("path"))&&l.__esModule?l:{"default":l},f=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(b("../core")),e=1E3},{"../core":62,path:22,"resource-loader":36}],153:[function(b,l,h){h.__esModule=!0;h["default"]=function(){return function(b,f){if(b.data&&
b.isImage){var e=new g.BaseTexture(b.data,null,g.utils.getResolutionOfUrl(b.url));e.imageUrl=b.url;b.texture=new g.Texture(e);g.utils.BaseTextureCache[b.name]=e;g.utils.TextureCache[b.name]=b.texture;b.name!==b.url&&(g.utils.BaseTextureCache[b.url]=e,g.utils.TextureCache[b.url]=b.texture)}f()}};var g=function(b){if(b&&b.__esModule)return b;var f={};if(null!=b)for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f[e]=b[e]);f["default"]=b;return f}(b("../core"))},{"../core":62}],154:[function(b,
l,h){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}h.__esModule=!0;var k=function(){function a(a,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,
e.key,e)}}return function(b,d,e){d&&a(b.prototype,d);e&&a(b,e);return b}}(),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b["default"]=a;return b}(b("../core")),e=new f.Point,d=new f.Polygon;b=function(a){function b(d,e,h,g,k){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var l;l=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
l=!l||"object"!==typeof l&&"function"!==typeof l?this:l;l._texture=null;l.uvs=h||new Float32Array([0,0,1,0,1,1,0,1]);l.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]);l.indices=g||new Uint16Array([0,1,3,2]);l.dirty=0;l.indexDirty=0;l.blendMode=f.BLEND_MODES.NORMAL;l.canvasPadding=0;l.drawMode=k||b.DRAW_MODES.TRIANGLE_MESH;l.texture=d;l.shader=null;l.tintRgb=new Float32Array([1,1,1]);l._glDatas={};return l}g(b,a);b.prototype._renderWebGL=function(a){a.setObjectRenderer(a.plugins.mesh);a.plugins.mesh.render(this)};
b.prototype._renderCanvas=function(a){a.plugins.mesh.render(this)};b.prototype._onTextureUpdate=function(){};b.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)};b.prototype.containsPoint=function(a){if(!this.getBounds().contains(a.x,a.y))return!1;this.worldTransform.applyInverse(a,e);a=this.vertices;for(var f=d.points,h=this.indices,g=this.indices.length,k=this.drawMode===b.DRAW_MODES.TRIANGLES?3:1,l=0;l+2<g;l+=k){var u=2*h[l],q=2*
h[l+1],t=2*h[l+2];f[0]=a[u];f[1]=a[u+1];f[2]=a[q];f[3]=a[q+1];f[4]=a[t];f[5]=a[t+1];if(d.contains(e.x,e.y))return!0}return!1};k(b,[{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture!==a&&(this._texture=a))if(a.baseTexture.hasLoaded)this._onTextureUpdate();else a.once("update",this._onTextureUpdate,this)}},{key:"tint",get:function(){return f.utils.rgb2hex(this.tintRgb)},set:function(a){this.tintRgb=f.utils.hex2rgb(a,this.tintRgb)}}]);return b}(f.Container);h["default"]=
b;b.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":62}],155:[function(b,l,h){function g(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}h.__esModule=!0;var k=function(){function b(e,d){for(var a=0;a<d.length;a++){var c=d[a];c.enumerable=c.enumerable||
!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(e,c.key,c)}}return function(e,d,a){d&&b(e.prototype,d);a&&b(e,a);return e}}();b=b("./Plane");b=function(b){function e(d,a,c,h,g){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var k;k=b.call(this,d,4,4);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");k=!k||"object"!==typeof k&&"function"!==typeof k?this:k;var l=k.uvs;l[6]=l[14]=l[22]=l[30]=1;l[25]=
l[27]=l[29]=l[31]=1;k._origWidth=d.width;k._origHeight=d.height;k._uvw=1/k._origWidth;k._uvh=1/k._origHeight;k.width=d.width;k.height=d.height;l[2]=l[10]=l[18]=l[26]=k._uvw*a;l[4]=l[12]=l[20]=l[28]=1-k._uvw*h;l[9]=l[11]=l[13]=l[15]=k._uvh*c;l[17]=l[19]=l[21]=l[23]=1-k._uvh*g;k.leftWidth="undefined"!==typeof a?a:10;k.rightWidth="undefined"!==typeof h?h:10;k.topHeight="undefined"!==typeof c?c:10;k.bottomHeight="undefined"!==typeof g?g:10;return k}g(e,b);e.prototype.updateHorizontalVertices=function(){var b=
this.vertices;b[9]=b[11]=b[13]=b[15]=this._topHeight;b[17]=b[19]=b[21]=b[23]=this._height-this._bottomHeight;b[25]=b[27]=b[29]=b[31]=this._height};e.prototype.updateVerticalVertices=function(){var b=this.vertices;b[2]=b[10]=b[18]=b[26]=this._leftWidth;b[4]=b[12]=b[20]=b[28]=this._width-this._rightWidth;b[6]=b[14]=b[22]=b[30]=this._width};e.prototype._renderCanvas=function(b){var a=b.context;a.globalAlpha=this.worldAlpha;var c=this.worldTransform,e=b.resolution;b.roundPixels?a.setTransform(c.a*e,c.b*
e,c.c*e,c.d*e,c.tx*e|0,c.ty*e|0):a.setTransform(c.a*e,c.b*e,c.c*e,c.d*e,c.tx*e,c.ty*e);e=this._texture.baseTexture;b=e.source;c=e.width;e=e.height;this.drawSegment(a,b,c,e,0,1,10,11);this.drawSegment(a,b,c,e,2,3,12,13);this.drawSegment(a,b,c,e,4,5,14,15);this.drawSegment(a,b,c,e,8,9,18,19);this.drawSegment(a,b,c,e,10,11,20,21);this.drawSegment(a,b,c,e,12,13,22,23);this.drawSegment(a,b,c,e,16,17,26,27);this.drawSegment(a,b,c,e,18,19,28,29);this.drawSegment(a,b,c,e,20,21,30,31)};e.prototype.drawSegment=
function(b,a,c,e,f,h,g,k){var l=this.uvs,u=this.vertices,q=(l[g]-l[f])*c,t=(l[k]-l[h])*e;g=u[g]-u[f];k=u[k]-u[h];1>q&&(q=1);1>t&&(t=1);1>g&&(g=1);1>k&&(k=1);b.drawImage(a,l[f]*c,l[h]*e,q,t,u[f],u[h],g,k)};k(e,[{key:"width",get:function(){return this._width},set:function(b){this._width=b;this.updateVerticalVertices()}},{key:"height",get:function(){return this._height},set:function(b){this._height=b;this.updateHorizontalVertices()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(b){this._leftWidth=
b;var a=this.uvs,c=this.vertices;a[2]=a[10]=a[18]=a[26]=this._uvw*b;c[2]=c[10]=c[18]=c[26]=b;this.dirty=!0}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(b){this._rightWidth=b;var a=this.uvs,c=this.vertices;a[4]=a[12]=a[20]=a[28]=1-this._uvw*b;c[4]=c[12]=c[20]=c[28]=this._width-b;this.dirty=!0}},{key:"topHeight",get:function(){return this._topHeight},set:function(b){this._topHeight=b;var a=this.uvs,c=this.vertices;a[9]=a[11]=a[13]=a[15]=this._uvh*b;c[9]=c[11]=c[13]=c[15]=
b;this.dirty=!0}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(b){this._bottomHeight=b;var a=this.uvs,c=this.vertices;a[17]=a[19]=a[21]=a[23]=1-this._uvh*b;c[17]=c[19]=c[21]=c[23]=this._height-b;this.dirty=!0}}]);return e}((b&&b.__esModule?b:{"default":b})["default"]);h["default"]=b},{"./Plane":156}],156:[function(b,l,h){function g(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=
Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}h.__esModule=!0;var k=(b=b("./Mesh"))&&b.__esModule?b:{"default":b};b=function(b){function e(d,a,c){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");d=b.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?
this:d;d._ready=!0;d.verticesX=a||10;d.verticesY=c||10;d.drawMode=k["default"].DRAW_MODES.TRIANGLES;d.refresh();return d}g(e,b);e.prototype.refresh=function(){for(var b=this.verticesX*this.verticesY,a=[],c=[],e=[],f=this.texture,h=this.verticesX-1,g=this.verticesY-1,k=f.width/h,l=f.height/g,u=0;u<b;u++){var q=u%this.verticesX,t=u/this.verticesX|0;a.push(q*k,t*l);c.push(f._uvs.x0+q/(this.verticesX-1)*(f._uvs.x1-f._uvs.x0),f._uvs.y0+t/(this.verticesY-1)*(f._uvs.y3-f._uvs.y0))}b=h*g;for(f=0;f<b;f++)g=
f%h,k=f/h|0,l=k*this.verticesX+g+1,u=(k+1)*this.verticesX+g,q=(k+1)*this.verticesX+g+1,e.push(k*this.verticesX+g,l,u),e.push(l,q,u);this.vertices=new Float32Array(a);this.uvs=new Float32Array(c);this.colors=new Float32Array([]);this.indices=new Uint16Array(e);this.indexDirty=!0};e.prototype._onTextureUpdate=function(){k["default"].prototype._onTextureUpdate.call(this);this._ready&&this.refresh()};return e}(k["default"]);h["default"]=b},{"./Mesh":154}],157:[function(b,l,h){function g(b,e){if("function"!==
typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}h.__esModule=!0;l=(l=b("./Mesh"))&&l.__esModule?l:{"default":l};var k=function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d]);e["default"]=b;return e}(b("../core"));
b=function(b){function e(d,a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var c;c=b.call(this,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.points=a;c.vertices=new Float32Array(4*a.length);c.uvs=new Float32Array(4*a.length);c.colors=new Float32Array(2*a.length);c.indices=new Uint16Array(2*a.length);c._ready=!0;c.refresh();return c}g(e,b);e.prototype.refresh=
function(){var b=this.points;if(!(1>b.length)&&this._texture._uvs){var a=this.uvs,c=this.indices,e=this.colors,f=this._texture._uvs,h=new k.Point(f.x0,f.y0),f=new k.Point(f.x2-f.x0,f.y2-f.y0);a[0]=0+h.x;a[1]=0+h.y;a[2]=0+h.x;a[3]=Number(f.y)+h.y;e[0]=1;e[1]=1;c[0]=0;c[1]=1;for(var b=b.length,g=1;g<b;g++){var l=4*g,w=g/(b-1);a[l]=w*f.x+h.x;a[l+1]=0+h.y;a[l+2]=w*f.x+h.x;a[l+3]=Number(f.y)+h.y;l=2*g;e[l]=1;e[l+1]=1;l=2*g;c[l]=l;c[l+1]=l+1}this.indexDirty=this.dirty=!0}};e.prototype._onTextureUpdate=
function(){b.prototype._onTextureUpdate.call(this);this._ready&&this.refresh()};e.prototype.updateTransform=function(){var b=this.points;if(!(1>b.length)){for(var a=b[0],c,e,f=this.vertices,h=b.length,g=0;g<h;g++){var k=b[g],l=4*g;c=g<b.length-1?b[g+1]:k;e=-(c.x-a.x);a=c.y-a.y;c=Math.sqrt(a*a+e*e);var u=this._texture.height/2,a=a/c;e/=c;a*=u;e*=u;f[l]=k.x+a;f[l+1]=k.y+e;f[l+2]=k.x-a;f[l+3]=k.y-e;a=k}this.containerUpdateTransform()}};return e}(l["default"]);h["default"]=b},{"../core":62,"./Mesh":154}],
158:[function(b,l,h){h.__esModule=!0;l=function(b){if(b&&b.__esModule)return b;var f={};if(null!=b)for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f[e]=b[e]);f["default"]=b;return f}(b("../../core"));var g=(b=b("../Mesh"))&&b.__esModule?b:{"default":b};b=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=f}b.prototype.render=function(b){var e=this.renderer,d=e.context,a=b.worldTransform,c=e.resolution;e.roundPixels?d.setTransform(a.a*
c,a.b*c,a.c*c,a.d*c,a.tx*c|0,a.ty*c|0):d.setTransform(a.a*c,a.b*c,a.c*c,a.d*c,a.tx*c,a.ty*c);b.drawMode===g["default"].DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(b):this._renderTriangles(b)};b.prototype._renderTriangleMesh=function(b){for(var e=b.vertices.length/2,d=0;d<e-2;d++){var a=2*d;this._renderDrawTriangle(b,a,a+2,a+4)}};b.prototype._renderTriangles=function(b){for(var e=b.indices,d=e.length,a=0;a<d;a+=3)this._renderDrawTriangle(b,2*e[a],2*e[a+1],2*e[a+2])};b.prototype._renderDrawTriangle=
function(b,e,d,a){var c=this.renderer.context,h=b.uvs,g=b.vertices,k=b._texture;if(k.valid){var k=k.baseTexture,l=k.source,z=k.width,w=k.height,u=h[e]*k.width,q=h[d]*k.width,t=h[a]*k.width,r=h[e+1]*k.height,v=h[d+1]*k.height,h=h[a+1]*k.height,B=g[e],H=g[d],K=g[a];e=g[e+1];d=g[d+1];a=g[a+1];if(0<b.canvasPadding){g=b.canvasPadding/b.worldTransform.a;b=b.canvasPadding/b.worldTransform.d;var C=(B+H+K)/3,F=(e+d+a)/3,I=B-C,L=e-F,G=Math.sqrt(I*I+L*L),B=C+I/G*(G+g);e=F+L/G*(G+b);I=H-C;L=d-F;G=Math.sqrt(I*
I+L*L);H=C+I/G*(G+g);d=F+L/G*(G+b);I=K-C;L=a-F;G=Math.sqrt(I*I+L*L);K=C+I/G*(G+g);a=F+L/G*(G+b)}c.save();c.beginPath();c.moveTo(B,e);c.lineTo(H,d);c.lineTo(K,a);c.closePath();c.clip();b=u*v+r*t+q*h-v*t-r*q-u*h;c.transform((B*v+r*K+H*h-v*K-r*H-B*h)/b,(e*v+r*a+d*h-v*a-r*d-e*h)/b,(u*H+B*t+q*K-H*t-B*q-u*K)/b,(u*d+e*t+q*a-d*t-e*q-u*a)/b,(u*v*K+r*H*t+B*q*h-B*v*t-r*q*K-u*H*h)/b,(u*v*a+r*d*t+e*q*h-e*v*t-r*q*a-u*d*h)/b);c.drawImage(l,0,0,z*k.resolution,w*k.resolution,0,0,z,w);c.restore()}};b.prototype.renderMeshFlat=
function(b){var e=this.renderer.context;b=b.vertices;var d=b.length/2;e.beginPath();for(var a=1;a<d-2;++a){var c=2*a,h=b[c+2],g=b[c+3],k=b[c+4],l=b[c+5];e.moveTo(b[c],b[c+1]);e.lineTo(h,g);e.lineTo(k,l)}e.fillStyle="#FF0000";e.fill();e.closePath()};b.prototype.destroy=function(){this.renderer=null};return b}();h["default"]=b;l.CanvasRenderer.registerPlugin("mesh",b)},{"../../core":62,"../Mesh":154}],159:[function(b,l,h){function g(a){return a&&a.__esModule?a:{"default":a}}h.__esModule=!0;var k=b("./Mesh");
Object.defineProperty(h,"Mesh",{enumerable:!0,get:function(){return g(k)["default"]}});var f=b("./webgl/MeshRenderer");Object.defineProperty(h,"MeshRenderer",{enumerable:!0,get:function(){return g(f)["default"]}});var e=b("./canvas/CanvasMeshRenderer");Object.defineProperty(h,"CanvasMeshRenderer",{enumerable:!0,get:function(){return g(e)["default"]}});var d=b("./Plane");Object.defineProperty(h,"Plane",{enumerable:!0,get:function(){return g(d)["default"]}});var a=b("./NineSlicePlane");Object.defineProperty(h,
"NineSlicePlane",{enumerable:!0,get:function(){return g(a)["default"]}});var c=b("./Rope");Object.defineProperty(h,"Rope",{enumerable:!0,get:function(){return g(c)["default"]}})},{"./Mesh":154,"./NineSlicePlane":155,"./Plane":156,"./Rope":157,"./canvas/CanvasMeshRenderer":158,"./webgl/MeshRenderer":160}],160:[function(b,l,h){function g(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,
{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}h.__esModule=!0;h.MeshRenderer=void 0;var k=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(b("../../core")),f=(l=b("pixi-gl-core"))&&l.__esModule?l:{"default":l},e=(b=b("../Mesh"))&&b.__esModule?b:{"default":b};h=h.MeshRenderer=function(b){function a(c){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");c=b.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.shader=null;return c}g(a,b);a.prototype.onContextChange=function(){this.shader=new k.Shader(this.renderer.gl,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n}\n",
"#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n")};a.prototype.render=function(a){var b=this.renderer,d=b.gl,h=a._texture;if(h.valid){var g=a._glDatas[b.CONTEXT_UID];g||(g={shader:this.shader,vertexBuffer:f["default"].GLBuffer.createVertexBuffer(d,a.vertices,d.STREAM_DRAW),uvBuffer:f["default"].GLBuffer.createVertexBuffer(d,
a.uvs,d.STREAM_DRAW),indexBuffer:f["default"].GLBuffer.createIndexBuffer(d,a.indices,d.STATIC_DRAW),vao:new f["default"].VertexArrayObject(d),dirty:a.dirty,indexDirty:a.indexDirty},g.vao=(new f["default"].VertexArrayObject(d)).addIndex(g.indexBuffer).addAttribute(g.vertexBuffer,g.shader.attributes.aVertexPosition,d.FLOAT,!1,8,0).addAttribute(g.uvBuffer,g.shader.attributes.aTextureCoord,d.FLOAT,!1,8,0),a._glDatas[b.CONTEXT_UID]=g);a.dirty!==g.dirty&&(g.dirty=a.dirty,g.uvBuffer.upload());a.indexDirty!==
g.indexDirty&&(g.indexDirty=a.indexDirty,g.indexBuffer.upload());g.vertexBuffer.upload();b.bindShader(g.shader);b.bindTexture(h,0);b.state.setBlendMode(a.blendMode);g.shader.uniforms.translationMatrix=a.worldTransform.toArray(!0);g.shader.uniforms.alpha=a.worldAlpha;g.shader.uniforms.tint=a.tintRgb;b=a.drawMode===e["default"].DRAW_MODES.TRIANGLE_MESH?d.TRIANGLE_STRIP:d.TRIANGLES;g.vao.bind().draw(b,a.indices.length).unbind()}};return a}(k.ObjectRenderer);k.WebGLRenderer.registerPlugin("mesh",h)},
{"../../core":62,"../Mesh":154,"pixi-gl-core":12}],161:[function(b,l,h){function g(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}h.__esModule=!0;var k=function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,
d)&&(e[d]=b[d]);e["default"]=b;return e}(b("../core"));b=function(b){function e(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,a=arguments[1],c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var g;g=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;16384<c&&(c=16384);c>d&&
(c=d);g._properties=[!1,!0,!1,!1,!1];g._maxSize=d;g._batchSize=c;g._glBuffers={};g._bufferToUpdate=0;g.interactiveChildren=!1;g.blendMode=k.BLEND_MODES.NORMAL;g.roundPixels=!0;g.baseTexture=null;g.setProperties(a);return g}g(e,b);e.prototype.setProperties=function(b){b&&(this._properties[0]="scale"in b?!!b.scale:this._properties[0],this._properties[1]="position"in b?!!b.position:this._properties[1],this._properties[2]="rotation"in b?!!b.rotation:this._properties[2],this._properties[3]="uvs"in b?!!b.uvs:
this._properties[3],this._properties[4]="alpha"in b?!!b.alpha:this._properties[4])};e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};e.prototype.renderWebGL=function(b){var a=this;if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){if(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded))this.baseTexture.once("update",function(){return a.onChildrenChange(0)});b.setObjectRenderer(b.plugins.particle);
b.plugins.particle.render(this)}};e.prototype.onChildrenChange=function(b){b=Math.floor(b/this._batchSize);b<this._bufferToUpdate&&(this._bufferToUpdate=b)};e.prototype.renderCanvas=function(b){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){var a=b.context,c=this.worldTransform,e=!0,f,g,h,k,l=b.blendModes[this.blendMode];l!==a.globalCompositeOperation&&(a.globalCompositeOperation=l);a.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(l=0;l<this.children.length;++l){var u=
this.children[l];if(u.visible){var q=u.texture.frame;a.globalAlpha=this.worldAlpha*u.alpha;0===u.rotation%(2*Math.PI)?(e&&(a.setTransform(c.a,c.b,c.c,c.d,c.tx*b.resolution,c.ty*b.resolution),e=!1),f=u.anchor.x*-q.width*u.scale.x+u.position.x+.5,g=u.anchor.y*-q.height*u.scale.y+u.position.y+.5,h=q.width*u.scale.x,k=q.height*u.scale.y):(e||(e=!0),u.displayObjectUpdateTransform(),f=u.worldTransform,b.roundPixels?a.setTransform(f.a,f.b,f.c,f.d,f.tx*b.resolution|0,f.ty*b.resolution|0):a.setTransform(f.a,
f.b,f.c,f.d,f.tx*b.resolution,f.ty*b.resolution),f=u.anchor.x*-q.width+.5,g=u.anchor.y*-q.height+.5,h=q.width,k=q.height);var t=u.texture.baseTexture.resolution;a.drawImage(u.texture.baseTexture.source,q.x*t,q.y*t,q.width*t,q.height*t,f*t,g*t,h*t,k*t)}}}};e.prototype.destroy=function(d){b.prototype.destroy.call(this,d);if(this._buffers)for(d=0;d<this._buffers.length;++d)this._buffers[d].destroy();this._buffers=this._properties=null};return e}(k.Container);h["default"]=b},{"../core":62}],162:[function(b,
l,h){h.__esModule=!0;var g=b("./ParticleContainer");Object.defineProperty(h,"ParticleContainer",{enumerable:!0,get:function(){return(g&&g.__esModule?g:{"default":g})["default"]}});var k=b("./webgl/ParticleRenderer");Object.defineProperty(h,"ParticleRenderer",{enumerable:!0,get:function(){return(k&&k.__esModule?k:{"default":k})["default"]}})},{"./ParticleContainer":161,"./webgl/ParticleRenderer":164}],163:[function(b,l,h){h.__esModule=!0;var g=(l=b("pixi-gl-core"))&&l.__esModule?l:{"default":l},k=
(b=b("../../core/utils/createIndicesForQuads"))&&b.__esModule?b:{"default":b};b=function(){function b(e,d,a,c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.gl=e;this.vertSize=2;this.vertByteSize=4*this.vertSize;this.size=c;this.dynamicProperties=[];this.staticProperties=[];for(e=0;e<d.length;++e)c=d[e],c={attribute:c.attribute,size:c.size,uploadFunction:c.uploadFunction,offset:c.offset},a[e]?this.dynamicProperties.push(c):this.staticProperties.push(c);this.staticStride=
0;this.staticData=this.staticBuffer=null;this.dynamicStride=0;this.dynamicData=this.dynamicBuffer=null;this.initBuffers()}b.prototype.initBuffers=function(){var b=this.gl,d=0;this.indices=(0,k["default"])(this.size);this.indexBuffer=g["default"].GLBuffer.createIndexBuffer(b,this.indices,b.STATIC_DRAW);for(var a=this.dynamicStride=0;a<this.dynamicProperties.length;++a){var c=this.dynamicProperties[a];c.offset=d;d+=c.size;this.dynamicStride+=c.size}this.dynamicData=new Float32Array(this.size*this.dynamicStride*
4);this.dynamicBuffer=g["default"].GLBuffer.createVertexBuffer(b,this.dynamicData,b.STREAM_DRAW);for(a=this.staticStride=d=0;a<this.staticProperties.length;++a)c=this.staticProperties[a],c.offset=d,d+=c.size,this.staticStride+=c.size;this.staticData=new Float32Array(this.size*this.staticStride*4);this.staticBuffer=g["default"].GLBuffer.createVertexBuffer(b,this.staticData,b.STATIC_DRAW);this.vao=(new g["default"].VertexArrayObject(b)).addIndex(this.indexBuffer);for(d=0;d<this.dynamicProperties.length;++d)a=
this.dynamicProperties[d],this.vao.addAttribute(this.dynamicBuffer,a.attribute,b.FLOAT,!1,4*this.dynamicStride,4*a.offset);for(d=0;d<this.staticProperties.length;++d)a=this.staticProperties[d],this.vao.addAttribute(this.staticBuffer,a.attribute,b.FLOAT,!1,4*this.staticStride,4*a.offset)};b.prototype.uploadDynamic=function(b,d,a){for(var c=0;c<this.dynamicProperties.length;c++){var f=this.dynamicProperties[c];f.uploadFunction(b,d,a,this.dynamicData,this.dynamicStride,f.offset)}this.dynamicBuffer.upload()};
b.prototype.uploadStatic=function(b,d,a){for(var c=0;c<this.staticProperties.length;c++){var f=this.staticProperties[c];f.uploadFunction(b,d,a,this.staticData,this.staticStride,f.offset)}this.staticBuffer.upload()};b.prototype.bind=function(){this.vao.bind()};b.prototype.destroy=function(){this.dynamicData=this.dynamicProperties=null;this.dynamicBuffer.destroy();this.staticData=this.staticProperties=null;this.staticBuffer.destroy()};return b}();h["default"]=b},{"../../core/utils/createIndicesForQuads":114,
"pixi-gl-core":12}],164:[function(b,l,h){function g(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}h.__esModule=!0;var k=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=
b[c]);a["default"]=b;return a}(b("../../core")),f=(l=b("./ParticleShader"))&&l.__esModule?l:{"default":l},e=(b=b("./ParticleBuffer"))&&b.__esModule?b:{"default":b};b=function(b){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");c=b.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.shader=null;c.indexBuffer=null;c.properties=null;c.tempMatrix=
new k.Matrix;c.CONTEXT_UID=0;return c}g(a,b);a.prototype.onContextChange=function(){var a=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=new f["default"](a);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,
size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]};a.prototype.start=function(){this.renderer.bindShader(this.shader)};a.prototype.render=function(a){var b=a.children,d=a._maxSize,e=a._batchSize,f=b.length;if(0!==f){f>d&&(f=d);(d=a._glBuffers[this.renderer.CONTEXT_UID])||(d=a._glBuffers[this.renderer.CONTEXT_UID]=this.generateBuffers(a));this.renderer.setBlendMode(a.blendMode);var g=this.renderer.gl,h=a.worldTransform.copy(this.tempMatrix);
h.prepend(this.renderer._activeRenderTarget.projectionMatrix);this.shader.uniforms.projectionMatrix=h.toArray(!0);this.shader.uniforms.uAlpha=a.worldAlpha;this.renderer.bindTexture(b[0]._texture.baseTexture);for(var k=h=0;h<f;h+=e,k+=1){var l=f-h;l>e&&(l=e);var t=d[k];t.uploadDynamic(b,h,l);a._bufferToUpdate===k&&(t.uploadStatic(b,h,l),a._bufferToUpdate=k+1);t.vao.bind().draw(g.TRIANGLES,6*l).unbind()}}};a.prototype.generateBuffers=function(a){var b=this.renderer.gl,d=[],f=a._maxSize,g=a._batchSize;
a=a._properties;for(var h=0;h<f;h+=g)d.push(new e["default"](b,this.properties,a,g));return d};a.prototype.uploadVertices=function(a,b,d,e,f,g){for(var h,k,l,t,r=0;r<d;++r){t=a[b+r];h=t._texture;var v=t.scale.x,B=t.scale.y;l=h.trim;var H=h.orig;l?(k=l.x-t.anchor.x*H.width,h=k+l.width,t=l.y-t.anchor.y*H.height,l=t+l.height):(h=H.width*(1-t.anchor.x),k=H.width*-t.anchor.x,l=H.height*(1-t.anchor.y),t=H.height*-t.anchor.y);e[g]=k*v;e[g+1]=t*B;e[g+f]=h*v;e[g+f+1]=t*B;e[g+2*f]=h*v;e[g+2*f+1]=l*B;e[g+3*
f]=k*v;e[g+3*f+1]=l*B;g+=4*f}};a.prototype.uploadPosition=function(a,b,d,e,f,g){for(var h=0;h<d;h++){var k=a[b+h].position;e[g]=k.x;e[g+1]=k.y;e[g+f]=k.x;e[g+f+1]=k.y;e[g+2*f]=k.x;e[g+2*f+1]=k.y;e[g+3*f]=k.x;e[g+3*f+1]=k.y;g+=4*f}};a.prototype.uploadRotation=function(a,b,d,e,f,g){for(var h=0;h<d;h++){var k=a[b+h].rotation;e[g]=k;e[g+f]=k;e[g+2*f]=k;e[g+3*f]=k;g+=4*f}};a.prototype.uploadUvs=function(a,b,d,e,f,g){for(var h=0;h<d;++h){var k=a[b+h]._texture._uvs;k?(e[g]=k.x0,e[g+1]=k.y0,e[g+f]=k.x1,e[g+
f+1]=k.y1,e[g+2*f]=k.x2,e[g+2*f+1]=k.y2,e[g+3*f]=k.x3,e[g+3*f+1]=k.y3):(e[g]=0,e[g+1]=0,e[g+f]=0,e[g+f+1]=0,e[g+2*f]=0,e[g+2*f+1]=0,e[g+3*f]=0,e[g+3*f+1]=0);g+=4*f}};a.prototype.uploadAlpha=function(a,b,d,e,f,g){for(var h=0;h<d;h++){var k=a[b+h].alpha;e[g]=k;e[g+f]=k;e[g+2*f]=k;e[g+3*f]=k;g+=4*f}};a.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer);b.prototype.destroy.call(this);this.shader.destroy();this.tempMatrix=this.indices=null};return a}(k.ObjectRenderer);
h["default"]=b;k.WebGLRenderer.registerPlugin("particle",b)},{"../../core":62,"./ParticleBuffer":163,"./ParticleShader":165}],165:[function(b,l,h){function g(b,f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}h.__esModule=!0;b=b("../../core/Shader");
b=function(b){function f(e){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");e=b.call(this,e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aColor;\nattribute vec2 aPositionCoord;\nattribute vec2 aScale;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvarying float vColor;\nvoid main(void){\n   vec2 v = aVertexPosition;\n   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor;\n}",
"varying vec2 vTextureCoord;\nvarying float vColor;\nuniform sampler2D uSampler;\nuniform float uAlpha;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;\n  if (color.a == 0.0) discard;\n  gl_FragColor = color;\n}");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?this:e}g(f,b);return f}((b&&b.__esModule?b:{"default":b})["default"]);h["default"]=b},{"../../core/Shader":42}],
166:[function(b,l,h){Math.sign||(Math.sign=function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1})},{}],167:[function(b,l,h){b=(b=b("object-assign"))&&b.__esModule?b:{"default":b};Object.assign||(Object.assign=b["default"])},{"object-assign":5}],168:[function(b,l,h){b("./Object.assign");b("./requestAnimationFrame");b("./Math.sign");window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||
(window.Uint16Array=Array)},{"./Math.sign":166,"./Object.assign":167,"./requestAnimationFrame":169}],169:[function(b,l,h){(function(b){Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()});b.performance&&b.performance.now||function(){var a=Date.now();b.performance||(b.performance={});b.performance.now=function(){return Date.now()-a}}();for(var h=Date.now(),f=["ms","moz","webkit","o"],e=0;e<f.length&&!b.requestAnimationFrame;++e){var d=f[e];b.requestAnimationFrame=b[d+
"RequestAnimationFrame"];b.cancelAnimationFrame=b[d+"CancelAnimationFrame"]||b[d+"CancelRequestAnimationFrame"]}b.requestAnimationFrame||(b.requestAnimationFrame=function(a){if("function"!==typeof a)throw new TypeError(a+"is not a function");var b=Date.now(),d=16+h-b;0>d&&(d=0);h=b;return setTimeout(function(){h=Date.now();a(performance.now())},d)});b.cancelAnimationFrame||(b.cancelAnimationFrame=function(a){return clearTimeout(a)})}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?
self:"undefined"!==typeof window?window:{})},{}],170:[function(b,l,h){function g(b,a){if(a instanceof f.BaseTexture){var c=a.source;b.ctx.drawImage(c,0,0,0===c.width?b.canvas.width:Math.min(b.canvas.width,c.width),0===c.height?b.canvas.height:Math.min(b.canvas.height,c.height),0,0,b.canvas.width,b.canvas.height);return!0}return!1}function k(b,a){if(b instanceof f.BaseTexture)return-1===a.indexOf(b)&&a.push(b),!0;if(b._texture&&b._texture instanceof f.Texture){var c=b._texture.baseTexture;-1===a.indexOf(c)&&
a.push(c);return!0}return!1}h.__esModule=!0;var f=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(b("../../core")),e=f.ticker.shared;b=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=a;this.canvas=document.createElement("canvas");this.canvas.width=16;this.canvas.height=16;this.ctx=this.canvas.getContext("2d");this.queue=
[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.register(k,g)}b.prototype.upload=function(a,c){"function"===typeof a&&(c=a,a=null);a&&this.add(a);this.queue.length?(this.numLeft=b.UPLOADS_PER_FRAME,c&&this.completes.push(c),this.ticking||(this.ticking=!0,e.add(this.tick,this))):c&&c()};b.prototype.tick=function(){for(;this.queue.length&&0<this.numLeft;){for(var a=this.queue[0],c=!1,f=0,g=this.uploadHooks.length;f<g;f++)if(this.uploadHooks[f](this,a)){this.numLeft--;
this.queue.shift();c=!0;break}c||this.queue.shift()}if(this.queue.length)this.numLeft=b.UPLOADS_PER_FRAME;else for(this.ticking=!1,e.remove(this.tick,this),a=this.completes.slice(0),c=this.completes.length=0,f=a.length;c<f;c++)a[c]()};b.prototype.register=function(a,b){a&&this.addHooks.push(a);b&&this.uploadHooks.push(b);return this};b.prototype.add=function(a){for(var b=0,d=this.addHooks.length;b<d&&!this.addHooks[b](a,this.queue);b++);if(a instanceof f.Container)for(b=a.children.length-1;0<=b;b--)this.add(a.children[b]);
return this};b.prototype.destroy=function(){this.ticking&&e.remove(this.tick,this);this.ticking=!1;this.canvas=this.ctx=this.queue=this.completes=this.renderer=this.uploadHooks=this.addHooks=null};return b}();h["default"]=b;b.UPLOADS_PER_FRAME=4;f.CanvasRenderer.registerPlugin("prepare",b)},{"../../core":62}],171:[function(b,l,h){h.__esModule=!0;var g=b("./webgl/WebGLPrepare");Object.defineProperty(h,"webgl",{enumerable:!0,get:function(){return(g&&g.__esModule?g:{"default":g})["default"]}});var k=
b("./canvas/CanvasPrepare");Object.defineProperty(h,"canvas",{enumerable:!0,get:function(){return(k&&k.__esModule?k:{"default":k})["default"]}})},{"./canvas/CanvasPrepare":170,"./webgl/WebGLPrepare":172}],172:[function(b,l,h){function g(a,b){return b instanceof d.BaseTexture?(a.textureManager.updateTexture(b),!0):!1}function k(a,b){return b instanceof d.Graphics?(a.plugins.graphics.updateGraphics(b),!0):!1}function f(a,b){if(a instanceof d.BaseTexture)return-1===b.indexOf(a)&&b.push(a),!0;if(a._texture&&
a._texture instanceof d.Texture){var e=a._texture.baseTexture;-1===b.indexOf(e)&&b.push(e);return!0}return!1}function e(a,b){return a instanceof d.Graphics?(b.push(a),!0):!1}h.__esModule=!0;var d=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b["default"]=a;return b}(b("../../core")),a=d.ticker.shared;b=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=
a;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.register(f,g).register(e,k)}b.prototype.upload=function(d,e){"function"===typeof d&&(e=d,d=null);d&&this.add(d);this.queue.length?(this.numLeft=b.UPLOADS_PER_FRAME,e&&this.completes.push(e),this.ticking||(this.ticking=!0,a.add(this.tick,this))):e&&e()};b.prototype.tick=function(){for(;this.queue.length&&0<this.numLeft;){for(var d=this.queue[0],e=!1,f=0,g=this.uploadHooks.length;f<g;f++)if(this.uploadHooks[f](this.renderer,
d)){this.numLeft--;this.queue.shift();e=!0;break}e||this.queue.shift()}if(this.queue.length)this.numLeft=b.UPLOADS_PER_FRAME;else for(this.ticking=!1,a.remove(this.tick,this),d=this.completes.slice(0),e=this.completes.length=0,f=d.length;e<f;e++)d[e]()};b.prototype.register=function(a,b){a&&this.addHooks.push(a);b&&this.uploadHooks.push(b);return this};b.prototype.add=function(a){for(var b=0,c=this.addHooks.length;b<c&&!this.addHooks[b](a,this.queue);b++);if(a instanceof d.Container)for(b=a.children.length-
1;0<=b;b--)this.add(a.children[b]);return this};b.prototype.destroy=function(){this.ticking&&a.remove(this.tick,this);this.ticking=!1;this.queue=this.completes=this.renderer=this.uploadHooks=this.addHooks=null};return b}();h["default"]=b;b.UPLOADS_PER_FRAME=4;d.WebGLRenderer.registerPlugin("prepare",b)},{"../../core":62}],173:[function(b,l,h){(function(g){function k(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=
a;return b}h.__esModule=!0;h.loader=h.prepare=h.particles=h.mesh=h.loaders=h.interaction=h.filters=h.extras=h.extract=h.accessibility=void 0;var f=b("./deprecation");Object.keys(f).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(h,a,{enumerable:!0,get:function(){return f[a]}})});var e=b("./core");Object.keys(e).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(h,a,{enumerable:!0,get:function(){return e[a]}})});b("./polyfill");var d=b("./accessibility"),
d=k(d),a=b("./extract"),a=k(a),c=b("./extras"),c=k(c),l=b("./filters"),l=k(l),p=b("./interaction"),p=k(p),n=b("./loaders"),n=k(n),y=b("./mesh"),y=k(y),z=b("./particles"),z=k(z),w=b("./prepare"),w=k(w);h.accessibility=d;h.extract=a;h.extras=c;h.filters=l;h.interaction=p;h.loaders=n;h.mesh=y;h.particles=z;h.prepare=w;d=new n.Loader;h.loader=d;g.PIXI=h}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./accessibility":41,"./core":62,
"./deprecation":119,"./extract":121,"./extras":130,"./filters":141,"./interaction":147,"./loaders":150,"./mesh":159,"./particles":162,"./polyfill":168,"./prepare":171}]},{},[173])(173)});PIXI.TransparencyHitArea=function(x){this.sprite=x};PIXI.TransparencyHitArea.create=function(x,b){var l;l=b?new PIXI.WebGLTransparencyHitArea(x):new PIXI.CanvasTransparencyHitArea(x);l.init();return l};PIXI.TransparencyHitArea.prototype.init=function(){};
PIXI.TransparencyHitArea.prototype.contains=function(x,b){if(0===Math.abs(this.sprite.width)||0===Math.abs(this.sprite.height))return!1;var l=this.sprite.texture.frame.width,h=this.sprite.texture.frame.height;x+=this.sprite.anchor.x*l;b+=this.sprite.anchor.y*h;return 0<=x&&x<=l&&0<=b&&b<=h?!this.isTextureTransparentAt(Math.round(x+this.sprite.texture.frame.x),Math.round(b+this.sprite.texture.frame.y)):!1};PIXI.TransparencyHitArea.prototype.getTexture=function(){return this.sprite.texture};
PIXI.CanvasTransparencyHitArea=function(x){PIXI.TransparencyHitArea.call(this,x);this.textureWidth=this.textureData=null};PIXI.CanvasTransparencyHitArea.prototype=Object.create(PIXI.TransparencyHitArea.prototype);PIXI.CanvasTransparencyHitArea.constructor=PIXI.CanvasTransparencyHitArea;PIXI.CanvasTransparencyHitArea.prototype.clone=function(){return new PIXI.CanvasTransparencyHitArea(this.sprite)};
PIXI.CanvasTransparencyHitArea.prototype.init=function(){PIXI.TransparencyHitArea.prototype.init.call(this);null===PIXI.CanvasTransparencyHitArea.cachedRenderer&&(PIXI.CanvasTransparencyHitArea.cachedRenderer=new PIXI.CanvasRenderer(1,1));this.initTextureData()};
PIXI.CanvasTransparencyHitArea.prototype.initTextureData=function(){if(!this.textureData){var x=this.getTexture(),b=x.baseTexture.source;this.textureWidth=b.width;b=b.src;void 0===PIXI.CanvasTransparencyHitArea.TextureData[b]&&(x=this.createTextureData(x),PIXI.CanvasTransparencyHitArea.TextureData[b]=x);this.textureData=PIXI.CanvasTransparencyHitArea.TextureData[b]}};
PIXI.CanvasTransparencyHitArea.prototype.createTextureData=function(x){x=x.baseTexture.source;var b=PIXI.CanvasTransparencyHitArea.cachedRenderer,l=b.view;l.width=x.width;l.height=x.height;b=b.view.getContext("2d");b.clearRect(0,0,x.width,x.height);b.drawImage(x,0,0);return b.getImageData(0,0,x.width,x.height).data};
PIXI.CanvasTransparencyHitArea.prototype.isTextureTransparentAt=function(x,b){if(!this.textureData)throw Error("CanvasTransparencyHitArea#init() not called.");return 1>this.textureData[4*(x+b*this.textureWidth)+3]};PIXI.CanvasTransparencyHitArea.TextureData=[];PIXI.CanvasTransparencyHitArea.cachedRenderer=null;PIXI.WebGLTransparencyHitArea=function(x){PIXI.TransparencyHitArea.call(this,x);this.textureWidth=this.textureData=null};PIXI.WebGLTransparencyHitArea.prototype=Object.create(PIXI.TransparencyHitArea.prototype);
PIXI.WebGLTransparencyHitArea.constructor=PIXI.WebGLTransparencyHitArea;PIXI.WebGLTransparencyHitArea.prototype.clone=function(){return new PIXI.WebGLTransparencyHitArea(this.sprite)};PIXI.WebGLTransparencyHitArea.prototype.init=function(){PIXI.TransparencyHitArea.prototype.init.call(this);null===PIXI.WebGLTransparencyHitArea.cachedRenderer&&(PIXI.WebGLTransparencyHitArea.cachedRenderer=new PIXI.WebGLRenderer(1,1));this.initTextureData()};
PIXI.WebGLTransparencyHitArea.prototype.initTextureData=function(){if(!this.textureData){var x=this.getTexture(),b=x.baseTexture.source;this.textureWidth=b.width;b=b.src;void 0===PIXI.WebGLTransparencyHitArea.TextureData[b]&&(x=this.createTextureData(x),PIXI.WebGLTransparencyHitArea.TextureData[b]=x);this.textureData=PIXI.WebGLTransparencyHitArea.TextureData[b]}};
PIXI.WebGLTransparencyHitArea.prototype.createTextureData=function(x){var b=x.baseTexture.source,l=PIXI.WebGLTransparencyHitArea.cachedRenderer.view;l.width=b.width;l.height=b.height;var l=PIXI.WebGLTransparencyHitArea.cachedRenderer.gl,h=l.createFramebuffer();l.bindFramebuffer(l.FRAMEBUFFER,h);void 0===x.baseTexture._glTextures[l.id]&&PIXI.WebGLTransparencyHitArea.cachedRenderer.updateTexture(x.baseTexture);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,x.baseTexture._glTextures[l.id],
0);x=new Uint8Array(b.width*b.height*4);try{l.readPixels(0,0,b.width,b.height,l.RGBA,l.UNSIGNED_BYTE,x)}catch(g){console.log(error)}l.bindFramebuffer(l.FRAMEBUFFER,null);return x};PIXI.WebGLTransparencyHitArea.prototype.isTextureTransparentAt=function(x,b){if(!this.textureData)throw Error("WebGLTransparencyHitArea#init() not called.");return 255>this.textureData[4*(x+b*this.textureWidth)+3]};PIXI.WebGLTransparencyHitArea.TextureData=[];PIXI.WebGLTransparencyHitArea.cachedRenderer=null;function getCurvePoints(x,b,l,h){function g(b,c,e,f){for(var g=2,h;g<e;g+=2){var k=b[g],m=b[g+1],n=b[g+2],p=b[g+3],w=(n-b[g-2])*f,x=(p-b[g-1])*f,y=(b[g+4]-k)*f,z=(b[g+5]-m)*f,O=0,N,A,E,D;for(h=0;h<l;h++)N=c[O++],A=c[O++],E=c[O++],D=c[O++],a[d++]=N*k+A*n+E*w+D*y,a[d++]=N*m+A*p+E*x+D*z}}b="number"===typeof b?b:.5;l="number"===typeof l?l:25;var k,f=1,e=x.length,d=0,a=new Float32Array((e-2)*l+2+(h?2*l:0)),c=new Float32Array(4*(l+2)),m=4;k=x.slice(0);h?(k.unshift(x[e-1]),k.unshift(x[e-2]),k.push(x[0],
x[1])):(k.unshift(x[1]),k.unshift(x[0]),k.push(x[e-2],x[e-1]));for(c[0]=1;f<l;f++){var p=f/l,n=p*p,y=n*p,z=2*y,w=3*n;c[m++]=z-w+1;c[m++]=w-z;c[m++]=y-2*n+p;c[m++]=y-n}c[++m]=1;g(k,c,e,b);h&&(k=[],k.push(x[e-4],x[e-3],x[e-2],x[e-1],x[0],x[1],x[2],x[3]),g(k,c,4,b));e=h?0:x.length-2;a[d++]=x[e++];a[d]=x[e];return a}"undefined"!==typeof exports&&(exports.getCurvePoints=getCurvePoints);

//# sourceMappingURL=combined_mini.js.map